var EO=Object.create;var Za=Object.defineProperty,DO=Object.defineProperties,CO=Object.getOwnPropertyDescriptor,xO=Object.getOwnPropertyDescriptors,IO=Object.getOwnPropertyNames,Kw=Object.getOwnPropertySymbols,SO=Object.getPrototypeOf,Zw=Object.prototype.hasOwnProperty,TO=Object.prototype.propertyIsEnumerable;var Yw=(t,n,e)=>n in t?Za(t,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[n]=e,I=(t,n)=>{for(var e in n||={})Zw.call(n,e)&&Yw(t,e,n[e]);if(Kw)for(var e of Kw(n))TO.call(n,e)&&Yw(t,e,n[e]);return t},Q=(t,n)=>DO(t,xO(n));var F=(t,n)=>()=>(t&&(n=t(t=0)),n);var Rt=(t,n)=>()=>(n||t((n={exports:{}}).exports,n),n.exports),Ja=(t,n)=>{for(var e in n)Za(t,e,{get:n[e],enumerable:!0})},Jw=(t,n,e,r)=>{if(n&&typeof n=="object"||typeof n=="function")for(let i of IO(n))!Zw.call(t,i)&&i!==e&&Za(t,i,{get:()=>n[i],enumerable:!(r=CO(n,i))||r.enumerable});return t};var MO=(t,n,e)=>(e=t!=null?EO(SO(t)):{},Jw(n||!t||!t.__esModule?Za(e,"default",{value:t,enumerable:!0}):e,t)),zt=t=>Jw(Za({},"__esModule",{value:!0}),t);var Ji={};Ja(Ji,{__addDisposableResource:()=>P0,__assign:()=>Mu,__asyncDelegator:()=>T0,__asyncGenerator:()=>Ru,__asyncValues:()=>Ou,__await:()=>$n,__awaiter:()=>M,__classPrivateFieldGet:()=>R0,__classPrivateFieldIn:()=>N0,__classPrivateFieldSet:()=>O0,__createBinding:()=>ku,__decorate:()=>m0,__disposeResources:()=>F0,__esDecorate:()=>v0,__exportStar:()=>C0,__extends:()=>g0,__generator:()=>D0,__importDefault:()=>k0,__importStar:()=>A0,__makeTemplateObject:()=>M0,__metadata:()=>E0,__param:()=>y0,__propKey:()=>_0,__read:()=>bg,__rest:()=>pr,__rewriteRelativeImportExtension:()=>L0,__runInitializers:()=>b0,__setFunctionName:()=>w0,__spread:()=>x0,__spreadArray:()=>S0,__spreadArrays:()=>I0,__values:()=>Au,default:()=>WO});function g0(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");yg(t,n);function e(){this.constructor=t}t.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)}function pr(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e}function m0(t,n,e,r){var i=arguments.length,o=i<3?n:r===null?r=Object.getOwnPropertyDescriptor(n,e):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,n,e,r);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(n,e,o):s(n,e))||o);return i>3&&o&&Object.defineProperty(n,e,o),o}function y0(t,n){return function(e,r){n(e,r,t)}}function v0(t,n,e,r,i,o){function s(y){if(y!==void 0&&typeof y!="function")throw new TypeError("Function expected");return y}for(var a=r.kind,c=a==="getter"?"get":a==="setter"?"set":"value",l=!n&&t?r.static?t:t.prototype:null,u=n||(l?Object.getOwnPropertyDescriptor(l,r.name):{}),d,f=!1,h=e.length-1;h>=0;h--){var p={};for(var g in r)p[g]=g==="access"?{}:r[g];for(var g in r.access)p.access[g]=r.access[g];p.addInitializer=function(y){if(f)throw new TypeError("Cannot add initializers after decoration has completed");o.push(s(y||null))};var m=(0,e[h])(a==="accessor"?{get:u.get,set:u.set}:u[c],p);if(a==="accessor"){if(m===void 0)continue;if(m===null||typeof m!="object")throw new TypeError("Object expected");(d=s(m.get))&&(u.get=d),(d=s(m.set))&&(u.set=d),(d=s(m.init))&&i.unshift(d)}else(d=s(m))&&(a==="field"?i.unshift(d):u[c]=d)}l&&Object.defineProperty(l,r.name,u),f=!0}function b0(t,n,e){for(var r=arguments.length>2,i=0;i<n.length;i++)e=r?n[i].call(t,e):n[i].call(t);return r?e:void 0}function _0(t){return typeof t=="symbol"?t:"".concat(t)}function w0(t,n,e){return typeof n=="symbol"&&(n=n.description?"[".concat(n.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:e?"".concat(e," ",n):n})}function E0(t,n){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,n)}function M(t,n,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(t,n||[])).next())})}function D0(t,n){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,l[0]&&(e=0)),e;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return e.label++,{value:l[1],done:!1};case 5:e.label++,i=l[1],l=[0];continue;case 7:l=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){e=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){e.label=l[1];break}if(l[0]===6&&e.label<o[1]){e.label=o[1],o=l;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(l);break}o[2]&&e.ops.pop(),e.trys.pop();continue}l=n.call(t,e)}catch(u){l=[6,u],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function C0(t,n){for(var e in t)e!=="default"&&!Object.prototype.hasOwnProperty.call(n,e)&&ku(n,t,e)}function Au(t){var n=typeof Symbol=="function"&&Symbol.iterator,e=n&&t[n],r=0;if(e)return e.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function bg(t,n){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var r=e.call(t),i,o=[],s;try{for(;(n===void 0||n-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(s)throw s.error}}return o}function x0(){for(var t=[],n=0;n<arguments.length;n++)t=t.concat(bg(arguments[n]));return t}function I0(){for(var t=0,n=0,e=arguments.length;n<e;n++)t+=arguments[n].length;for(var r=Array(t),i=0,n=0;n<e;n++)for(var o=arguments[n],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function S0(t,n,e){if(e||arguments.length===2)for(var r=0,i=n.length,o;r<i;r++)(o||!(r in n))&&(o||(o=Array.prototype.slice.call(n,0,r)),o[r]=n[r]);return t.concat(o||Array.prototype.slice.call(n))}function $n(t){return this instanceof $n?(this.v=t,this):new $n(t)}function Ru(t,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=e.apply(t,n||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(h){return function(p){return Promise.resolve(p).then(h,d)}}function a(h,p){r[h]&&(i[h]=function(g){return new Promise(function(m,y){o.push([h,g,m,y])>1||c(h,g)})},p&&(i[h]=p(i[h])))}function c(h,p){try{l(r[h](p))}catch(g){f(o[0][3],g)}}function l(h){h.value instanceof $n?Promise.resolve(h.value.v).then(u,d):f(o[0][2],h)}function u(h){c("next",h)}function d(h){c("throw",h)}function f(h,p){h(p),o.shift(),o.length&&c(o[0][0],o[0][1])}}function T0(t){var n,e;return n={},r("next"),r("throw",function(i){throw i}),r("return"),n[Symbol.iterator]=function(){return this},n;function r(i,o){n[i]=t[i]?function(s){return(e=!e)?{value:$n(t[i](s)),done:!1}:o?o(s):s}:o}}function Ou(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t[Symbol.asyncIterator],e;return n?n.call(t):(t=typeof Au=="function"?Au(t):t[Symbol.iterator](),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(o){e[o]=t[o]&&function(s){return new Promise(function(a,c){s=t[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}function M0(t,n){return Object.defineProperty?Object.defineProperty(t,"raw",{value:n}):t.raw=n,t}function A0(t){if(t&&t.__esModule)return t;var n={};if(t!=null)for(var e=vg(t),r=0;r<e.length;r++)e[r]!=="default"&&ku(n,t,e[r]);return HO(n,t),n}function k0(t){return t&&t.__esModule?t:{default:t}}function R0(t,n,e,r){if(e==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof n=="function"?t!==n||!r:!n.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e==="m"?r:e==="a"?r.call(t):r?r.value:n.get(t)}function O0(t,n,e,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof n=="function"?t!==n||!i:!n.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,e):i?i.value=e:n.set(t,e),e}function N0(t,n){if(n===null||typeof n!="object"&&typeof n!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?n===t:t.has(n)}function P0(t,n,e){if(n!=null){if(typeof n!="object"&&typeof n!="function")throw new TypeError("Object expected.");var r,i;if(e){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=n[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=n[Symbol.dispose],e&&(i=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(o){return Promise.reject(o)}}),t.stack.push({value:n,dispose:r,async:e})}else e&&t.stack.push({async:!0});return n}function F0(t){function n(o){t.error=t.hasError?new zO(o,t.error,"An error was suppressed during disposal."):o,t.hasError=!0}var e,r=0;function i(){for(;e=t.stack.pop();)try{if(!e.async&&r===1)return r=0,t.stack.push(e),Promise.resolve().then(i);if(e.dispose){var o=e.dispose.call(e.value);if(e.async)return r|=2,Promise.resolve(o).then(i,function(s){return n(s),i()})}else r|=1}catch(s){n(s)}if(r===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return i()}function L0(t,n){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(e,r,i,o,s){return r?n?".jsx":".js":i&&(!o||!s)?e:i+o+"."+s.toLowerCase()+"js"}):t}var yg,Mu,ku,HO,vg,zO,WO,Me=F(()=>{"use strict";yg=function(t,n){return yg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},yg(t,n)};Mu=function(){return Mu=Object.assign||function(n){for(var e,r=1,i=arguments.length;r<i;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},Mu.apply(this,arguments)};ku=Object.create?function(t,n,e,r){r===void 0&&(r=e);var i=Object.getOwnPropertyDescriptor(n,e);(!i||("get"in i?!n.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return n[e]}}),Object.defineProperty(t,r,i)}:function(t,n,e,r){r===void 0&&(r=e),t[r]=n[e]};HO=Object.create?function(t,n){Object.defineProperty(t,"default",{enumerable:!0,value:n})}:function(t,n){t.default=n},vg=function(t){return vg=Object.getOwnPropertyNames||function(n){var e=[];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[e.length]=r);return e},vg(t)};zO=typeof SuppressedError=="function"?SuppressedError:function(t,n,e){var r=new Error(e);return r.name="SuppressedError",r.error=t,r.suppressed=n,r};WO={__extends:g0,__assign:Mu,__rest:pr,__decorate:m0,__param:y0,__esDecorate:v0,__runInitializers:b0,__propKey:_0,__setFunctionName:w0,__metadata:E0,__awaiter:M,__generator:D0,__createBinding:ku,__exportStar:C0,__values:Au,__read:bg,__spread:x0,__spreadArrays:I0,__spreadArray:S0,__await:$n,__asyncGenerator:Ru,__asyncDelegator:T0,__asyncValues:Ou,__makeTemplateObject:M0,__importStar:A0,__importDefault:k0,__classPrivateFieldGet:R0,__classPrivateFieldSet:O0,__classPrivateFieldIn:N0,__addDisposableResource:P0,__disposeResources:F0,__rewriteRelativeImportExtension:L0}});var UA,$A=F(()=>{"use strict";UA=t=>t?(...n)=>t(...n):(...n)=>fetch(...n)});var Uo,va,$o,Ho,Ul,f_=F(()=>{"use strict";Uo=class extends Error{constructor(n,e="FunctionsError",r){super(n),this.name=e,this.context=r}},va=class extends Uo{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}},$o=class extends Uo{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}},Ho=class extends Uo{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}},Ul=(function(t){return t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2",t})(Ul||{})});var zh,HA=F(()=>{"use strict";Me();$A();f_();zh=class{constructor(n,{headers:e={},customFetch:r,region:i=Ul.Any}={}){this.url=n,this.headers=e,this.region=i,this.fetch=UA(r)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n){return M(this,arguments,void 0,function*(e,r={}){var i;let o,s;try{let{headers:a,method:c,body:l,signal:u,timeout:d}=r,f={},{region:h}=r;h||(h=this.region);let p=new URL(`${this.url}/${e}`);h&&h!=="any"&&(f["x-region"]=h,p.searchParams.set("forceFunctionRegion",h));let g;l&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",g=l):typeof l=="string"?(f["Content-Type"]="text/plain",g=l):typeof FormData<"u"&&l instanceof FormData?g=l:(f["Content-Type"]="application/json",g=JSON.stringify(l)):g=l;let m=u;d&&(s=new AbortController,o=setTimeout(()=>s.abort(),d),u?(m=s.signal,u.addEventListener("abort",()=>s.abort())):m=s.signal);let y=yield this.fetch(p.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),a),body:g,signal:m}).catch(w=>{throw new va(w)}),v=y.headers.get("x-relay-error");if(v&&v==="true")throw new $o(y);if(!y.ok)throw new Ho(y);let _=((i=y.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),b;return _==="application/json"?b=yield y.json():_==="application/octet-stream"||_==="application/pdf"?b=yield y.blob():_==="text/event-stream"?b=y:_==="multipart/form-data"?b=yield y.formData():b=yield y.text(),{data:b,error:null,response:y}}catch(a){return{data:null,error:a,response:a instanceof Ho||a instanceof $o?a.context:void 0}}finally{o&&clearTimeout(o)}})}}});var h_={};Ja(h_,{FunctionRegion:()=>Ul,FunctionsClient:()=>zh,FunctionsError:()=>Uo,FunctionsFetchError:()=>va,FunctionsHttpError:()=>Ho,FunctionsRelayError:()=>$o});var p_=F(()=>{"use strict";HA();f_()});var y_=Rt(m_=>{"use strict";Object.defineProperty(m_,"__esModule",{value:!0});var g_=class extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}};m_.default=g_});var __=Rt(b_=>{"use strict";Object.defineProperty(b_,"__esModule",{value:!0});var B3=(Me(),zt(Ji)),U3=B3.__importDefault(y_()),v_=class{constructor(n){var e,r;this.shouldThrowOnError=!1,this.method=n.method,this.url=n.url,this.headers=new Headers(n.headers),this.schema=n.schema,this.body=n.body,this.shouldThrowOnError=(e=n.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=n.signal,this.isMaybeSingle=(r=n.isMaybeSingle)!==null&&r!==void 0?r:!1,n.fetch?this.fetch=n.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(n,e){return this.headers=new Headers(this.headers),this.headers.set(n,e),this}then(n,e){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");let r=this.fetch,i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var s,a,c,l;let u=null,d=null,f=null,h=o.status,p=o.statusText;if(o.ok){if(this.method!=="HEAD"){let v=await o.text();v===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((s=this.headers.get("Accept"))===null||s===void 0)&&s.includes("application/vnd.pgrst.plan+text"))?d=v:d=JSON.parse(v))}let m=(a=this.headers.get("Prefer"))===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),y=(c=o.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");m&&y&&y.length>1&&(f=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{let m=await o.text();try{u=JSON.parse(m),Array.isArray(u)&&o.status===404&&(d=[],u=null,h=200,p="OK")}catch{o.status===404&&m===""?(h=204,p="No Content"):u={message:m}}if(u&&this.isMaybeSingle&&(!((l=u?.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,h=200,p="OK"),u&&this.shouldThrowOnError)throw new U3.default(u)}return{error:u,data:d,count:f,status:h,statusText:p}});return this.shouldThrowOnError||(i=i.catch(o=>{var s,a,c,l,u,d;let f="",h=o?.cause;if(h){let p=(s=h?.message)!==null&&s!==void 0?s:"",g=(a=h?.code)!==null&&a!==void 0?a:"";f=`${(c=o?.name)!==null&&c!==void 0?c:"FetchError"}: ${o?.message}`,f+=`

Caused by: ${(l=h?.name)!==null&&l!==void 0?l:"Error"}: ${p}`,g&&(f+=` (${g})`),h?.stack&&(f+=`
${h.stack}`)}else f=(u=o?.stack)!==null&&u!==void 0?u:"";return{error:{message:`${(d=o?.name)!==null&&d!==void 0?d:"FetchError"}: ${o?.message}`,details:f,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(n,e)}returns(){return this}overrideTypes(){return this}};b_.default=v_});var D_=Rt(E_=>{"use strict";Object.defineProperty(E_,"__esModule",{value:!0});var $3=(Me(),zt(Ji)),H3=$3.__importDefault(__()),w_=class extends H3.default{select(n){let e=!1,r=(n??"*").split("").map(i=>/\s/.test(i)&&!e?"":(i==='"'&&(e=!e),i)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(n,{ascending:e=!0,nullsFirst:r,foreignTable:i,referencedTable:o=i}={}){let s=o?`${o}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${n}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:e,referencedTable:r=e}={}){let i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${n}`),this}range(n,e,{foreignTable:r,referencedTable:i=r}={}){let o=typeof i>"u"?"offset":`${i}.offset`,s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${n}`),this.url.searchParams.set(s,`${e-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:n=!1,verbose:e=!1,settings:r=!1,buffers:i=!1,wal:o=!1,format:s="text"}={}){var a;let c=[n?"analyze":null,e?"verbose":null,r?"settings":null,i?"buffers":null,o?"wal":null].filter(Boolean).join("|"),l=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${l}"; options=${c};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(n){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${n}`),this}};E_.default=w_});var Wh=Rt(x_=>{"use strict";Object.defineProperty(x_,"__esModule",{value:!0});var z3=(Me(),zt(Ji)),W3=z3.__importDefault(D_()),G3=new RegExp("[,()]"),C_=class extends W3.default{eq(n,e){return this.url.searchParams.append(n,`eq.${e}`),this}neq(n,e){return this.url.searchParams.append(n,`neq.${e}`),this}gt(n,e){return this.url.searchParams.append(n,`gt.${e}`),this}gte(n,e){return this.url.searchParams.append(n,`gte.${e}`),this}lt(n,e){return this.url.searchParams.append(n,`lt.${e}`),this}lte(n,e){return this.url.searchParams.append(n,`lte.${e}`),this}like(n,e){return this.url.searchParams.append(n,`like.${e}`),this}likeAllOf(n,e){return this.url.searchParams.append(n,`like(all).{${e.join(",")}}`),this}likeAnyOf(n,e){return this.url.searchParams.append(n,`like(any).{${e.join(",")}}`),this}ilike(n,e){return this.url.searchParams.append(n,`ilike.${e}`),this}ilikeAllOf(n,e){return this.url.searchParams.append(n,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(n,e){return this.url.searchParams.append(n,`ilike(any).{${e.join(",")}}`),this}regexMatch(n,e){return this.url.searchParams.append(n,`match.${e}`),this}regexIMatch(n,e){return this.url.searchParams.append(n,`imatch.${e}`),this}is(n,e){return this.url.searchParams.append(n,`is.${e}`),this}isDistinct(n,e){return this.url.searchParams.append(n,`isdistinct.${e}`),this}in(n,e){let r=Array.from(new Set(e)).map(i=>typeof i=="string"&&G3.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(n,`in.(${r})`),this}contains(n,e){return typeof e=="string"?this.url.searchParams.append(n,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(n,`cs.{${e.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(e)}`),this}containedBy(n,e){return typeof e=="string"?this.url.searchParams.append(n,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(n,`cd.{${e.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(e)}`),this}rangeGt(n,e){return this.url.searchParams.append(n,`sr.${e}`),this}rangeGte(n,e){return this.url.searchParams.append(n,`nxl.${e}`),this}rangeLt(n,e){return this.url.searchParams.append(n,`sl.${e}`),this}rangeLte(n,e){return this.url.searchParams.append(n,`nxr.${e}`),this}rangeAdjacent(n,e){return this.url.searchParams.append(n,`adj.${e}`),this}overlaps(n,e){return typeof e=="string"?this.url.searchParams.append(n,`ov.${e}`):this.url.searchParams.append(n,`ov.{${e.join(",")}}`),this}textSearch(n,e,{config:r,type:i}={}){let o="";i==="plain"?o="pl":i==="phrase"?o="ph":i==="websearch"&&(o="w");let s=r===void 0?"":`(${r})`;return this.url.searchParams.append(n,`${o}fts${s}.${e}`),this}match(n){return Object.entries(n).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(n,e,r){return this.url.searchParams.append(n,`not.${e}.${r}`),this}or(n,{foreignTable:e,referencedTable:r=e}={}){let i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${n})`),this}filter(n,e,r){return this.url.searchParams.append(n,`${e}.${r}`),this}};x_.default=C_});var T_=Rt(S_=>{"use strict";Object.defineProperty(S_,"__esModule",{value:!0});var q3=(Me(),zt(Ji)),$l=q3.__importDefault(Wh()),I_=class{constructor(n,{headers:e={},schema:r,fetch:i}){this.url=n,this.headers=new Headers(e),this.schema=r,this.fetch=i}select(n,e){let{head:r=!1,count:i}=e??{},o=r?"HEAD":"GET",s=!1,a=(n??"*").split("").map(c=>/\s/.test(c)&&!s?"":(c==='"'&&(s=!s),c)).join("");return this.url.searchParams.set("select",a),i&&this.headers.append("Prefer",`count=${i}`),new $l.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(n,{count:e,defaultToNull:r=!0}={}){var i;let o="POST";if(e&&this.headers.append("Prefer",`count=${e}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(n)){let s=n.reduce((a,c)=>a.concat(Object.keys(c)),[]);if(s.length>0){let a=[...new Set(s)].map(c=>`"${c}"`);this.url.searchParams.set("columns",a.join(","))}}return new $l.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(n,{onConflict:e,ignoreDuplicates:r=!1,count:i,defaultToNull:o=!0}={}){var s;let a="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),e!==void 0&&this.url.searchParams.set("on_conflict",e),i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(n)){let c=n.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(c.length>0){let l=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",l.join(","))}}return new $l.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}update(n,{count:e}={}){var r;let i="PATCH";return e&&this.headers.append("Prefer",`count=${e}`),new $l.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:n}={}){var e;let r="DELETE";return n&&this.headers.append("Prefer",`count=${n}`),new $l.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}};S_.default=I_});var WA=Rt(A_=>{"use strict";Object.defineProperty(A_,"__esModule",{value:!0});var zA=(Me(),zt(Ji)),K3=zA.__importDefault(T_()),Y3=zA.__importDefault(Wh()),M_=class t{constructor(n,{headers:e={},schema:r,fetch:i}={}){this.url=n,this.headers=new Headers(e),this.schemaName=r,this.fetch=i}from(n){if(!n||typeof n!="string"||n.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");let e=new URL(`${this.url}/${n}`);return new K3.default(e,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(n){return new t(this.url,{headers:this.headers,schema:n,fetch:this.fetch})}rpc(n,e={},{head:r=!1,get:i=!1,count:o}={}){var s;let a,c=new URL(`${this.url}/rpc/${n}`),l;r||i?(a=r?"HEAD":"GET",Object.entries(e).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{c.searchParams.append(d,f)})):(a="POST",l=e);let u=new Headers(this.headers);return o&&u.set("Prefer",`count=${o}`),new Y3.default({method:a,url:c,headers:u,schema:this.schemaName,body:l,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};A_.default=M_});var k_=Rt(kt=>{"use strict";Object.defineProperty(kt,"__esModule",{value:!0});kt.PostgrestError=kt.PostgrestBuilder=kt.PostgrestTransformBuilder=kt.PostgrestFilterBuilder=kt.PostgrestQueryBuilder=kt.PostgrestClient=void 0;var ba=(Me(),zt(Ji)),GA=ba.__importDefault(WA());kt.PostgrestClient=GA.default;var qA=ba.__importDefault(T_());kt.PostgrestQueryBuilder=qA.default;var KA=ba.__importDefault(Wh());kt.PostgrestFilterBuilder=KA.default;var YA=ba.__importDefault(D_());kt.PostgrestTransformBuilder=YA.default;var ZA=ba.__importDefault(__());kt.PostgrestBuilder=ZA.default;var JA=ba.__importDefault(y_());kt.PostgrestError=JA.default;kt.default={PostgrestClient:GA.default,PostgrestQueryBuilder:qA.default,PostgrestFilterBuilder:KA.default,PostgrestTransformBuilder:YA.default,PostgrestBuilder:ZA.default,PostgrestError:JA.default}});var R_,Gh,O_=F(()=>{"use strict";R_=class{constructor(){}static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){let e=process.versions;if(e&&e.node){let r=e.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){let n=this.detectEnvironment();if(n.constructor)return n.constructor;let e=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(e+=`

Suggested solution: ${n.workaround}`),new Error(e)}static createWebSocket(n,e){let r=this.getWebSocketConstructor();return new r(n,e)}static isWebSocketSupported(){try{let n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}},Gh=R_});var QA,XA=F(()=>{"use strict";QA="2.86.2"});var ek,N_,tk,P_,Hl,nk,rk,zo,Ke,bn,F_,Wo,qh=F(()=>{"use strict";XA();ek=`realtime-js/${QA}`,N_="1.0.0",tk="2.0.0",P_=N_,Hl=1e4,nk=1e3,rk=100,zo=(function(t){return t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed",t})(zo||{}),Ke=(function(t){return t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving",t})(Ke||{}),bn=(function(t){return t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token",t})(bn||{}),F_=(function(t){return t.websocket="websocket",t})(F_||{}),Wo=(function(t){return t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed",t})(Wo||{})});var Kh,ik=F(()=>{"use strict";Kh=class{constructor(n){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=n??[]}encode(n,e){if(n.event===this.BROADCAST_EVENT&&!(n.payload instanceof ArrayBuffer)&&typeof n.payload.event=="string")return e(this._binaryEncodeUserBroadcastPush(n));let r=[n.join_ref,n.ref,n.topic,n.event,n.payload];return e(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(n){var e;return this._isArrayBuffer((e=n.payload)===null||e===void 0?void 0:e.payload)?this._encodeBinaryUserBroadcastPush(n):this._encodeJsonUserBroadcastPush(n)}_encodeBinaryUserBroadcastPush(n){var e,r;let i=(r=(e=n.payload)===null||e===void 0?void 0:e.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(n,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(n){var e,r;let i=(r=(e=n.payload)===null||e===void 0?void 0:e.payload)!==null&&r!==void 0?r:{},s=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(n,this.JSON_ENCODING,s)}_encodeUserBroadcastPush(n,e,r){var i,o;let s=n.topic,a=(i=n.ref)!==null&&i!==void 0?i:"",c=(o=n.join_ref)!==null&&o!==void 0?o:"",l=n.payload.event,u=this.allowedMetadataKeys?this._pick(n.payload,this.allowedMetadataKeys):{},d=Object.keys(u).length===0?"":JSON.stringify(u);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`topic length ${s.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`userEvent length ${l.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`metadata length ${d.length} exceeds maximum of 255`);let f=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+a.length+s.length+l.length+d.length,h=new ArrayBuffer(this.HEADER_LENGTH+f),p=new DataView(h),g=0;p.setUint8(g++,this.KINDS.userBroadcastPush),p.setUint8(g++,c.length),p.setUint8(g++,a.length),p.setUint8(g++,s.length),p.setUint8(g++,l.length),p.setUint8(g++,d.length),p.setUint8(g++,e),Array.from(c,y=>p.setUint8(g++,y.charCodeAt(0))),Array.from(a,y=>p.setUint8(g++,y.charCodeAt(0))),Array.from(s,y=>p.setUint8(g++,y.charCodeAt(0))),Array.from(l,y=>p.setUint8(g++,y.charCodeAt(0))),Array.from(d,y=>p.setUint8(g++,y.charCodeAt(0)));var m=new Uint8Array(h.byteLength+r.byteLength);return m.set(new Uint8Array(h),0),m.set(new Uint8Array(r),h.byteLength),m.buffer}decode(n,e){if(this._isArrayBuffer(n)){let r=this._binaryDecode(n);return e(r)}if(typeof n=="string"){let r=JSON.parse(n),[i,o,s,a,c]=r;return e({join_ref:i,ref:o,topic:s,event:a,payload:c})}return e({})}_binaryDecode(n){let e=new DataView(n),r=e.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(n,e,i)}}_decodeUserBroadcast(n,e,r){let i=e.getUint8(1),o=e.getUint8(2),s=e.getUint8(3),a=e.getUint8(4),c=this.HEADER_LENGTH+4,l=r.decode(n.slice(c,c+i));c=c+i;let u=r.decode(n.slice(c,c+o));c=c+o;let d=r.decode(n.slice(c,c+s));c=c+s;let f=n.slice(c,n.byteLength),h=a===this.JSON_ENCODING?JSON.parse(r.decode(f)):f,p={type:this.BROADCAST_EVENT,event:u,payload:h};return s>0&&(p.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:l,event:this.BROADCAST_EVENT,payload:p}}_isArrayBuffer(n){var e;return n instanceof ArrayBuffer||((e=n?.constructor)===null||e===void 0?void 0:e.name)==="ArrayBuffer"}_pick(n,e){return!n||typeof n!="object"?{}:Object.fromEntries(Object.entries(n).filter(([r])=>e.includes(r)))}}});var _a,L_=F(()=>{"use strict";_a=class{constructor(n,e){this.callback=n,this.timerCalc=e,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=e}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}});var Se,V_,Z3,ok,j_,J3,Q3,X3,eG,tG,Yh,Zh=F(()=>{"use strict";Se=(function(t){return t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange",t})(Se||{}),V_=(t,n,e={})=>{var r;let i=(r=e.skipTypes)!==null&&r!==void 0?r:[];return n?Object.keys(n).reduce((o,s)=>(o[s]=Z3(s,t,n,i),o),{}):{}},Z3=(t,n,e,r)=>{let i=n.find(a=>a.name===t),o=i?.type,s=e[t];return o&&!r.includes(o)?ok(o,s):j_(s)},ok=(t,n)=>{if(t.charAt(0)==="_"){let e=t.slice(1,t.length);return eG(n,e)}switch(t){case Se.bool:return J3(n);case Se.float4:case Se.float8:case Se.int2:case Se.int4:case Se.int8:case Se.numeric:case Se.oid:return Q3(n);case Se.json:case Se.jsonb:return X3(n);case Se.timestamp:return tG(n);case Se.abstime:case Se.date:case Se.daterange:case Se.int4range:case Se.int8range:case Se.money:case Se.reltime:case Se.text:case Se.time:case Se.timestamptz:case Se.timetz:case Se.tsrange:case Se.tstzrange:return j_(n);default:return j_(n)}},j_=t=>t,J3=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Q3=t=>{if(typeof t=="string"){let n=parseFloat(t);if(!Number.isNaN(n))return n}return t},X3=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(n){return console.log(`JSON parse error: ${n}`),t}return t},eG=(t,n)=>{if(typeof t!="string")return t;let e=t.length-1,r=t[e];if(t[0]==="{"&&r==="}"){let o,s=t.slice(1,e);try{o=JSON.parse("["+s+"]")}catch{o=s?s.split(","):[]}return o.map(a=>ok(n,a))}return t},tG=t=>typeof t=="string"?t.replace(" ","T"):t,Yh=t=>{let n=new URL(t);return n.protocol=n.protocol.replace(/^ws/i,"http"),n.pathname=n.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),n.pathname===""||n.pathname==="/"?n.pathname="/api/broadcast":n.pathname=n.pathname+"/api/broadcast",n.href}});var wa,sk=F(()=>{"use strict";qh();wa=class{constructor(n,e,r={},i=Hl){this.channel=n,this.event=e,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,e){var r;return this._hasReceived(n)&&e((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:n,callback:e}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let n=e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,e){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:e})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:e}){this.recHooks.filter(r=>r.status===n).forEach(r=>r.callback(e))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}});var B_,Ea,U_=F(()=>{"use strict";B_=(function(t){return t.SYNC="sync",t.JOIN="join",t.LEAVE="leave",t})(B_||{}),Ea=class t{constructor(n,e){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=e?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=t.syncState(this.state,i,o,s),this.pendingDiffs.forEach(c=>{this.state=t.syncDiff(this.state,c,o,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=t.syncDiff(this.state,i,o,s),a())}),this.onJoin((i,o,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:s})}),this.onLeave((i,o,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,e,r,i){let o=this.cloneDeep(n),s=this.transformState(e),a={},c={};return this.map(o,(l,u)=>{s[l]||(c[l]=u)}),this.map(s,(l,u)=>{let d=o[l];if(d){let f=u.map(m=>m.presence_ref),h=d.map(m=>m.presence_ref),p=u.filter(m=>h.indexOf(m.presence_ref)<0),g=d.filter(m=>f.indexOf(m.presence_ref)<0);p.length>0&&(a[l]=p),g.length>0&&(c[l]=g)}else a[l]=u}),this.syncDiff(o,{joins:a,leaves:c},r,i)}static syncDiff(n,e,r,i){let{joins:o,leaves:s}={joins:this.transformState(e.joins),leaves:this.transformState(e.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(a,c)=>{var l;let u=(l=n[a])!==null&&l!==void 0?l:[];if(n[a]=this.cloneDeep(c),u.length>0){let d=n[a].map(h=>h.presence_ref),f=u.filter(h=>d.indexOf(h.presence_ref)<0);n[a].unshift(...f)}r(a,u,c)}),this.map(s,(a,c)=>{let l=n[a];if(!l)return;let u=c.map(d=>d.presence_ref);l=l.filter(d=>u.indexOf(d.presence_ref)<0),n[a]=l,i(a,l,c),l.length===0&&delete n[a]}),n}static map(n,e){return Object.getOwnPropertyNames(n).map(r=>e(r,n[r]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((e,r)=>{let i=n[r];return"metas"in i?e[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):e[r]=i,e},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}});var $_,Da,lr,ak,Ca,H_=F(()=>{"use strict";qh();sk();L_();U_();Zh();Zh();$_=(function(t){return t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE",t})($_||{}),Da=(function(t){return t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system",t})(Da||{}),lr=(function(t){return t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR",t})(lr||{}),ak=Ke,Ca=class t{constructor(n,e={config:{}},r){var i,o;if(this.topic=n,this.params=e,this.socket=r,this.bindings={},this.state=Ke.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},e.config),this.timeout=this.socket.timeout,this.joinPush=new wa(this,bn.join,this.params,this.timeout),this.rejoinTimer=new _a(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ke.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ke.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ke.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ke.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ke.errored,this.rejoinTimer.scheduleTimeout())}),this._on(bn.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new Ea(this),this.broadcastEndpointURL=Yh(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(n,e=this.timeout){var r,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Ke.closed){let{config:{broadcast:s,presence:a,private:c}}=this.params,l=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(h=>h.filter))!==null&&i!==void 0?i:[],u=!!this.bindings[Da.PRESENCE]&&this.bindings[Da.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,d={},f={broadcast:s,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:l,private:c};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(h=>n?.(lr.CHANNEL_ERROR,h)),this._onClose(()=>n?.(lr.CLOSED)),this.updateJoinPayload(Object.assign({config:f},d)),this.joinedOnce=!0,this._rejoin(e),this.joinPush.receive("ok",async({postgres_changes:h})=>{var p;if(this.socket.setAuth(),h===void 0){n?.(lr.SUBSCRIBED);return}else{let g=this.bindings.postgres_changes,m=(p=g?.length)!==null&&p!==void 0?p:0,y=[];for(let v=0;v<m;v++){let _=g[v],{filter:{event:b,schema:w,table:D,filter:x}}=_,C=h&&h[v];if(C&&C.event===b&&C.schema===w&&C.table===D&&C.filter===x)y.push(Object.assign(Object.assign({},_),{id:C.id}));else{this.unsubscribe(),this.state=Ke.errored,n?.(lr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,n&&n(lr.SUBSCRIBED);return}}).receive("error",h=>{this.state=Ke.errored,n?.(lr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{n?.(lr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,e={}){return await this.send({type:"presence",event:"track",payload:n},e.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,e,r){return this.state===Ke.joined&&n===Da.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(n,e,r)}async httpSend(n,e,r={}){var i;let o=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(e==null)return Promise.reject("Payload is required for httpSend()");let s={method:"POST",headers:{Authorization:o,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:e,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,s,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(a.status===202)return{success:!0};let c=a.statusText;try{let l=await a.json();c=l.error||l.message||c}catch{}return Promise.reject(new Error(c))}async send(n,e={}){var r,i;if(!this._canPush()&&n.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");let{event:o,payload:s}=n,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:s,private:this.private}]})};try{let l=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=e.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=l.body)===null||i===void 0?void 0:i.cancel()),l.ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var s,a,c;let l=this._push(n.type,n,e.timeout||this.timeout);n.type==="broadcast"&&!(!((c=(a=(s=this.params)===null||s===void 0?void 0:s.config)===null||a===void 0?void 0:a.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),l.receive("ok",()=>o("ok")),l.receive("error",()=>o("error")),l.receive("timeout",()=>o("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=Ke.leaving;let e=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(bn.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new wa(this,bn.leave,{},n),r.receive("ok",()=>{e(),i("ok")}).receive("timeout",()=>{e(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ke.closed,this.bindings={}}async _fetchWithTimeout(n,e,r){let i=new AbortController,o=setTimeout(()=>i.abort(),r),s=await this.socket.fetch(n,Object.assign(Object.assign({},e),{signal:i.signal}));return clearTimeout(o),s}_push(n,e,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new wa(this,n,e,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>rk){let e=this.pushBuffer.shift();e&&(e.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${e.event}`,e.payload))}}_onMessage(n,e,r){return e}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,e,r){var i,o;let s=n.toLocaleLowerCase(),{close:a,error:c,leave:l,join:u}=bn;if(r&&[a,c,l,u].indexOf(s)>=0&&r!==this._joinRef())return;let f=this._onMessage(s,e,r);if(e&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(h=>{var p,g,m;return((p=h.filter)===null||p===void 0?void 0:p.event)==="*"||((m=(g=h.filter)===null||g===void 0?void 0:g.event)===null||m===void 0?void 0:m.toLocaleLowerCase())===s}).map(h=>h.callback(f,r)):(o=this.bindings[s])===null||o===void 0||o.filter(h=>{var p,g,m,y,v,_;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in h){let b=h.id,w=(p=h.filter)===null||p===void 0?void 0:p.event;return b&&((g=e.ids)===null||g===void 0?void 0:g.includes(b))&&(w==="*"||w?.toLocaleLowerCase()===((m=e.data)===null||m===void 0?void 0:m.type.toLocaleLowerCase()))}else{let b=(v=(y=h?.filter)===null||y===void 0?void 0:y.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return b==="*"||b===((_=e?.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===s}).map(h=>{if(typeof f=="object"&&"ids"in f){let p=f.data,{schema:g,table:m,commit_timestamp:y,type:v,errors:_}=p;f=Object.assign(Object.assign({},{schema:g,table:m,commit_timestamp:y,eventType:v,new:{},old:{},errors:_}),this._getPayloadRecords(p))}h.callback(f,r)})}_isClosed(){return this.state===Ke.closed}_isJoined(){return this.state===Ke.joined}_isJoining(){return this.state===Ke.joining}_isLeaving(){return this.state===Ke.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,e,r){let i=n.toLocaleLowerCase(),o={type:i,filter:e,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(n,e){let r=n.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&t.isEqual(i.filter,e))})),this}static isEqual(n,e){if(Object.keys(n).length!==Object.keys(e).length)return!1;for(let r in n)if(n[r]!==e[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(bn.close,{},n)}_onError(n){this._on(bn.error,{},e=>n(e))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ke.joining,this.joinPush.resend(n))}_getPayloadRecords(n){let e={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(e.new=V_(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(e.old=V_(n.columns,n.old_record)),e}}});var z_,Jh,rG,iG,oG,Qh,ck=F(()=>{"use strict";O_();qh();ik();L_();Zh();H_();z_=()=>{},Jh={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},rG=[1e3,2e3,5e3,1e4],iG=1e4,oG=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,Qh=class{constructor(n,e){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Hl,this.transport=null,this.heartbeatIntervalMs=Jh.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=z_,this.ref=0,this.reconnectTimer=null,this.vsn=P_,this.logger=z_,this.conn=null,this.sendBuffer=[],this.serializer=new Kh,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...o)=>i(...o):(...o)=>fetch(...o),!(!((r=e?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=e.params.apikey,this.endPoint=`${n}/${F_.websocket}`,this.httpEndpoint=Yh(n),this._initializeOptions(e),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(e?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Gh.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");let e=n.message;throw e.includes("Node.js")?new Error(`${e}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${e}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(n,e){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){let r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(n?this.conn.close(n,e??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){let e=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),e}async removeAllChannels(){let n=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,e,r){this.logger(n,e,r)}connectionState(){switch(this.conn&&this.conn.readyState){case zo.connecting:return Wo.Connecting;case zo.open:return Wo.Open;case zo.closing:return Wo.Closing;default:return Wo.Closed}}isConnected(){return this.connectionState()===Wo.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,e={config:{}}){let r=`realtime:${n}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{let o=new Ca(`realtime:${n}`,e,this);return this.channels.push(o),o}}push(n){let{topic:e,event:r,payload:i,ref:o}=n,s=()=>{this.encode(n,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${e} ${r} (${o})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(e){this.log("error","error in heartbeat callback",e)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(e){this.log("error","error in heartbeat callback",e)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(nk,"heartbeat timeout"),setTimeout(()=>{var e;this.isConnected()||(e=this.reconnectTimer)===null||e===void 0||e.scheduleTimeout()},Jh.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(e){this.log("error","error in heartbeat callback",e)}this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let e=this.channels.find(r=>r.topic===n&&(r._isJoined()||r._isJoining()));e&&(this.log("transport",`leaving duplicate topic "${n}"`),e.unsubscribe())}_remove(n){this.channels=this.channels.filter(e=>e.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,e=>{if(e.topic==="phoenix"&&e.event==="phx_reply")try{this.heartbeatCallback(e.payload.status==="ok"?"ok":"error")}catch(l){this.log("error","error in heartbeat callback",l)}e.ref&&e.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);let{topic:r,event:i,payload:o,ref:s}=e,a=s?`(${s})`:"",c=o.status||"";this.log("receive",`${c} ${r} ${i} ${a}`.trim(),o),this.channels.filter(l=>l._isMember(r)).forEach(l=>l._trigger(i,o,s)),this._triggerStateCallbacks("message",e)})}_clearTimer(n){var e;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((e=this.reconnectTimer)===null||e===void 0||e.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n))}_teardownConnection(){if(this.conn){if(this.conn.readyState===zo.open||this.conn.readyState===zo.connecting)try{this.conn.close()}catch(n){this.log("error","Error closing connection",n)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(e=>{this.log("error","error waiting for auth on connect",e),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{e.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(n){var e;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(e=this.reconnectTimer)===null||e===void 0||e.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n)}_triggerChanError(){this.channels.forEach(n=>n._trigger(bn.error))}_appendParams(n,e){if(Object.keys(e).length===0)return n;let r=n.match(/\?/)?"&":"?",i=new URLSearchParams(e);return`${n}${r}${i}`}_workerObjectUrl(n){let e;if(n)e=n;else{let r=new Blob([oG],{type:"application/javascript"});e=URL.createObjectURL(r)}return e}_setConnectionState(n,e=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=e)}async _performAuth(n=null){let e;n?e=n:this.accessToken?e=await this.accessToken():e=this.accessTokenValue,this.accessTokenValue!=e&&(this.accessTokenValue=e,this.channels.forEach(r=>{let i={access_token:e,version:ek};e&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(bn.access_token,{access_token:e})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this.setAuth().catch(e=>{this.log("error",`error setting auth in ${n}`,e)})}_triggerStateCallbacks(n,e){try{this.stateChangeCallbacks[n].forEach(r=>{try{r(e)}catch(i){this.log("error",`error in ${n} callback`,i)}})}catch(r){this.log("error",`error triggering ${n} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new _a(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Jh.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var e,r,i,o,s,a,c,l,u,d,f,h;switch(this.transport=(e=n?.transport)!==null&&e!==void 0?e:null,this.timeout=(r=n?.timeout)!==null&&r!==void 0?r:Hl,this.heartbeatIntervalMs=(i=n?.heartbeatIntervalMs)!==null&&i!==void 0?i:Jh.HEARTBEAT_INTERVAL,this.worker=(o=n?.worker)!==null&&o!==void 0?o:!1,this.accessToken=(s=n?.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(a=n?.heartbeatCallback)!==null&&a!==void 0?a:z_,this.vsn=(c=n?.vsn)!==null&&c!==void 0?c:P_,n?.params&&(this.params=n.params),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=n?.reconnectAfterMs)!==null&&l!==void 0?l:p=>rG[p-1]||iG,this.vsn){case N_:this.encode=(u=n?.encode)!==null&&u!==void 0?u:(p,g)=>g(JSON.stringify(p)),this.decode=(d=n?.decode)!==null&&d!==void 0?d:(p,g)=>g(JSON.parse(p));break;case tk:this.encode=(f=n?.encode)!==null&&f!==void 0?f:this.serializer.encode.bind(this.serializer),this.decode=(h=n?.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n?.workerUrl}}}});var W_={};Ja(W_,{REALTIME_CHANNEL_STATES:()=>ak,REALTIME_LISTEN_TYPES:()=>Da,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:()=>$_,REALTIME_PRESENCE_LISTEN_EVENTS:()=>B_,REALTIME_SUBSCRIBE_STATES:()=>lr,RealtimeChannel:()=>Ca,RealtimeClient:()=>Qh,RealtimePresence:()=>Ea,WebSocketFactory:()=>Gh});var G_=F(()=>{"use strict";ck();H_();U_();O_()});function he(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var Hr,zl,Ni,Pi=F(()=>{"use strict";Hr=class extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}};zl=class extends Hr{constructor(n,e,r){super(n),this.name="StorageApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Ni=class extends Hr{constructor(n,e){super(n),this.name="StorageUnknownError",this.originalError=e}}});var xa,lk,Xh,uk,dk,Wl=F(()=>{"use strict";xa=t=>t?(...n)=>t(...n):(...n)=>fetch(...n),lk=()=>Response,Xh=t=>{if(Array.isArray(t))return t.map(e=>Xh(e));if(typeof t=="function"||t!==Object(t))return t;let n={};return Object.entries(t).forEach(([e,r])=>{let i=e.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));n[i]=Xh(r)}),n},uk=t=>{if(typeof t!="object"||t===null)return!1;let n=Object.getPrototypeOf(t);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},dk=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t)});function Gl(t,n,e,r,i,o){return M(this,void 0,void 0,function*(){return new Promise((s,a)=>{t(e,aG(n,r,i,o)).then(c=>{if(!c.ok)throw c;return r?.noResolveJson?c:c.json()}).then(c=>s(c)).catch(c=>sG(c,a,r))})})}function Fi(t,n,e,r){return M(this,void 0,void 0,function*(){return Gl(t,"GET",n,e,r)})}function $t(t,n,e,r,i){return M(this,void 0,void 0,function*(){return Gl(t,"POST",n,r,i,e)})}function ql(t,n,e,r,i){return M(this,void 0,void 0,function*(){return Gl(t,"PUT",n,r,i,e)})}function fk(t,n,e,r){return M(this,void 0,void 0,function*(){return Gl(t,"HEAD",n,Object.assign(Object.assign({},e),{noResolveJson:!0}),r)})}function Ia(t,n,e,r,i){return M(this,void 0,void 0,function*(){return Gl(t,"DELETE",n,r,i,e)})}var q_,sG,aG,ep=F(()=>{"use strict";Me();Pi();Wl();q_=t=>{var n;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(n=t.error)===null||n===void 0?void 0:n.message)||JSON.stringify(t)},sG=(t,n,e)=>M(void 0,void 0,void 0,function*(){let r=yield lk();t instanceof r&&!e?.noResolveJson?t.json().then(i=>{let o=t.status||500,s=i?.statusCode||o+"";n(new zl(q_(i),o,s))}).catch(i=>{n(new Ni(q_(i),i))}):n(new Ni(q_(t),t))}),aG=(t,n,e,r)=>{let i={method:t,headers:n?.headers||{}};return t==="GET"||!r?i:(uk(r)?(i.headers=Object.assign({"Content-Type":"application/json"},n?.headers),i.body=JSON.stringify(r)):i.body=r,n?.duplex&&(i.duplex=n.duplex),Object.assign(Object.assign({},i),e))}});var tp,hk=F(()=>{"use strict";Me();Pi();tp=class{constructor(n,e){this.downloadFn=n,this.shouldThrowOnError=e}then(n,e){return this.execute().then(n,e)}execute(){return M(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(he(n))return{data:null,error:n};throw n}})}}});var pk,K_,gk,mk=F(()=>{"use strict";Me();Pi();hk();K_=class{constructor(n,e){this.downloadFn=n,this.shouldThrowOnError=e,this[pk]="BlobDownloadBuilder",this.promise=null}asStream(){return new tp(this.downloadFn,this.shouldThrowOnError)}then(n,e){return this.getPromise().then(n,e)}catch(n){return this.getPromise().catch(n)}finally(n){return this.getPromise().finally(n)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return M(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(he(n))return{data:null,error:n};throw n}})}};pk=Symbol.toStringTag;gk=K_});var cG,yk,np,vk=F(()=>{"use strict";Me();Pi();ep();Wl();mk();cG={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},yk={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},np=class{constructor(n,e={},r,i){this.shouldThrowOnError=!1,this.url=n,this.headers=e,this.bucketId=r,this.fetch=xa(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(n,e,r,i){return M(this,void 0,void 0,function*(){try{let o,s=Object.assign(Object.assign({},yk),i),a=Object.assign(Object.assign({},this.headers),n==="POST"&&{"x-upsert":String(s.upsert)}),c=s.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",s.cacheControl),c&&o.append("metadata",this.encodeMetadata(c)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.has("cacheControl")||o.append("cacheControl",s.cacheControl),c&&!o.has("metadata")&&o.append("metadata",this.encodeMetadata(c))):(o=r,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,c&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(c))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!s.duplex&&(s.duplex="half")),i?.headers&&(a=Object.assign(Object.assign({},a),i.headers));let l=this._removeEmptyFolders(e),u=this._getFinalPath(l),d=yield(n=="PUT"?ql:$t)(this.fetch,`${this.url}/object/${u}`,o,Object.assign({headers:a},s?.duplex?{duplex:s.duplex}:{}));return{data:{path:l,id:d.Id,fullPath:d.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(he(o))return{data:null,error:o};throw o}})}upload(n,e,r){return M(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,e,r)})}uploadToSignedUrl(n,e,r,i){return M(this,void 0,void 0,function*(){let o=this._removeEmptyFolders(n),s=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${s}`);a.searchParams.set("token",e);try{let c,l=Object.assign({upsert:yk.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(l.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",l.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",l.cacheControl)):(c=r,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType);let d=yield ql(this.fetch,a.toString(),c,{headers:u});return{data:{path:o,fullPath:d.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(he(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(n,e){return M(this,void 0,void 0,function*(){try{let r=this._getFinalPath(n),i=Object.assign({},this.headers);e?.upsert&&(i["x-upsert"]="true");let o=yield $t(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),s=new URL(this.url+o.url),a=s.searchParams.get("token");if(!a)throw new Hr("No token returned by API");return{data:{signedUrl:s.toString(),path:n,token:a},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(he(r))return{data:null,error:r};throw r}})}update(n,e,r){return M(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,e,r)})}move(n,e,r){return M(this,void 0,void 0,function*(){try{return{data:yield $t(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(he(i))return{data:null,error:i};throw i}})}copy(n,e,r){return M(this,void 0,void 0,function*(){try{return{data:{path:(yield $t(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(he(i))return{data:null,error:i};throw i}})}createSignedUrl(n,e,r){return M(this,void 0,void 0,function*(){try{let i=this._getFinalPath(n),o=yield $t(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:e},r?.transform?{transform:r.transform}:{}),{headers:this.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${s}`)},{data:o,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(he(i))return{data:null,error:i};throw i}})}createSignedUrls(n,e,r){return M(this,void 0,void 0,function*(){try{let i=yield $t(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:e,paths:n},{headers:this.headers}),o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${o}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(he(i))return{data:null,error:i};throw i}})}download(n,e){let i=typeof e?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(e?.transform||{}),s=o?`?${o}`:"",a=this._getFinalPath(n),c=()=>Fi(this.fetch,`${this.url}/${i}/${a}${s}`,{headers:this.headers,noResolveJson:!0});return new gk(c,this.shouldThrowOnError)}info(n){return M(this,void 0,void 0,function*(){let e=this._getFinalPath(n);try{let r=yield Fi(this.fetch,`${this.url}/object/info/${e}`,{headers:this.headers});return{data:Xh(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(he(r))return{data:null,error:r};throw r}})}exists(n){return M(this,void 0,void 0,function*(){let e=this._getFinalPath(n);try{return yield fk(this.fetch,`${this.url}/object/${e}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(he(r)&&r instanceof Ni){let i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(n,e){let r=this._getFinalPath(n),i=[],o=e?.download?`download=${e.download===!0?"":e.download}`:"";o!==""&&i.push(o);let a=typeof e?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(e?.transform||{});c!==""&&i.push(c);let l=i.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${l}`)}}}remove(n){return M(this,void 0,void 0,function*(){try{return{data:yield Ia(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(he(e))return{data:null,error:e};throw e}})}list(n,e,r){return M(this,void 0,void 0,function*(){try{let i=Object.assign(Object.assign(Object.assign({},cG),e),{prefix:n||""});return{data:yield $t(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(he(i))return{data:null,error:i};throw i}})}listV2(n,e){return M(this,void 0,void 0,function*(){try{let r=Object.assign({},n);return{data:yield $t(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},e),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(he(r))return{data:null,error:r};throw r}})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){let e=[];return n.width&&e.push(`width=${n.width}`),n.height&&e.push(`height=${n.height}`),n.resize&&e.push(`resize=${n.resize}`),n.format&&e.push(`format=${n.format}`),n.quality&&e.push(`quality=${n.quality}`),e.join("&")}}});var rp,Y_=F(()=>{"use strict";rp="2.86.2"});var ip,Z_=F(()=>{"use strict";Y_();ip={"X-Client-Info":`storage-js/${rp}`}});var op,bk=F(()=>{"use strict";Me();Z_();Pi();ep();Wl();op=class{constructor(n,e={},r,i){this.shouldThrowOnError=!1;let o=new URL(n);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ip),e),this.fetch=xa(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(n){return M(this,void 0,void 0,function*(){try{let e=this.listBucketOptionsToQueryString(n);return{data:yield Fi(this.fetch,`${this.url}/bucket${e}`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(he(e))return{data:null,error:e};throw e}})}getBucket(n){return M(this,void 0,void 0,function*(){try{return{data:yield Fi(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(he(e))return{data:null,error:e};throw e}})}createBucket(n){return M(this,arguments,void 0,function*(e,r={public:!1}){try{return{data:yield $t(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(he(i))return{data:null,error:i};throw i}})}updateBucket(n,e){return M(this,void 0,void 0,function*(){try{return{data:yield ql(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(he(r))return{data:null,error:r};throw r}})}emptyBucket(n){return M(this,void 0,void 0,function*(){try{return{data:yield $t(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(he(e))return{data:null,error:e};throw e}})}deleteBucket(n){return M(this,void 0,void 0,function*(){try{return{data:yield Ia(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(he(e))return{data:null,error:e};throw e}})}listBucketOptionsToQueryString(n){let e={};return n&&("limit"in n&&(e.limit=String(n.limit)),"offset"in n&&(e.offset=String(n.offset)),n.search&&(e.search=n.search),n.sortColumn&&(e.sortColumn=n.sortColumn),n.sortOrder&&(e.sortOrder=n.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}}});function lG(t,n,e){let r=new URL(n,t);if(e)for(let[i,o]of Object.entries(e))o!==void 0&&r.searchParams.set(i,o);return r.toString()}async function uG(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function dG(t){let n=t.fetchImpl??globalThis.fetch;return{async request({method:e,path:r,query:i,body:o,headers:s}){let a=lG(t.baseUrl,r,i),c=await uG(t.auth),l=await n(a,{method:e,headers:I(I(I({},o?{"Content-Type":"application/json"}:{}),c),s),body:o?JSON.stringify(o):void 0}),u=await l.text(),d=(l.headers.get("content-type")||"").includes("application/json"),f=d&&u?JSON.parse(u):u;if(!l.ok){let h=d?f:void 0,p=h?.error;throw new Kl(p?.message??`Request failed with status ${l.status}`,{status:l.status,icebergType:p?.type,icebergCode:p?.code,details:h})}return{status:l.status,headers:l.headers,data:f}}}}function sp(t){return t.join("")}function Sa(t){return t.join("")}var Kl,fG,hG,_k,wk=F(()=>{"use strict";Kl=class extends Error{constructor(t,n){super(t),this.name="IcebergError",this.status=n.status,this.icebergType=n.icebergType,this.icebergCode=n.icebergCode,this.details=n.details,this.isCommitStateUnknown=n.icebergType==="CommitStateUnknownException"||[500,502,504].includes(n.status)&&n.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};fG=class{constructor(t,n=""){this.client=t,this.prefix=n}async listNamespaces(t){let n=t?{parent:sp(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:n})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(t,n){let e={namespace:t.namespace,properties:n?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:e})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${sp(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${sp(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${sp(t.namespace)}`}),!0}catch(n){if(n instanceof Kl&&n.status===404)return!1;throw n}}async createNamespaceIfNotExists(t,n){try{return await this.createNamespace(t,n)}catch(e){if(e instanceof Kl&&e.status===409)return;throw e}}};hG=class{constructor(t,n="",e){this.client=t,this.prefix=n,this.accessDelegation=e}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Sa(t.namespace)}/tables`})).data.identifiers}async createTable(t,n){let e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Sa(t.namespace)}/tables`,body:n,headers:e})).data.metadata}async updateTable(t,n){let e=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Sa(t.namespace)}/tables/${t.name}`,body:n});return{"metadata-location":e.data["metadata-location"],metadata:e.data.metadata}}async dropTable(t,n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Sa(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String(n?.purge??!1)}})}async loadTable(t){let n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Sa(t.namespace)}/tables/${t.name}`,headers:n})).data.metadata}async tableExists(t){let n={};this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Sa(t.namespace)}/tables/${t.name}`,headers:n}),!0}catch(e){if(e instanceof Kl&&e.status===404)return!1;throw e}}async createTableIfNotExists(t,n){try{return await this.createTable(t,n)}catch(e){if(e instanceof Kl&&e.status===409)return await this.loadTable({namespace:t.namespace,name:n.name});throw e}}},_k=class{constructor(t){let n="v1";t.catalogName&&(n+=`/${t.catalogName}`);let e=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=dG({baseUrl:e,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=t.accessDelegation?.join(","),this.namespaceOps=new fG(this.client,n),this.tableOps=new hG(this.client,n,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,n){return this.namespaceOps.createNamespace(t,n)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,n){return this.tableOps.createTable(t,n)}async updateTable(t,n){return this.tableOps.updateTable(t,n)}async dropTable(t,n){await this.tableOps.dropTable(t,n)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,n){return this.namespaceOps.createNamespaceIfNotExists(t,n)}async createTableIfNotExists(t,n){return this.tableOps.createTableIfNotExists(t,n)}}});var Ta,J_=F(()=>{"use strict";Me();wk();Z_();Pi();ep();Wl();Ta=class{constructor(n,e={},r){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ip),e),this.fetch=xa(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(n){return M(this,void 0,void 0,function*(){try{return{data:yield $t(this.fetch,`${this.url}/bucket`,{name:n},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(he(e))return{data:null,error:e};throw e}})}listBuckets(n){return M(this,void 0,void 0,function*(){try{let e=new URLSearchParams;n?.limit!==void 0&&e.set("limit",n.limit.toString()),n?.offset!==void 0&&e.set("offset",n.offset.toString()),n?.sortColumn&&e.set("sortColumn",n.sortColumn),n?.sortOrder&&e.set("sortOrder",n.sortOrder),n?.search&&e.set("search",n.search);let r=e.toString(),i=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield Fi(this.fetch,i,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(he(e))return{data:null,error:e};throw e}})}deleteBucket(n){return M(this,void 0,void 0,function*(){try{return{data:yield Ia(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(he(e))return{data:null,error:e};throw e}})}from(n){if(!dk(n))throw new Hr("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new _k({baseUrl:this.url,catalogName:n,auth:{type:"custom",getHeaders:()=>M(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}});var Ma,ap=F(()=>{"use strict";Y_();Ma={"X-Client-Info":`storage-js/${rp}`,"Content-Type":"application/json"}});function ot(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var Aa,Li,ka,Q_,Ra=F(()=>{"use strict";Aa=class extends Error{constructor(n){super(n),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};Li=class extends Aa{constructor(n,e,r){super(n),this.name="StorageVectorsApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},ka=class extends Aa{constructor(n,e){super(n),this.name="StorageVectorsUnknownError",this.originalError=e}},Q_=(function(t){return t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded",t})(Q_||{})});var ji,Ek,cp,Dk,Ck,Oa=F(()=>{"use strict";ji=t=>t?(...n)=>t(...n):(...n)=>fetch(...n),Ek=()=>Response,cp=t=>{if(typeof t!="object"||t===null)return!1;let n=Object.getPrototypeOf(t);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Dk=t=>Array.from(new Float32Array(t)),Ck=(t,n)=>{if(n!==void 0&&t.float32.length!==n)throw new Error(`Vector dimension mismatch: expected ${n}, got ${t.float32.length}`)}});function mG(t,n,e,r,i,o){return M(this,void 0,void 0,function*(){return new Promise((s,a)=>{t(e,gG(n,r,i,o)).then(c=>{if(!c.ok)throw c;if(r?.noResolveJson)return c;let l=c.headers.get("content-type");return!l||!l.includes("application/json")?{}:c.json()}).then(c=>s(c)).catch(c=>pG(c,a,r))})})}function Et(t,n,e,r,i){return M(this,void 0,void 0,function*(){return mG(t,"POST",n,r,i,e)})}var xk,pG,gG,lp=F(()=>{"use strict";Me();Ra();Oa();xk=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),pG=(t,n,e)=>M(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!e?.noResolveJson){let i=t.status||500,o=t;if(typeof o.json=="function")o.json().then(s=>{let a=s?.statusCode||s?.code||i+"";n(new Li(xk(s),i,a))}).catch(()=>{let s=i+"",a=o.statusText||`HTTP ${i} error`;n(new Li(a,i,s))});else{let s=i+"",a=o.statusText||`HTTP ${i} error`;n(new Li(a,i,s))}}else n(new ka(xk(t),t))}),gG=(t,n,e,r)=>{let i={method:t,headers:n?.headers||{}};return t==="GET"||!r?i:(cp(r)?(i.headers=Object.assign({"Content-Type":"application/json"},n?.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),e))}});var Na,X_=F(()=>{"use strict";Me();ap();Ra();lp();Oa();Na=class{constructor(n,e={},r){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ma),e),this.fetch=ji(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(n){return M(this,void 0,void 0,function*(){try{return{data:(yield Et(this.fetch,`${this.url}/CreateIndex`,n,{headers:this.headers}))||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ot(e))return{data:null,error:e};throw e}})}getIndex(n,e){return M(this,void 0,void 0,function*(){try{return{data:yield Et(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:n,indexName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ot(r))return{data:null,error:r};throw r}})}listIndexes(n){return M(this,void 0,void 0,function*(){try{return{data:yield Et(this.fetch,`${this.url}/ListIndexes`,n,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ot(e))return{data:null,error:e};throw e}})}deleteIndex(n,e){return M(this,void 0,void 0,function*(){try{return{data:(yield Et(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:n,indexName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ot(r))return{data:null,error:r};throw r}})}}});var Pa,ew=F(()=>{"use strict";Me();ap();Ra();lp();Oa();Pa=class{constructor(n,e={},r){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ma),e),this.fetch=ji(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(n){return M(this,void 0,void 0,function*(){try{if(n.vectors.length<1||n.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Et(this.fetch,`${this.url}/PutVectors`,n,{headers:this.headers}))||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ot(e))return{data:null,error:e};throw e}})}getVectors(n){return M(this,void 0,void 0,function*(){try{return{data:yield Et(this.fetch,`${this.url}/GetVectors`,n,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ot(e))return{data:null,error:e};throw e}})}listVectors(n){return M(this,void 0,void 0,function*(){try{if(n.segmentCount!==void 0){if(n.segmentCount<1||n.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(n.segmentIndex!==void 0&&(n.segmentIndex<0||n.segmentIndex>=n.segmentCount))throw new Error(`segmentIndex must be between 0 and ${n.segmentCount-1}`)}return{data:yield Et(this.fetch,`${this.url}/ListVectors`,n,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ot(e))return{data:null,error:e};throw e}})}queryVectors(n){return M(this,void 0,void 0,function*(){try{return{data:yield Et(this.fetch,`${this.url}/QueryVectors`,n,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ot(e))return{data:null,error:e};throw e}})}deleteVectors(n){return M(this,void 0,void 0,function*(){try{if(n.keys.length<1||n.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Et(this.fetch,`${this.url}/DeleteVectors`,n,{headers:this.headers}))||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ot(e))return{data:null,error:e};throw e}})}}});var Fa,tw=F(()=>{"use strict";Me();ap();Ra();lp();Oa();Fa=class{constructor(n,e={},r){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ma),e),this.fetch=ji(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(n){return M(this,void 0,void 0,function*(){try{return{data:(yield Et(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:n},{headers:this.headers}))||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ot(e))return{data:null,error:e};throw e}})}getBucket(n){return M(this,void 0,void 0,function*(){try{return{data:yield Et(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:n},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ot(e))return{data:null,error:e};throw e}})}listBuckets(){return M(this,arguments,void 0,function*(n={}){try{return{data:yield Et(this.fetch,`${this.url}/ListVectorBuckets`,n,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ot(e))return{data:null,error:e};throw e}})}deleteBucket(n){return M(this,void 0,void 0,function*(){try{return{data:(yield Et(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:n},{headers:this.headers}))||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ot(e))return{data:null,error:e};throw e}})}}});var La,Yl,Zl,Ik=F(()=>{"use strict";Me();X_();ew();tw();La=class extends Fa{constructor(n,e={}){super(n,e.headers||{},e.fetch)}from(n){return new Yl(this.url,this.headers,n,this.fetch)}createBucket(n){let e=Object.create(null,{createBucket:{get:()=>super.createBucket}});return M(this,void 0,void 0,function*(){return e.createBucket.call(this,n)})}getBucket(n){let e=Object.create(null,{getBucket:{get:()=>super.getBucket}});return M(this,void 0,void 0,function*(){return e.getBucket.call(this,n)})}listBuckets(){let n=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return M(this,arguments,void 0,function*(e={}){return n.listBuckets.call(this,e)})}deleteBucket(n){let e=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return M(this,void 0,void 0,function*(){return e.deleteBucket.call(this,n)})}},Yl=class extends Na{constructor(n,e,r,i){super(n,e,i),this.vectorBucketName=r}createIndex(n){let e=Object.create(null,{createIndex:{get:()=>super.createIndex}});return M(this,void 0,void 0,function*(){return e.createIndex.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){let n=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return M(this,arguments,void 0,function*(e={}){return n.listIndexes.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}getIndex(n){let e=Object.create(null,{getIndex:{get:()=>super.getIndex}});return M(this,void 0,void 0,function*(){return e.getIndex.call(this,this.vectorBucketName,n)})}deleteIndex(n){let e=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return M(this,void 0,void 0,function*(){return e.deleteIndex.call(this,this.vectorBucketName,n)})}index(n){return new Zl(this.url,this.headers,this.vectorBucketName,n,this.fetch)}},Zl=class extends Pa{constructor(n,e,r,i,o){super(n,e,o),this.vectorBucketName=r,this.indexName=i}putVectors(n){let e=Object.create(null,{putVectors:{get:()=>super.putVectors}});return M(this,void 0,void 0,function*(){return e.putVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(n){let e=Object.create(null,{getVectors:{get:()=>super.getVectors}});return M(this,void 0,void 0,function*(){return e.getVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){let n=Object.create(null,{listVectors:{get:()=>super.listVectors}});return M(this,arguments,void 0,function*(e={}){return n.listVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(n){let e=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return M(this,void 0,void 0,function*(){return e.queryVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(n){let e=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return M(this,void 0,void 0,function*(){return e.deleteVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}});var nw=F(()=>{"use strict";Ik();tw();X_();ew();Ra();Oa()});var up,Sk=F(()=>{"use strict";vk();bk();J_();nw();up=class extends op{constructor(n,e={},r,i){super(n,e,r,i)}from(n){return new np(this.url,this.headers,n,this.fetch)}get vectors(){return new La(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Ta(this.url+"/iceberg",this.headers,this.fetch)}}});var Tk=F(()=>{"use strict"});var Mk={};Ja(Mk,{StorageAnalyticsClient:()=>Ta,StorageApiError:()=>zl,StorageClient:()=>up,StorageError:()=>Hr,StorageUnknownError:()=>Ni,StorageVectorsApiError:()=>Li,StorageVectorsClient:()=>La,StorageVectorsError:()=>Aa,StorageVectorsErrorCode:()=>Q_,StorageVectorsUnknownError:()=>ka,VectorBucketApi:()=>Fa,VectorBucketScope:()=>Yl,VectorDataApi:()=>Pa,VectorIndexApi:()=>Na,VectorIndexScope:()=>Zl,isPlainObject:()=>cp,isStorageError:()=>he,isStorageVectorsError:()=>ot,normalizeToFloat32:()=>Dk,resolveFetch:()=>ji,resolveResponse:()=>Ek,validateVectorDimension:()=>Ck});var Ak=F(()=>{"use strict";Sk();J_();Tk();Pi();nw()});var kk=Rt(dp=>{"use strict";Object.defineProperty(dp,"__esModule",{value:!0});dp.version=void 0;dp.version="2.86.2"});var Rk=Rt(en=>{"use strict";Object.defineProperty(en,"__esModule",{value:!0});en.DEFAULT_REALTIME_OPTIONS=en.DEFAULT_AUTH_OPTIONS=en.DEFAULT_DB_OPTIONS=en.DEFAULT_GLOBAL_OPTIONS=en.DEFAULT_HEADERS=void 0;var yG=kk(),Jl="";typeof Deno<"u"?Jl="deno":typeof document<"u"?Jl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Jl="react-native":Jl="node";en.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${Jl}/${yG.version}`};en.DEFAULT_GLOBAL_OPTIONS={headers:en.DEFAULT_HEADERS};en.DEFAULT_DB_OPTIONS={schema:"public"};en.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"};en.DEFAULT_REALTIME_OPTIONS={}});var Ok=Rt(ur=>{"use strict";Object.defineProperty(ur,"__esModule",{value:!0});ur.fetchWithAuth=ur.resolveHeadersConstructor=ur.resolveFetch=void 0;var vG=t=>t?(...n)=>t(...n):(...n)=>fetch(...n);ur.resolveFetch=vG;var bG=()=>Headers;ur.resolveHeadersConstructor=bG;var _G=(t,n,e)=>{let r=(0,ur.resolveFetch)(e),i=(0,ur.resolveHeadersConstructor)();return async(o,s)=>{var a;let c=(a=await n())!==null&&a!==void 0?a:t,l=new i(s?.headers);return l.has("apikey")||l.set("apikey",t),l.has("Authorization")||l.set("Authorization",`Bearer ${c}`),r(o,Object.assign(Object.assign({},s),{headers:l}))}};ur.fetchWithAuth=_G});var Pk=Rt(Vi=>{"use strict";Object.defineProperty(Vi,"__esModule",{value:!0});Vi.isBrowser=void 0;Vi.uuid=wG;Vi.ensureTrailingSlash=Nk;Vi.applySettingDefaults=DG;Vi.validateSupabaseUrl=CG;function wG(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=Math.random()*16|0,e=t=="x"?n:n&3|8;return e.toString(16)})}function Nk(t){return t.endsWith("/")?t:t+"/"}var EG=()=>typeof window<"u";Vi.isBrowser=EG;function DG(t,n){var e,r;let{db:i,auth:o,realtime:s,global:a}=t,{db:c,auth:l,realtime:u,global:d}=n,f={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},l),o),realtime:Object.assign(Object.assign({},u),s),storage:{},global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(e=d?.headers)!==null&&e!==void 0?e:{}),(r=a?.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}function CG(t){let n=t?.trim();if(!n)throw new Error("supabaseUrl is required.");if(!n.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Nk(n))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}});var fp,rw=F(()=>{"use strict";fp="2.86.2"});var Go,hp,pp,Fk,Lk,jk,Ql,iw,Vk,Bk,gp=F(()=>{"use strict";rw();Go=30*1e3,hp=3,pp=hp*Go,Fk="http://localhost:9999",Lk="supabase.auth.token",jk={"X-Client-Info":`gotrue-js/${fp}`},Ql="X-Supabase-Api-Version",iw={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Vk=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Bk=600*1e3});function O(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}function ow(t){return O(t)&&t.name==="AuthApiError"}function sw(t){return O(t)&&t.name==="AuthSessionMissingError"}function aw(t){return O(t)&&t.name==="AuthImplicitGrantRedirectError"}function eu(t){return O(t)&&t.name==="AuthRetryableFetchError"}function xG(t){return O(t)&&t.name==="AuthWeakPasswordError"}var zr,Xl,tn,Un,st,dr,Bi,Ui,ja,qo,Va,$i,Ko=F(()=>{"use strict";zr=class extends Error{constructor(n,e,r){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=e,this.code=r}};Xl=class extends zr{constructor(n,e,r){super(n,e,r),this.name="AuthApiError",this.status=e,this.code=r}};tn=class extends zr{constructor(n,e){super(n),this.name="AuthUnknownError",this.originalError=e}},Un=class extends zr{constructor(n,e,r,i){super(n,r,i),this.name=e,this.status=r}},st=class extends Un{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};dr=class extends Un{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Bi=class extends Un{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}},Ui=class extends Un{constructor(n,e=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};ja=class extends Un{constructor(n,e=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},qo=class extends Un{constructor(n,e){super(n,"AuthRetryableFetchError",e,void 0)}};Va=class extends Un{constructor(n,e,r){super(n,"AuthWeakPasswordError",e,"weak_password"),this.reasons=r}};$i=class extends Un{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}});function $k(t,n,e){if(t!==null)for(n.queue=n.queue<<8|t,n.queuedBits+=8;n.queuedBits>=6;){let r=n.queue>>n.queuedBits-6&63;e(mp[r]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){let r=n.queue>>n.queuedBits-6&63;e(mp[r]),n.queuedBits-=6}}function Hk(t,n,e){let r=IG[t];if(r>-1)for(n.queue=n.queue<<6|r,n.queuedBits+=6;n.queuedBits>=8;)e(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function cw(t){let n=[],e=s=>{n.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=s=>{MG(s,r,e)};for(let s=0;s<t.length;s+=1)Hk(t.charCodeAt(s),i,o);return n.join("")}function SG(t,n){if(t<=127){n(t);return}else if(t<=2047){n(192|t>>6),n(128|t&63);return}else if(t<=65535){n(224|t>>12),n(128|t>>6&63),n(128|t&63);return}else if(t<=1114111){n(240|t>>18),n(128|t>>12&63),n(128|t>>6&63),n(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function TG(t,n){for(let e=0;e<t.length;e+=1){let r=t.charCodeAt(e);if(r>55295&&r<=56319){let i=(r-55296)*1024&65535;r=(t.charCodeAt(e+1)-56320&65535|i)+65536,e+=1}SG(r,n)}}function MG(t,n,e){if(n.utf8seq===0){if(t<=127){e(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){n.utf8seq=r;break}if(n.utf8seq===2)n.codepoint=t&31;else if(n.utf8seq===3)n.codepoint=t&15;else if(n.utf8seq===4)n.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|t&63,n.utf8seq-=1,n.utf8seq===0&&e(n.codepoint)}}function Hi(t){let n=[],e={queue:0,queuedBits:0},r=i=>{n.push(i)};for(let i=0;i<t.length;i+=1)Hk(t.charCodeAt(i),e,r);return new Uint8Array(n)}function zk(t){let n=[];return TG(t,e=>n.push(e)),new Uint8Array(n)}function Wr(t){let n=[],e={queue:0,queuedBits:0},r=i=>{n.push(i)};return t.forEach(i=>$k(i,e,r)),$k(null,e,r),n.join("")}var mp,Uk,IG,yp=F(()=>{"use strict";mp="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Uk=` 	
\r=`.split(""),IG=(()=>{let t=new Array(128);for(let n=0;n<t.length;n+=1)t[n]=-1;for(let n=0;n<Uk.length;n+=1)t[Uk[n].charCodeAt(0)]=-2;for(let n=0;n<mp.length;n+=1)t[mp[n].charCodeAt(0)]=n;return t})()});function Wk(t){return Math.round(Date.now()/1e3)+t}function Gk(){return Symbol("auth-callback")}function qk(t){let n={},e=new URL(t);if(e.hash&&e.hash[0]==="#")try{new URLSearchParams(e.hash.substring(1)).forEach((i,o)=>{n[o]=i})}catch{}return e.searchParams.forEach((r,i)=>{n[i]=r}),n}function _p(t){let n=t.split(".");if(n.length!==3)throw new $i("Invalid JWT structure");for(let r=0;r<n.length;r++)if(!Vk.test(n[r]))throw new $i("JWT not in base64url format");return{header:JSON.parse(cw(n[0])),payload:JSON.parse(cw(n[1])),signature:Hi(n[2]),raw:{header:n[0],payload:n[1]}}}async function Yk(t){return await new Promise(n=>{setTimeout(()=>n(null),t)})}function Zk(t,n){return new Promise((r,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{let s=await t(o);if(!n(o,null,s)){r(s);return}}catch(s){if(!n(o,s)){i(s);return}}})()})}function AG(t){return("0"+t.toString(16)).substr(-2)}function kG(){let n=new Uint32Array(56);if(typeof crypto>"u"){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=e.length,i="";for(let o=0;o<56;o++)i+=e.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(n),Array.from(n,AG).join("")}async function RG(t){let e=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",e),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function OG(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;let e=await RG(t);return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Jo(t,n,e=!1){let r=kG(),i=r;e&&(i+="/PASSWORD_RECOVERY"),await Zo(t,`${n}-code-verifier`,i);let o=await OG(r);return[o,r===o?"plain":"s256"]}function Jk(t){let n=t.headers.get(Ql);if(!n||!n.match(NG))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function Qk(t){if(!t)throw new Error("Missing exp claim");let n=Math.floor(Date.now()/1e3);if(t<=n)throw new Error("JWT has expired")}function Xk(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}function Qo(t){if(!PG.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function wp(){let t={};return new Proxy(t,{get:(n,e)=>{if(e==="__isUserNotAvailableProxy")return!0;if(typeof e=="symbol"){let r=e.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${e}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,e)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${e}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,e)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${e}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function eR(t,n){return new Proxy(t,{get:(e,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){let o=r.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(e,r,i)}return!n.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),n.value=!0),Reflect.get(e,r,i)}})}function lw(t){return JSON.parse(JSON.stringify(t))}var et,Yo,vp,bp,Kk,Zo,zi,at,tu,NG,PG,Ba=F(()=>{"use strict";gp();Ko();yp();et=()=>typeof window<"u"&&typeof document<"u",Yo={tested:!1,writable:!1},vp=()=>{if(!et())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Yo.tested)return Yo.writable;let t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Yo.tested=!0,Yo.writable=!0}catch{Yo.tested=!0,Yo.writable=!1}return Yo.writable};bp=t=>t?(...n)=>t(...n):(...n)=>fetch(...n),Kk=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Zo=async(t,n,e)=>{await t.setItem(n,JSON.stringify(e))},zi=async(t,n)=>{let e=await t.getItem(n);if(!e)return null;try{return JSON.parse(e)}catch{return e}},at=async(t,n)=>{await t.removeItem(n)},tu=class t{constructor(){this.promise=new t.promiseConstructor((n,e)=>{this.resolve=n,this.reject=e})}};tu.promiseConstructor=Promise;NG=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;PG=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/});async function tR(t){var n;if(!Kk(t))throw new qo(Xo(t),0);if(FG.includes(t.status))throw new qo(Xo(t),t.status);let e;try{e=await t.json()}catch(o){throw new tn(Xo(o),o)}let r,i=Jk(t);if(i&&i.getTime()>=iw["2024-01-01"].timestamp&&typeof e=="object"&&e&&typeof e.code=="string"?r=e.code:typeof e=="object"&&e&&typeof e.error_code=="string"&&(r=e.error_code),r){if(r==="weak_password")throw new Va(Xo(e),t.status,((n=e.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(r==="session_not_found")throw new st}else if(typeof e=="object"&&e&&typeof e.weak_password=="object"&&e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.reasons.reduce((o,s)=>o&&typeof s=="string",!0))throw new Va(Xo(e),t.status,e.weak_password.reasons);throw new Xl(Xo(e),t.status||500,r)}async function V(t,n,e,r){var i;let o=Object.assign({},r?.headers);o[Ql]||(o[Ql]=iw["2024-01-01"].name),r?.jwt&&(o.Authorization=`Bearer ${r.jwt}`);let s=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);let a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=await jG(t,n,e+a,{headers:o,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(c):{data:Object.assign({},c),error:null}}async function jG(t,n,e,r,i,o){let s=LG(n,r,i,o),a;try{a=await t(e,Object.assign({},s))}catch(c){throw console.error(c),new qo(Xo(c),0)}if(a.ok||await tR(a),r?.noResolveJson)return a;try{return await a.json()}catch(c){await tR(c)}}function _n(t){var n;let e=null;VG(t)&&(e=Object.assign({},t),t.expires_at||(e.expires_at=Wk(t.expires_in)));let r=(n=t.user)!==null&&n!==void 0?n:t;return{data:{session:e,user:r},error:null}}function uw(t){let n=_n(t);return!n.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((e,r)=>e&&typeof r=="string",!0)&&(n.data.weak_password=t.weak_password),n}function fr(t){var n;return{data:{user:(n=t.user)!==null&&n!==void 0?n:t},error:null}}function nR(t){return{data:t,error:null}}function rR(t){let{action_link:n,email_otp:e,hashed_token:r,redirect_to:i,verification_type:o}=t,s=pr(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:n,email_otp:e,hashed_token:r,redirect_to:i,verification_type:o},c=Object.assign({},s);return{data:{properties:a,user:c},error:null}}function dw(t){return t}function VG(t){return t.access_token&&t.refresh_token&&t.expires_in}var Xo,FG,LG,fw=F(()=>{"use strict";Me();gp();Ba();Ko();Xo=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),FG=[502,503,504];LG=(t,n,e,r)=>{let i={method:t,headers:n?.headers||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),e))}});var nu,hw=F(()=>{"use strict";nu=["global","local","others"]});var Wi,Ep=F(()=>{"use strict";Me();fw();Ba();hw();Ko();Wi=class{constructor({url:n="",headers:e={},fetch:r}){this.url=n,this.headers=e,this.fetch=bp(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(n,e=nu[0]){if(nu.indexOf(e)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${nu.join(", ")}`);try{return await V(this.fetch,"POST",`${this.url}/logout?scope=${e}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(r){if(O(r))return{data:null,error:r};throw r}}async inviteUserByEmail(n,e={}){try{return await V(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:e.data},headers:this.headers,redirectTo:e.redirectTo,xform:fr})}catch(r){if(O(r))return{data:{user:null},error:r};throw r}}async generateLink(n){try{let{options:e}=n,r=pr(n,["options"]),i=Object.assign(Object.assign({},r),e);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),await V(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:rR,redirectTo:e?.redirectTo})}catch(e){if(O(e))return{data:{properties:null,user:null},error:e};throw e}}async createUser(n){try{return await V(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:fr})}catch(e){if(O(e))return{data:{user:null},error:e};throw e}}async listUsers(n){var e,r,i,o,s,a,c;try{let l={nextPage:null,lastPage:0,total:0},u=await V(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(e=n?.page)===null||e===void 0?void 0:e.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=n?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:dw});if(u.error)throw u.error;let d=await u.json(),f=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,h=(c=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return h.length>0&&(h.forEach(p=>{let g=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),m=JSON.parse(p.split(";")[1].split("=")[1]);l[`${m}Page`]=g}),l.total=parseInt(f)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(O(l))return{data:{users:[]},error:l};throw l}}async getUserById(n){Qo(n);try{return await V(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:fr})}catch(e){if(O(e))return{data:{user:null},error:e};throw e}}async updateUserById(n,e){Qo(n);try{return await V(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:e,headers:this.headers,xform:fr})}catch(r){if(O(r))return{data:{user:null},error:r};throw r}}async deleteUser(n,e=!1){Qo(n);try{return await V(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:e},xform:fr})}catch(r){if(O(r))return{data:{user:null},error:r};throw r}}async _listFactors(n){Qo(n.userId);try{let{data:e,error:r}=await V(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:e,error:r}}catch(e){if(O(e))return{data:null,error:e};throw e}}async _deleteFactor(n){Qo(n.userId),Qo(n.id);try{return{data:await V(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(e){if(O(e))return{data:null,error:e};throw e}}async _listOAuthClients(n){var e,r,i,o,s,a,c;try{let l={nextPage:null,lastPage:0,total:0},u=await V(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(e=n?.page)===null||e===void 0?void 0:e.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=n?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:dw});if(u.error)throw u.error;let d=await u.json(),f=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,h=(c=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return h.length>0&&(h.forEach(p=>{let g=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),m=JSON.parse(p.split(";")[1].split("=")[1]);l[`${m}Page`]=g}),l.total=parseInt(f)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(O(l))return{data:{clients:[]},error:l};throw l}}async _createOAuthClient(n){try{return await V(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:n,headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(O(e))return{data:null,error:e};throw e}}async _getOAuthClient(n){try{return await V(this.fetch,"GET",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(O(e))return{data:null,error:e};throw e}}async _updateOAuthClient(n,e){try{return await V(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${n}`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(O(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(n){try{return await V(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(e){if(O(e))return{data:null,error:e};throw e}}async _regenerateOAuthClientSecret(n){try{return await V(this.fetch,"POST",`${this.url}/admin/oauth/clients/${n}/regenerate_secret`,{headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(O(e))return{data:null,error:e};throw e}}}});function pw(t={}){return{getItem:n=>t[n]||null,setItem:(n,e)=>{t[n]=e},removeItem:n=>{delete t[n]}}}var iR=F(()=>{"use strict"});async function Dp(t,n,e){Gi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,n);let r=new globalThis.AbortController;return n>0&&setTimeout(()=>{r.abort(),Gi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Gi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await e()}finally{Gi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(n===0)throw Gi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new ru(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Gi.debug)try{let o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await e()}}))}async function sR(t,n,e){var r;let i=(r=oR[t])!==null&&r!==void 0?r:Promise.resolve(),o=Promise.race([i.catch(()=>null),n>=0?new Promise((s,a)=>{setTimeout(()=>{a(new gw(`Acquring process lock with name "${t}" timed out`))},n)}):null].filter(s=>s)).catch(s=>{if(s&&s.isAcquireTimeout)throw s;return null}).then(async()=>await e());return oR[t]=o.catch(async s=>{if(s&&s.isAcquireTimeout)return await i,null;throw s}),await o}var Gi,Ua,ru,gw,oR,mw=F(()=>{"use strict";Ba();Gi={debug:!!(globalThis&&vp()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},Ua=class extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}},ru=class extends Ua{},gw=class extends Ua{};oR={}});function aR(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var cR=F(()=>{"use strict"});function yw(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function lR(t){return parseInt(t,16)}function uR(t){let n=new TextEncoder().encode(t);return"0x"+Array.from(n,r=>r.toString(16).padStart(2,"0")).join("")}function dR(t){var n;let{chainId:e,domain:r,expirationTime:i,issuedAt:o=new Date,nonce:s,notBefore:a,requestId:c,resources:l,scheme:u,uri:d,version:f}=t;{if(!Number.isInteger(e))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${e}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((n=t.statement)===null||n===void 0)&&n.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}let h=yw(t.address),p=u?`${u}://${r}`:r,g=t.statement?`${t.statement}
`:"",m=`${p} wants you to sign in with your Ethereum account:
${h}

${g}`,y=`URI: ${d}
Version: ${f}
Chain ID: ${e}${s?`
Nonce: ${s}`:""}
Issued At: ${o.toISOString()}`;if(i&&(y+=`
Expiration Time: ${i.toISOString()}`),a&&(y+=`
Not Before: ${a.toISOString()}`),c&&(y+=`
Request ID: ${c}`),l){let v=`
Resources:`;for(let _ of l){if(!_||typeof _!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${_}`);v+=`
- ${_}`}y+=v}return`${m}
${y}`}var fR=F(()=>{"use strict"});function hR({error:t,options:n}){var e,r,i;let{publicKey:o}=n;if(!o)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(n.signal instanceof AbortSignal)return new je({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((e=o.authenticatorSelection)===null||e===void 0?void 0:e.requireResidentKey)===!0)return new je({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(n.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new je({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new je({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new je({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new je({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return o.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new je({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new je({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){let s=window.location.hostname;if(vw(s)){if(o.rp.id!==s)return new je({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new je({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new je({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new je({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new je({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function pR({error:t,options:n}){let{publicKey:e}=n;if(!e)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(n.signal instanceof AbortSignal)return new je({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new je({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){let r=window.location.hostname;if(vw(r)){if(e.rpId!==r)return new je({message:`The RP ID "${e.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new je({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new je({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new je({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}var je,es,gR=F(()=>{"use strict";bw();je=class extends Error{constructor({message:n,code:e,cause:r,name:i}){var o;super(n,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=i??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=e}},es=class extends je{constructor(n,e){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e,message:n}),this.name="WebAuthnUnknownError",this.originalError=e}}});function yR(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);let{challenge:n,user:e,excludeCredentials:r}=t,i=pr(t,["challenge","user","excludeCredentials"]),o=Hi(n).buffer,s=Object.assign(Object.assign({},e),{id:Hi(e.id).buffer}),a=Object.assign(Object.assign({},i),{challenge:o,user:s});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let c=0;c<r.length;c++){let l=r[c];a.excludeCredentials[c]=Object.assign(Object.assign({},l),{id:Hi(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return a}function vR(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);let{challenge:n,allowCredentials:e}=t,r=pr(t,["challenge","allowCredentials"]),i=Hi(n).buffer,o=Object.assign(Object.assign({},r),{challenge:i});if(e&&e.length>0){o.allowCredentials=new Array(e.length);for(let s=0;s<e.length;s++){let a=e[s];o.allowCredentials[s]=Object.assign(Object.assign({},a),{id:Hi(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return o}function bR(t){var n;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();let e=t;return{id:t.id,rawId:t.id,response:{attestationObject:Wr(new Uint8Array(t.response.attestationObject)),clientDataJSON:Wr(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(n=e.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function _R(t){var n;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();let e=t,r=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Wr(new Uint8Array(i.authenticatorData)),clientDataJSON:Wr(new Uint8Array(i.clientDataJSON)),signature:Wr(new Uint8Array(i.signature)),userHandle:i.userHandle?Wr(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(n=e.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function vw(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function mR(){var t,n;return!!(et()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.get)=="function")}async function UG(t){try{let n=await navigator.credentials.create(t);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new es("Browser returned unexpected credential type",n)}:{data:null,error:new es("Empty credential response",n)}}catch(n){return{data:null,error:hR({error:n,options:t})}}}async function $G(t){try{let n=await navigator.credentials.get(t);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new es("Browser returned unexpected credential type",n)}:{data:null,error:new es("Empty credential response",n)}}catch(n){return{data:null,error:pR({error:n,options:t})}}}function Cp(...t){let n=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),e=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(let i of t)if(i)for(let o in i){let s=i[o];if(s!==void 0)if(Array.isArray(s))r[o]=s;else if(e(s))r[o]=s;else if(n(s)){let a=r[o];n(a)?r[o]=Cp(a,s):r[o]=Cp(s)}else r[o]=s}return r}function WG(t,n){return Cp(HG,t,n||{})}function GG(t,n){return Cp(zG,t,n||{})}var _w,BG,HG,zG,xp,bw=F(()=>{"use strict";Me();yp();Ko();Ba();gR();_w=class{createNewAbortSignal(){if(this.controller){let e=new Error("Cancelling existing WebAuthn API call for new one");e.name="AbortError",this.controller.abort(e)}let n=new AbortController;return this.controller=n,n.signal}cancelCeremony(){if(this.controller){let n=new Error("Manually cancelling existing WebAuthn API call");n.name="AbortError",this.controller.abort(n),this.controller=void 0}}},BG=new _w;HG={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},zG={userVerification:"preferred",hints:["security-key"],attestation:"direct"};xp=class{constructor(n){this.client=n,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(n){return this.client.mfa.enroll(Object.assign(Object.assign({},n),{factorType:"webauthn"}))}async _challenge({factorId:n,webauthn:e,friendlyName:r,signal:i},o){try{let{data:s,error:a}=await this.client.mfa.challenge({factorId:n,webauthn:e});if(!s)return{data:null,error:a};let c=i??BG.createNewAbortSignal();if(s.webauthn.type==="create"){let{user:l}=s.webauthn.credential_options.publicKey;l.name||(l.name=`${l.id}:${r}`),l.displayName||(l.displayName=l.name)}switch(s.webauthn.type){case"create":{let l=WG(s.webauthn.credential_options.publicKey,o?.create),{data:u,error:d}=await UG({publicKey:l,signal:c});return u?{data:{factorId:n,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:u}},error:null}:{data:null,error:d}}case"request":{let l=GG(s.webauthn.credential_options.publicKey,o?.request),{data:u,error:d}=await $G(Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:l,signal:c}));return u?{data:{factorId:n,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:u}},error:null}:{data:null,error:d}}}}catch(s){return O(s)?{data:null,error:s}:{data:null,error:new tn("Unexpected error in challenge",s)}}}async _verify({challengeId:n,factorId:e,webauthn:r}){return this.client.mfa.verify({factorId:e,challengeId:n,webauthn:r})}async _authenticate({factorId:n,webauthn:{rpId:e=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!e)return{data:null,error:new zr("rpId is required for WebAuthn authentication")};try{if(!mR())return{data:null,error:new tn("Browser does not support WebAuthn",null)};let{data:s,error:a}=await this.challenge({factorId:n,webauthn:{rpId:e,rpOrigins:r},signal:i},{request:o});if(!s)return{data:null,error:a};let{webauthn:c}=s;return this._verify({factorId:n,challengeId:s.challengeId,webauthn:{type:c.type,rpId:e,rpOrigins:r,credential_response:c.credential_response}})}catch(s){return O(s)?{data:null,error:s}:{data:null,error:new tn("Unexpected error in authenticate",s)}}}async _register({friendlyName:n,webauthn:{rpId:e=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!e)return{data:null,error:new zr("rpId is required for WebAuthn registration")};try{if(!mR())return{data:null,error:new tn("Browser does not support WebAuthn",null)};let{data:s,error:a}=await this._enroll({friendlyName:n});if(!s)return await this.client.mfa.listFactors().then(u=>{var d;return(d=u.data)===null||d===void 0?void 0:d.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===n&&f.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u?.id}):void 0),{data:null,error:a};let{data:c,error:l}=await this._challenge({factorId:s.id,friendlyName:s.friendly_name,webauthn:{rpId:e,rpOrigins:r},signal:i},{create:o});return c?this._verify({factorId:s.id,challengeId:c.challengeId,webauthn:{rpId:e,rpOrigins:r,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:l}}catch(s){return O(s)?{data:null,error:s}:{data:null,error:new tn("Unexpected error in register",s)}}}}});async function wR(t,n,e){return await e()}var qG,$a,KG,Ip,ww=F(()=>{"use strict";Ep();gp();Ko();fw();Ba();iR();mw();cR();rw();yp();fR();bw();aR();qG={url:Fk,storageKey:Lk,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:jk,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};$a={},KG=(()=>{class t{get jwks(){var e,r;return(r=(e=$a[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){$a[this.storageKey]=Object.assign(Object.assign({},$a[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=$a[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){$a[this.storageKey]=Object.assign(Object.assign({},$a[this.storageKey]),{cachedAt:e})}constructor(e){var r,i,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;let s=Object.assign(Object.assign({},qG),e);if(this.storageKey=s.storageKey,this.instanceID=(r=t.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,t.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&et()){let a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Wi({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=bp(s.fetch),this.lock=s.lock||wR,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,s.lock?this.lock=s.lock:et()&&(!((i=globalThis?.navigator)===null||i===void 0)&&i.locks)?this.lock=Dp:this.lock=wR,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new xp(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:vp()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=pw(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=pw(this.memoryStorage)),et()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${fp}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},i="none";if(et()&&(r=qk(window.location.href),this._isImplicitGrantCallback(r)?i="implicit":await this._isPKCECallback(r)&&(i="pkce")),et()&&this.detectSessionInUrl&&i!=="none"){let{data:o,error:s}=await this._getSessionFromURL(r,i);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),aw(s)){let l=(e=s.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}let{session:a,redirectType:c}=o;return this._debug("#_initialize()","detected session in URL",a,"redirect type",c),await this._saveSession(a),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return O(r)?this._returnResult({error:r}):this._returnResult({error:new tn("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,i,o;try{let s=await V(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=e?.options)===null||o===void 0?void 0:o.captchaToken}},xform:_n}),{data:a,error:c}=s;if(c||!a)return this._returnResult({data:{user:null,session:null},error:c});let l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(O(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(e){var r,i,o;try{let s;if("email"in e){let{email:d,password:f,options:h}=e,p=null,g=null;this.flowType==="pkce"&&([p,g]=await Jo(this.storage,this.storageKey)),s=await V(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h?.emailRedirectTo,body:{email:d,password:f,data:(r=h?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:p,code_challenge_method:g},xform:_n})}else if("phone"in e){let{phone:d,password:f,options:h}=e;s=await V(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(i=h?.data)!==null&&i!==void 0?i:{},channel:(o=h?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:_n})}else throw new Bi("You must provide either an email or phone number and a password");let{data:a,error:c}=s;if(c||!a)return await at(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:c});let l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(await at(this.storage,`${this.storageKey}-code-verifier`),O(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(e){try{let r;if("email"in e){let{email:s,password:a,options:c}=e;r=await V(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:uw})}else if("phone"in e){let{phone:s,password:a,options:c}=e;r=await V(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:uw})}else throw new Bi("You must provide either an email or phone number and a password");let{data:i,error:o}=r;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!i||!i.session||!i.user){let s=new dr;return this._returnResult({data:{user:null,session:null},error:s})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(r){if(O(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,i,o,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){let{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,i,o,s,a,c,l,u,d,f,h;let p,g;if("message"in e)p=e.message,g=e.signature;else{let{chain:m,wallet:y,statement:v,options:_}=e,b;if(et())if(typeof y=="object")b=y;else{let B=window;if("ethereum"in B&&typeof B.ethereum=="object"&&"request"in B.ethereum&&typeof B.ethereum.request=="function")b=B.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!_?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=y}let w=new URL((r=_?.url)!==null&&r!==void 0?r:window.location.href),D=await b.request({method:"eth_requestAccounts"}).then(B=>B).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!D||D.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");let x=yw(D[0]),C=(i=_?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!C){let B=await b.request({method:"eth_chainId"});C=lR(B)}let N={domain:w.host,address:x,statement:v,uri:w.href,version:"1",chainId:C,nonce:(o=_?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(a=(s=_?.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(c=_?.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(l=_?.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=_?.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=_?.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=dR(N),g=await b.request({method:"personal_sign",params:[uR(p),x]})}try{let{data:m,error:y}=await V(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:g},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:_n});if(y)throw y;if(!m||!m.session||!m.user){let v=new dr;return this._returnResult({data:{user:null,session:null},error:v})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:Object.assign({},m),error:y})}catch(m){if(O(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async signInWithSolana(e){var r,i,o,s,a,c,l,u,d,f,h,p;let g,m;if("message"in e)g=e.message,m=e.signature;else{let{chain:y,wallet:v,statement:_,options:b}=e,w;if(et())if(typeof v=="object")w=v;else{let x=window;if("solana"in x&&typeof x.solana=="object"&&("signIn"in x.solana&&typeof x.solana.signIn=="function"||"signMessage"in x.solana&&typeof x.solana.signMessage=="function"))w=x.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!b?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=v}let D=new URL((r=b?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in w&&w.signIn){let x=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b?.signInWithSolana),{version:"1",domain:D.host,uri:D.href}),_?{statement:_}:null)),C;if(Array.isArray(x)&&x[0]&&typeof x[0]=="object")C=x[0];else if(x&&typeof x=="object"&&"signedMessage"in x&&"signature"in x)C=x;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)g=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),m=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${D.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),..._?["",_,""]:[""],"Version: 1",`URI: ${D.href}`,`Issued At: ${(o=(i=b?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((s=b?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((a=b?.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((c=b?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((l=b?.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((u=b?.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((f=(d=b?.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...b.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);let x=await w.signMessage(new TextEncoder().encode(g),"utf8");if(!x||!(x instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=x}}try{let{data:y,error:v}=await V(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:Wr(m)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:_n});if(v)throw v;if(!y||!y.session||!y.user){let _=new dr;return this._returnResult({data:{user:null,session:null},error:_})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:v})}catch(y){if(O(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async _exchangeCodeForSession(e){let r=await zi(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(r??"").split("/");try{let{data:s,error:a}=await V(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:_n});if(await at(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!s||!s.session||!s.user){let c=new dr;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:o??null}),error:a})}catch(s){if(await at(this.storage,`${this.storageKey}-code-verifier`),O(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(e){try{let{options:r,provider:i,token:o,access_token:s,nonce:a}=e,c=await V(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:_n}),{data:l,error:u}=c;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){let d=new dr;return this._returnResult({data:{user:null,session:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(r){if(O(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,i,o,s,a;try{if("email"in e){let{email:c,options:l}=e,u=null,d=null;this.flowType==="pkce"&&([u,d]=await Jo(this.storage,this.storageKey));let{error:f}=await V(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=l?.data)!==null&&r!==void 0?r:{},create_user:(i=l?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in e){let{phone:c,options:l}=e,{data:u,error:d}=await V(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(o=l?.data)!==null&&o!==void 0?o:{},create_user:(s=l?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(a=l?.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u?.message_id},error:d})}throw new Bi("You must provide either an email or phone number.")}catch(c){if(await at(this.storage,`${this.storageKey}-code-verifier`),O(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async verifyOtp(e){var r,i;try{let o,s;"options"in e&&(o=(r=e.options)===null||r===void 0?void 0:r.redirectTo,s=(i=e.options)===null||i===void 0?void 0:i.captchaToken);let{data:a,error:c}=await V(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:o,xform:_n});if(c)throw c;if(!a)throw new Error("An error occurred on token verification.");let l=a.session,u=a.user;return l?.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(o){if(O(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(e){var r,i,o,s,a;try{let c=null,l=null;this.flowType==="pkce"&&([c,l]=await Jo(this.storage,this.storageKey));let u=await V(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=e?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:l}),headers:this.headers,xform:nR});return!((s=u.data)===null||s===void 0)&&s.url&&et()&&!(!((a=e.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(c){if(await at(this.storage,`${this.storageKey}-code-verifier`),O(c))return this._returnResult({data:null,error:c});throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{let{data:{session:r},error:i}=e;if(i)throw i;if(!r)throw new st;let{error:o}=await V(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(e){if(O(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{let r=`${this.url}/resend`;if("email"in e){let{email:i,type:o,options:s}=e,{error:a}=await V(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in e){let{phone:i,type:o,options:s}=e,{data:a,error:c}=await V(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a?.message_id},error:c})}throw new Bi("You must provide either an email or phone number and a type")}catch(r){if(O(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){let i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await i,await r()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let i=r();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){let o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{let r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null,r=await zi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};let i=e.expires_at?e.expires_at*1e3-Date.now()<pp:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.userStorage){let a=await zi(this.userStorage,this.storageKey+"-user");a?.user?e.user=a.user:e.user=wp()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){let a={value:this.suppressGetSessionWarning};e.user=eR(e.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}let{data:o,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;let r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await V(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:fr}):await this._useSession(async r=>{var i,o,s;let{data:a,error:c}=r;if(c)throw c;return!(!((i=a.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new st}:await V(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(o=a.session)===null||o===void 0?void 0:o.access_token)!==null&&s!==void 0?s:void 0,xform:fr})})}catch(r){if(O(r))return sw(r)&&(await this._removeSession(),await at(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async i=>{let{data:o,error:s}=i;if(s)throw s;if(!o.session)throw new st;let a=o.session,c=null,l=null;this.flowType==="pkce"&&e.email!=null&&([c,l]=await Jo(this.storage,this.storageKey));let{data:u,error:d}=await V(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:c,code_challenge_method:l}),jwt:a.access_token,xform:fr});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(i){if(await at(this.storage,`${this.storageKey}-code-verifier`),O(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new st;let r=Date.now()/1e3,i=r,o=!0,s=null,{payload:a}=_p(e.access_token);if(a.exp&&(i=a.exp,o=i<=r),o){let{data:c,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!c)return{data:{user:null,session:null},error:null};s=c}else{let{data:c,error:l}=await this._getUser(e.access_token);if(l)throw l;s={access_token:e.access_token,refresh_token:e.refresh_token,user:c.user,token_type:"bearer",expires_in:i-r,expires_at:i},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if(O(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var i;if(!e){let{data:a,error:c}=r;if(c)throw c;e=(i=a.session)!==null&&i!==void 0?i:void 0}if(!e?.refresh_token)throw new st;let{data:o,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(O(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!et())throw new Ui("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ui(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new ja("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ui("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new ja("No code detected.");let{data:_,error:b}=await this._exchangeCodeForSession(e.code);if(b)throw b;let w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:_.session,redirectType:null},error:null}}let{provider_token:i,provider_refresh_token:o,access_token:s,refresh_token:a,expires_in:c,expires_at:l,token_type:u}=e;if(!s||!c||!a||!u)throw new Ui("No session defined in URL");let d=Math.round(Date.now()/1e3),f=parseInt(c),h=d+f;l&&(h=parseInt(l));let p=h-d;p*1e3<=Go&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);let g=h-f;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,d);let{data:m,error:y}=await this._getUser(s);if(y)throw y;let v={provider_token:i,provider_refresh_token:o,access_token:s,expires_in:f,expires_at:h,refresh_token:a,token_type:u,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:v,redirectType:e.type},error:null})}catch(i){if(O(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){let r=await zi(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var i;let{data:o,error:s}=r;if(s)return this._returnResult({error:s});let a=(i=o.session)===null||i===void 0?void 0:i.access_token;if(a){let{error:c}=await this.admin.signOut(a,e);if(c&&!(ow(c)&&(c.status===404||c.status===401||c.status===403)))return this._returnResult({error:c})}return e!=="others"&&(await this._removeSession(),await at(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){let r=Gk(),i={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async r=>{var i,o;try{let{data:{session:s},error:a}=r;if(a)throw a;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,r={}){let i=null,o=null;this.flowType==="pkce"&&([i,o]=await Jo(this.storage,this.storageKey,!0));try{return await V(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:o,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(await at(this.storage,`${this.storageKey}-code-verifier`),O(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var e;try{let{data:r,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(O(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{let{data:i,error:o}=await this._useSession(async s=>{var a,c,l,u,d;let{data:f,error:h}=s;if(h)throw h;let p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(c=e.options)===null||c===void 0?void 0:c.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await V(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(o)throw o;return et()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i?.url),this._returnResult({data:{provider:e.provider,url:i?.url},error:null})}catch(i){if(O(i))return this._returnResult({data:{provider:e.provider,url:null},error:i});throw i}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var i;try{let{error:o,data:{session:s}}=r;if(o)throw o;let{options:a,provider:c,token:l,access_token:u,nonce:d}=e,f=await V(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=s?.access_token)!==null&&i!==void 0?i:void 0,body:{provider:c,id_token:l,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:_n}),{data:h,error:p}=f;return p?this._returnResult({data:{user:null,session:null},error:p}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new dr}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:p}))}catch(o){if(await at(this.storage,`${this.storageKey}-code-verifier`),O(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var i,o;let{data:s,error:a}=r;if(a)throw a;return await V(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})})}catch(r){if(O(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){let r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{let i=Date.now();return await Zk(async o=>(o>0&&await Yk(200*Math.pow(2,o-1)),this._debug(r,"refreshing attempt",o),await V(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:_n})),(o,s)=>{let a=200*Math.pow(2,o);return s&&eu(s)&&Date.now()+a-i<Go})}catch(i){if(this._debug(r,"error",i),O(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){let i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",i),et()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e,r;let i="#_recoverAndRefresh()";this._debug(i,"begin");try{let o=await zi(this.storage,this.storageKey);if(o&&this.userStorage){let a=await zi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:o.user},await Zo(this.userStorage,this.storageKey+"-user",a)),o.user=(e=a?.user)!==null&&e!==void 0?e:wp()}else if(o&&!o.user&&!o.user){let a=await zi(this.storage,this.storageKey+"-user");a&&a?.user?(o.user=a.user,await at(this.storage,this.storageKey+"-user"),await Zo(this.storage,this.storageKey,o)):o.user=wp()}if(this._debug(i,"session from storage",o),!this._isValidSession(o)){this._debug(i,"session is not valid"),o!==null&&await this._removeSession();return}let s=((r=o.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<pp;if(this._debug(i,`session has${s?"":" not"} expired with margin of ${pp}s`),s){if(this.autoRefreshToken&&o.refresh_token){let{error:a}=await this._callRefreshToken(o.refresh_token);a&&(console.error(a),eu(a)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{let{data:a,error:c}=await this._getUser(o.access_token);!c&&a?.user?(o.user=a.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(i,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(i,"error",o),console.error(o);return}finally{this._debug(i,"end")}}async _callRefreshToken(e){var r,i;if(!e)throw new st;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new tu;let{data:s,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!s.session)throw new st;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);let c={data:s.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(s){if(this._debug(o,"error",s),O(s)){let a={data:null,error:s};return eu(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(s),s}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,r,i=!0){let o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:r});let s=[],a=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(e,r)}catch(l){s.push(l)}});if(await Promise.all(a),s.length>0){for(let c=0;c<s.length;c+=1)console.error(s[c]);throw s[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await at(this.storage,`${this.storageKey}-code-verifier`);let r=Object.assign({},e),i=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&r.user&&await Zo(this.userStorage,this.storageKey+"-user",{user:r.user});let o=Object.assign({},r);delete o.user;let s=lw(o);await Zo(this.storage,this.storageKey,s)}else{let o=lw(r);await Zo(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await at(this.storage,this.storageKey),await at(this.storage,this.storageKey+"-code-verifier"),await at(this.storage,this.storageKey+"-user"),this.userStorage&&await at(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&et()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let e=setInterval(()=>this._autoRefreshTokenTick(),Go);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");let e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{let e=Date.now();try{return await this._useSession(async r=>{let{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let o=Math.floor((i.expires_at*1e3-e)/Go);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Go}ms, refresh threshold is ${hp} ticks`),o<=hp&&await this._callRefreshToken(i.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Ua)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!et()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){let r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,i){let o=[`provider=${encodeURIComponent(r)}`];if(i?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){let[s,a]=await Jo(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});o.push(c.toString())}if(i?.queryParams){let s=new URLSearchParams(i.queryParams);o.push(s.toString())}return i?.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var i;let{data:o,error:s}=r;return s?this._returnResult({data:null,error:s}):await V(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})})}catch(r){if(O(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var i,o;let{data:s,error:a}=r;if(a)return this._returnResult({data:null,error:a});let c=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:u}=await V(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&l.type==="totp"&&(!((o=l?.totp)===null||o===void 0)&&o.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(O(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var i;let{data:o,error:s}=r;if(s)return this._returnResult({data:null,error:s});let a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?bR(e.webauthn.credential_response):_R(e.webauthn.credential_response)})}:{code:e.code}),{data:c,error:l}=await V(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:l}))})}catch(r){if(O(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var i;let{data:o,error:s}=r;if(s)return this._returnResult({data:null,error:s});let a=await V(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});if(a.error)return a;let{data:c}=a;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:yR(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:vR(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(O(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){let{data:r,error:i}=await this._challenge({factorId:e.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;let{data:{user:r},error:i}=await this.getUser();if(i)return{data:null,error:i};let o={all:[],phone:[],totp:[],webauthn:[]};for(let s of(e=r?.factors)!==null&&e!==void 0?e:[])o.all.push(s),s.status==="verified"&&o[s.factor_type].push(s);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;let{data:{session:i},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:s}=_p(i.access_token),a=null;s.aal&&(a=s.aal);let c=a;((r=(e=i.user.factors)===null||e===void 0?void 0:e.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");let u=s.amr||[];return{data:{currentLevel:a,nextLevel:c,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{let{data:{session:i},error:o}=r;return o?this._returnResult({data:null,error:o}):i?await V(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:i.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new st})})}catch(r){if(O(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async i=>{let{data:{session:o},error:s}=i;if(s)return this._returnResult({data:null,error:s});if(!o)return this._returnResult({data:null,error:new st});let a=await V(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return a.data&&a.data.redirect_url&&et()&&!r?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a})}catch(i){if(O(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(e,r){try{return await this._useSession(async i=>{let{data:{session:o},error:s}=i;if(s)return this._returnResult({data:null,error:s});if(!o)return this._returnResult({data:null,error:new st});let a=await V(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return a.data&&a.data.redirect_url&&et()&&!r?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a})}catch(i){if(O(i))return this._returnResult({data:null,error:i});throw i}}async _listOAuthGrants(){try{return await this._useSession(async e=>{let{data:{session:r},error:i}=e;return i?this._returnResult({data:null,error:i}):r?await V(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new st})})}catch(e){if(O(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{let{data:{session:i},error:o}=r;return o?this._returnResult({data:null,error:o}):i?(await V(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new st})})}catch(r){if(O(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let i=r.keys.find(c=>c.kid===e);if(i)return i;let o=Date.now();if(i=this.jwks.keys.find(c=>c.kid===e),i&&this.jwks_cached_at+Bk>o)return i;let{data:s,error:a}=await V(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=o,i=s.keys.find(c=>c.kid===e),!i)?null:i}async getClaims(e,r={}){try{let i=e;if(!i){let{data:p,error:g}=await this.getSession();if(g||!p.session)return this._returnResult({data:null,error:g});i=p.session.access_token}let{header:o,payload:s,signature:a,raw:{header:c,payload:l}}=_p(i);r?.allowExpired||Qk(s.exp);let u=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!u){let{error:p}=await this.getUser(i);if(p)throw p;return{data:{claims:s,header:o,signature:a},error:null}}let d=Xk(o.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,a,zk(`${c}.${l}`)))throw new $i("Invalid JWT signature");return{data:{claims:s,header:o,signature:a},error:null}}catch(i){if(O(i))return this._returnResult({data:null,error:i});throw i}}}return t.nextInstanceID={},t})(),Ip=KG});var YG,ER,DR=F(()=>{"use strict";Ep();YG=Wi,ER=YG});var ZG,CR,xR=F(()=>{"use strict";ww();ZG=Ip,CR=ZG});var Ew={};Ja(Ew,{AuthAdminApi:()=>ER,AuthApiError:()=>Xl,AuthClient:()=>CR,AuthError:()=>zr,AuthImplicitGrantRedirectError:()=>Ui,AuthInvalidCredentialsError:()=>Bi,AuthInvalidJwtError:()=>$i,AuthInvalidTokenResponseError:()=>dr,AuthPKCEGrantCodeExchangeError:()=>ja,AuthRetryableFetchError:()=>qo,AuthSessionMissingError:()=>st,AuthUnknownError:()=>tn,AuthWeakPasswordError:()=>Va,CustomAuthError:()=>Un,GoTrueAdminApi:()=>Wi,GoTrueClient:()=>Ip,NavigatorLockAcquireTimeoutError:()=>ru,SIGN_OUT_SCOPES:()=>nu,isAuthApiError:()=>ow,isAuthError:()=>O,isAuthImplicitGrantRedirectError:()=>aw,isAuthRetryableFetchError:()=>eu,isAuthSessionMissingError:()=>sw,isAuthWeakPasswordError:()=>xG,lockInternals:()=>Gi,navigatorLock:()=>Dp,processLock:()=>sR});var Dw=F(()=>{"use strict";Ep();ww();DR();xR();hw();Ko();mw()});var IR=Rt(Sp=>{"use strict";Object.defineProperty(Sp,"__esModule",{value:!0});Sp.SupabaseAuthClient=void 0;var JG=(Dw(),zt(Ew)),Cw=class extends JG.AuthClient{constructor(n){super(n)}};Sp.SupabaseAuthClient=Cw});var Sw=Rt(Iw=>{"use strict";Object.defineProperty(Iw,"__esModule",{value:!0});var QG=(p_(),zt(h_)),XG=k_(),eq=(G_(),zt(W_)),tq=(Ak(),zt(Mk)),Tp=Rk(),nq=Ok(),SR=Pk(),rq=IR(),xw=class{constructor(n,e,r){var i,o,s;this.supabaseUrl=n,this.supabaseKey=e;let a=(0,SR.validateSupabaseUrl)(n);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);let c=`sb-${a.hostname.split(".")[0]}-auth-token`,l={db:Tp.DEFAULT_DB_OPTIONS,realtime:Tp.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},Tp.DEFAULT_AUTH_OPTIONS),{storageKey:c}),global:Tp.DEFAULT_GLOBAL_OPTIONS},u=(0,SR.applySettingDefaults)(r??{},l);this.storageKey=(i=u.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=u.global.headers)!==null&&o!==void 0?o:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=u.auth)!==null&&s!==void 0?s:{},this.headers,u.global.fetch),this.fetch=(0,nq.fetchWithAuth)(e,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new XG.PostgrestClient(new URL("rest/v1",a).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new tq.StorageClient(this.storageUrl.href,this.headers,this.fetch,r?.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new QG.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,e={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(n,e,r)}channel(n,e={config:{}}){return this.realtime.channel(n,e)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var n,e;if(this.accessToken)return await this.accessToken();let{data:r}=await this.auth.getSession();return(e=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:e,detectSessionInUrl:r,storage:i,userStorage:o,storageKey:s,flowType:a,lock:c,debug:l,throwOnError:u},d,f){let h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new rq.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),d),storageKey:s,autoRefreshToken:n,persistSession:e,detectSessionInUrl:r,storage:i,userStorage:o,flowType:a,lock:c,debug:l,throwOnError:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(n){return new eq.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},n),{params:Object.assign({apikey:this.supabaseKey},n?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,r)=>{this._handleTokenChanged(e,"CLIENT",r?.access_token)})}_handleTokenChanged(n,e,r){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):n==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};Iw.default=xw});var AR=Rt(Ee=>{"use strict";var iq=Ee&&Ee.__createBinding||(Object.create?function(t,n,e,r){r===void 0&&(r=e);var i=Object.getOwnPropertyDescriptor(n,e);(!i||("get"in i?!n.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return n[e]}}),Object.defineProperty(t,r,i)}:function(t,n,e,r){r===void 0&&(r=e),t[r]=n[e]}),TR=Ee&&Ee.__exportStar||function(t,n){for(var e in t)e!=="default"&&!Object.prototype.hasOwnProperty.call(n,e)&&iq(n,t,e)},MR=Ee&&Ee.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ee,"__esModule",{value:!0});Ee.createClient=Ee.SupabaseClient=Ee.FunctionRegion=Ee.FunctionsError=Ee.FunctionsRelayError=Ee.FunctionsFetchError=Ee.FunctionsHttpError=Ee.PostgrestError=void 0;var oq=MR(Sw());TR((Dw(),zt(Ew)),Ee);var sq=k_();Object.defineProperty(Ee,"PostgrestError",{enumerable:!0,get:function(){return sq.PostgrestError}});var iu=(p_(),zt(h_));Object.defineProperty(Ee,"FunctionsHttpError",{enumerable:!0,get:function(){return iu.FunctionsHttpError}});Object.defineProperty(Ee,"FunctionsFetchError",{enumerable:!0,get:function(){return iu.FunctionsFetchError}});Object.defineProperty(Ee,"FunctionsRelayError",{enumerable:!0,get:function(){return iu.FunctionsRelayError}});Object.defineProperty(Ee,"FunctionsError",{enumerable:!0,get:function(){return iu.FunctionsError}});Object.defineProperty(Ee,"FunctionRegion",{enumerable:!0,get:function(){return iu.FunctionRegion}});TR((G_(),zt(W_)),Ee);var aq=Sw();Object.defineProperty(Ee,"SupabaseClient",{enumerable:!0,get:function(){return MR(aq).default}});var cq=(t,n,e)=>new oq.default(t,n,e);Ee.createClient=cq;function lq(){if(typeof window<"u"||typeof process>"u")return!1;let t=process.version;if(t==null)return!1;let n=t.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}lq()&&console.warn("\u26A0\uFE0F  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")});var vt=null,mu=!1,Xp=1,AO=null,Ct=Symbol("SIGNAL");function Y(t){let n=vt;return vt=t,n}function vu(){return vt}var Qa={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Xa(t){if(mu)throw new Error("");if(vt===null)return;vt.consumerOnSignalRead(t);let n=vt.producersTail;if(n!==void 0&&n.producer===t)return;let e,r=vt.recomputing;if(r&&(e=n!==void 0?n.nextProducer:vt.producers,e!==void 0&&e.producer===t)){vt.producersTail=e,e.lastReadVersion=t.version;return}let i=t.consumersTail;if(i!==void 0&&i.consumer===vt&&(!r||RO(i,vt)))return;let o=ss(vt),s={producer:t,consumer:vt,nextProducer:e,prevConsumer:i,lastReadVersion:t.version,nextConsumer:void 0};vt.producersTail=s,n!==void 0?n.nextProducer=s:vt.producers=s,o&&t0(t,s)}function Qw(){Xp++}function eg(t){if(!(ss(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Xp)){if(!t.producerMustRecompute(t)&&!_u(t)){Qp(t);return}t.producerRecomputeValue(t),Qp(t)}}function tg(t){if(t.consumers===void 0)return;let n=mu;mu=!0;try{for(let e=t.consumers;e!==void 0;e=e.nextConsumer){let r=e.consumer;r.dirty||kO(r)}}finally{mu=n}}function ng(){return vt?.consumerAllowSignalWrites!==!1}function kO(t){t.dirty=!0,tg(t),t.consumerMarkedDirty?.(t)}function Qp(t){t.dirty=!1,t.lastCleanEpoch=Xp}function ec(t){return t&&Xw(t),Y(t)}function Xw(t){t.producersTail=void 0,t.recomputing=!0}function bu(t,n){Y(n),t&&e0(t)}function e0(t){t.recomputing=!1;let n=t.producersTail,e=n!==void 0?n.nextProducer:t.producers;if(e!==void 0){if(ss(t))do e=rg(e);while(e!==void 0);n!==void 0?n.nextProducer=void 0:t.producers=void 0}}function _u(t){for(let n=t.producers;n!==void 0;n=n.nextProducer){let e=n.producer,r=n.lastReadVersion;if(r!==e.version||(eg(e),r!==e.version))return!0}return!1}function tc(t){if(ss(t)){let n=t.producers;for(;n!==void 0;)n=rg(n)}t.producers=void 0,t.producersTail=void 0,t.consumers=void 0,t.consumersTail=void 0}function t0(t,n){let e=t.consumersTail,r=ss(t);if(e!==void 0?(n.nextConsumer=e.nextConsumer,e.nextConsumer=n):(n.nextConsumer=void 0,t.consumers=n),n.prevConsumer=e,t.consumersTail=n,!r)for(let i=t.producers;i!==void 0;i=i.nextProducer)t0(i.producer,i)}function rg(t){let n=t.producer,e=t.nextProducer,r=t.nextConsumer,i=t.prevConsumer;if(t.nextConsumer=void 0,t.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:n.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(n.consumers=r,!ss(n)){let o=n.producers;for(;o!==void 0;)o=rg(o)}return e}function ss(t){return t.consumerIsAlwaysLive||t.consumers!==void 0}function ig(t){AO?.(t)}function RO(t,n){let e=n.producersTail;if(e!==void 0){let r=n.producers;do{if(r===t)return!0;if(r===e)break;r=r.nextProducer}while(r!==void 0)}return!1}function og(t,n){return Object.is(t,n)}function wu(t,n){let e=Object.create(OO);e.computation=t,n!==void 0&&(e.equal=n);let r=()=>{if(eg(e),Xa(e),e.value===yu)throw e.error;return e.value};return r[Ct]=e,ig(e),r}var Zp=Symbol("UNSET"),Jp=Symbol("COMPUTING"),yu=Symbol("ERRORED"),OO=Q(I({},Qa),{value:Zp,dirty:!0,error:null,equal:og,kind:"computed",producerMustRecompute(t){return t.value===Zp||t.value===Jp},producerRecomputeValue(t){if(t.value===Jp)throw new Error("");let n=t.value;t.value=Jp;let e=ec(t),r,i=!1;try{r=t.computation(),Y(null),i=n!==Zp&&n!==yu&&r!==yu&&t.equal(n,r)}catch(o){r=yu,t.error=o}finally{bu(t,e)}if(i){t.value=n;return}t.value=r,t.version++}});function NO(){throw new Error}var n0=NO;function r0(t){n0(t)}function sg(t){n0=t}var PO=null;function ag(t,n){let e=Object.create(Eu);e.value=t,n!==void 0&&(e.equal=n);let r=()=>i0(e);return r[Ct]=e,ig(e),[r,s=>nc(e,s),s=>o0(e,s)]}function i0(t){return Xa(t),t.value}function nc(t,n){ng()||r0(t),t.equal(t.value,n)||(t.value=n,FO(t))}function o0(t,n){ng()||r0(t),nc(t,n(t.value))}var Eu=Q(I({},Qa),{equal:og,value:void 0,kind:"signal"});function FO(t){t.version++,Qw(),tg(t),PO?.(t)}function cg(t){let n=Y(null);try{return t()}finally{Y(n)}}function q(t){return typeof t=="function"}function as(t){let e=t(r=>{Error.call(r),r.stack=new Error().stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var Du=as(t=>function(e){t(this),this.message=e?`${e.length} errors occurred during unsubscription:
${e.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=e});function rc(t,n){if(t){let e=t.indexOf(n);0<=e&&t.splice(e,1)}}var Ye=class t{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;let{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(let o of e)o.remove(this);else e.remove(this);let{initialTeardown:r}=this;if(q(r))try{r()}catch(o){n=o instanceof Du?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{s0(o)}catch(s){n=n??[],s instanceof Du?n=[...n,...s.errors]:n.push(s)}}if(n)throw new Du(n)}}add(n){var e;if(n&&n!==this)if(this.closed)s0(n);else{if(n instanceof t){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=(e=this._finalizers)!==null&&e!==void 0?e:[]).push(n)}}_hasParent(n){let{_parentage:e}=this;return e===n||Array.isArray(e)&&e.includes(n)}_addParent(n){let{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(n),e):e?[e,n]:n}_removeParent(n){let{_parentage:e}=this;e===n?this._parentage=null:Array.isArray(e)&&rc(e,n)}remove(n){let{_finalizers:e}=this;e&&rc(e,n),n instanceof t&&n._removeParent(this)}};Ye.EMPTY=(()=>{let t=new Ye;return t.closed=!0,t})();var lg=Ye.EMPTY;function Cu(t){return t instanceof Ye||t&&"closed"in t&&q(t.remove)&&q(t.add)&&q(t.unsubscribe)}function s0(t){q(t)?t():t.unsubscribe()}var Dn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var cs={setTimeout(t,n,...e){let{delegate:r}=cs;return r?.setTimeout?r.setTimeout(t,n,...e):setTimeout(t,n,...e)},clearTimeout(t){let{delegate:n}=cs;return(n?.clearTimeout||clearTimeout)(t)},delegate:void 0};function xu(t){cs.setTimeout(()=>{let{onUnhandledError:n}=Dn;if(n)n(t);else throw t})}function ic(){}var a0=ug("C",void 0,void 0);function c0(t){return ug("E",void 0,t)}function l0(t){return ug("N",t,void 0)}function ug(t,n,e){return{kind:t,value:n,error:e}}var Yi=null;function ls(t){if(Dn.useDeprecatedSynchronousErrorHandling){let n=!Yi;if(n&&(Yi={errorThrown:!1,error:null}),t(),n){let{errorThrown:e,error:r}=Yi;if(Yi=null,e)throw r}}else t()}function u0(t){Dn.useDeprecatedSynchronousErrorHandling&&Yi&&(Yi.errorThrown=!0,Yi.error=t)}var Zi=class extends Ye{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,Cu(n)&&n.add(this)):this.destination=VO}static create(n,e,r){return new hr(n,e,r)}next(n){this.isStopped?fg(l0(n),this):this._next(n)}error(n){this.isStopped?fg(c0(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?fg(a0,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},LO=Function.prototype.bind;function dg(t,n){return LO.call(t,n)}var hg=class{constructor(n){this.partialObserver=n}next(n){let{partialObserver:e}=this;if(e.next)try{e.next(n)}catch(r){Iu(r)}}error(n){let{partialObserver:e}=this;if(e.error)try{e.error(n)}catch(r){Iu(r)}else Iu(n)}complete(){let{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(e){Iu(e)}}},hr=class extends Zi{constructor(n,e,r){super();let i;if(q(n)||!n)i={next:n??void 0,error:e??void 0,complete:r??void 0};else{let o;this&&Dn.useDeprecatedNextContext?(o=Object.create(n),o.unsubscribe=()=>this.unsubscribe(),i={next:n.next&&dg(n.next,o),error:n.error&&dg(n.error,o),complete:n.complete&&dg(n.complete,o)}):i=n}this.destination=new hg(i)}};function Iu(t){Dn.useDeprecatedSynchronousErrorHandling?u0(t):xu(t)}function jO(t){throw t}function fg(t,n){let{onStoppedNotification:e}=Dn;e&&cs.setTimeout(()=>e(t,n))}var VO={closed:!0,next:ic,error:jO,complete:ic};var us=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Wt(t){return t}function pg(...t){return gg(t)}function gg(t){return t.length===0?Wt:t.length===1?t[0]:function(e){return t.reduce((r,i)=>i(r),e)}}var ne=(()=>{class t{constructor(e){e&&(this._subscribe=e)}lift(e){let r=new t;return r.source=this,r.operator=e,r}subscribe(e,r,i){let o=UO(e)?e:new hr(e,r,i);return ls(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(r){e.error(r)}}forEach(e,r){return r=d0(r),new r((i,o)=>{let s=new hr({next:a=>{try{e(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(e){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(e)}[us](){return this}pipe(...e){return gg(e)(this)}toPromise(e){return e=d0(e),new e((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=n=>new t(n),t})();function d0(t){var n;return(n=t??Dn.Promise)!==null&&n!==void 0?n:Promise}function BO(t){return t&&q(t.next)&&q(t.error)&&q(t.complete)}function UO(t){return t&&t instanceof Zi||BO(t)&&Cu(t)}function $O(t){return q(t?.lift)}function ie(t){return n=>{if($O(n))return n.lift(function(e){try{return t(e,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ae(t,n,e,r,i){return new mg(t,n,e,r,i)}var mg=class extends Zi{constructor(n,e,r,i,o,s){super(n),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(c){n.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){n.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:e}=this;super.unsubscribe(),!e&&((n=this.onFinalize)===null||n===void 0||n.call(this))}}};var f0=as(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ve=(()=>{class t extends ne{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){let r=new Su(this,this);return r.operator=e,r}_throwIfClosed(){if(this.closed)throw new f0}next(e){ls(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(e)}})}error(e){ls(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;let{observers:r}=this;for(;r.length;)r.shift().error(e)}})}complete(){ls(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return((e=this.observers)===null||e===void 0?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){let{hasError:r,isStopped:i,observers:o}=this;return r||i?lg:(this.currentObservers=null,o.push(e),new Ye(()=>{this.currentObservers=null,rc(o,e)}))}_checkFinalizedStatuses(e){let{hasError:r,thrownError:i,isStopped:o}=this;r?e.error(i):o&&e.complete()}asObservable(){let e=new ne;return e.source=this,e}}return t.create=(n,e)=>new Su(n,e),t})(),Su=class extends Ve{constructor(n,e){super(),this.destination=n,this.source=e}next(n){var e,r;(r=(e=this.destination)===null||e===void 0?void 0:e.next)===null||r===void 0||r.call(e,n)}error(n){var e,r;(r=(e=this.destination)===null||e===void 0?void 0:e.error)===null||r===void 0||r.call(e,n)}complete(){var n,e;(e=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||e===void 0||e.call(n)}_subscribe(n){var e,r;return(r=(e=this.source)===null||e===void 0?void 0:e.subscribe(n))!==null&&r!==void 0?r:lg}};var Ze=class extends Ve{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){let e=super._subscribe(n);return!e.closed&&n.next(this._value),e}getValue(){let{hasError:n,thrownError:e,_value:r}=this;if(n)throw e;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}};var Ot=new ne(t=>t.complete());function h0(t){return t&&q(t.schedule)}function p0(t){return t[t.length-1]}function Tu(t){return q(p0(t))?t.pop():void 0}function qr(t){return h0(p0(t))?t.pop():void 0}Me();var Nu=t=>t&&typeof t.length=="number"&&typeof t!="function";function Pu(t){return q(t?.then)}function Fu(t){return q(t[us])}function Lu(t){return Symbol.asyncIterator&&q(t?.[Symbol.asyncIterator])}function ju(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function GO(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Vu=GO();function Bu(t){return q(t?.[Vu])}Me();function Uu(t){return Ru(this,arguments,function*(){let e=t.getReader();try{for(;;){let{value:r,done:i}=yield $n(e.read());if(i)return yield $n(void 0);yield yield $n(r)}}finally{e.releaseLock()}})}function $u(t){return q(t?.getReader)}function Oe(t){if(t instanceof ne)return t;if(t!=null){if(Fu(t))return qO(t);if(Nu(t))return KO(t);if(Pu(t))return YO(t);if(Lu(t))return j0(t);if(Bu(t))return ZO(t);if($u(t))return JO(t)}throw ju(t)}function qO(t){return new ne(n=>{let e=t[us]();if(q(e.subscribe))return e.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function KO(t){return new ne(n=>{for(let e=0;e<t.length&&!n.closed;e++)n.next(t[e]);n.complete()})}function YO(t){return new ne(n=>{t.then(e=>{n.closed||(n.next(e),n.complete())},e=>n.error(e)).then(null,xu)})}function ZO(t){return new ne(n=>{for(let e of t)if(n.next(e),n.closed)return;n.complete()})}function j0(t){return new ne(n=>{QO(t,n).catch(e=>n.error(e))})}function JO(t){return j0(Uu(t))}function QO(t,n){var e,r,i,o;return M(this,void 0,void 0,function*(){try{for(e=Ou(t);r=yield e.next(),!r.done;){let s=r.value;if(n.next(s),n.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=e.return)&&(yield o.call(e))}finally{if(i)throw i.error}}n.complete()})}function Nt(t,n,e,r=0,i=!1){let o=n.schedule(function(){e(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Hu(t,n=0){return ie((e,r)=>{e.subscribe(ae(r,i=>Nt(r,t,()=>r.next(i),n),()=>Nt(r,t,()=>r.complete(),n),i=>Nt(r,t,()=>r.error(i),n)))})}function zu(t,n=0){return ie((e,r)=>{r.add(t.schedule(()=>e.subscribe(r),n))})}function V0(t,n){return Oe(t).pipe(zu(n),Hu(n))}function B0(t,n){return Oe(t).pipe(zu(n),Hu(n))}function U0(t,n){return new ne(e=>{let r=0;return n.schedule(function(){r===t.length?e.complete():(e.next(t[r++]),e.closed||this.schedule())})})}function $0(t,n){return new ne(e=>{let r;return Nt(e,n,()=>{r=t[Vu](),Nt(e,n,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){e.error(s);return}o?e.complete():e.next(i)},0,!0)}),()=>q(r?.return)&&r.return()})}function Wu(t,n){if(!t)throw new Error("Iterable cannot be null");return new ne(e=>{Nt(e,n,()=>{let r=t[Symbol.asyncIterator]();Nt(e,n,()=>{r.next().then(i=>{i.done?e.complete():e.next(i.value)})},0,!0)})})}function H0(t,n){return Wu(Uu(t),n)}function z0(t,n){if(t!=null){if(Fu(t))return V0(t,n);if(Nu(t))return U0(t,n);if(Pu(t))return B0(t,n);if(Lu(t))return Wu(t,n);if(Bu(t))return $0(t,n);if($u(t))return H0(t,n)}throw ju(t)}function ze(t,n){return n?z0(t,n):Oe(t)}function W(...t){let n=qr(t);return ze(t,n)}function oc(t,n){let e=q(t)?t:()=>t,r=i=>i.error(e());return new ne(n?i=>n.schedule(r,0,i):r)}function Gu(t){return!!t&&(t instanceof ne||q(t.lift)&&q(t.subscribe))}var Qi=as(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function X(t,n){return ie((e,r)=>{let i=0;e.subscribe(ae(r,o=>{r.next(t.call(n,o,i++))}))})}var{isArray:XO}=Array;function eN(t,n){return XO(n)?t(...n):t(n)}function qu(t){return X(n=>eN(t,n))}var{isArray:tN}=Array,{getPrototypeOf:nN,prototype:rN,keys:iN}=Object;function Ku(t){if(t.length===1){let n=t[0];if(tN(n))return{args:n,keys:null};if(oN(n)){let e=iN(n);return{args:e.map(r=>n[r]),keys:e}}}return{args:t,keys:null}}function oN(t){return t&&typeof t=="object"&&nN(t)===rN}function Yu(t,n){return t.reduce((e,r,i)=>(e[r]=n[i],e),{})}function _g(...t){let n=qr(t),e=Tu(t),{args:r,keys:i}=Ku(t);if(r.length===0)return ze([],n);let o=new ne(sN(r,n,i?s=>Yu(i,s):Wt));return e?o.pipe(qu(e)):o}function sN(t,n,e=Wt){return r=>{W0(n,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)W0(n,()=>{let l=ze(t[c],n),u=!1;l.subscribe(ae(r,d=>{o[c]=d,u||(u=!0,a--),a||r.next(e(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function W0(t,n,e){t?Nt(e,t,n):n()}function G0(t,n,e,r,i,o,s,a){let c=[],l=0,u=0,d=!1,f=()=>{d&&!c.length&&!l&&n.complete()},h=g=>l<r?p(g):c.push(g),p=g=>{o&&n.next(g),l++;let m=!1;Oe(e(g,u++)).subscribe(ae(n,y=>{i?.(y),o?h(y):n.next(y)},()=>{m=!0},void 0,()=>{if(m)try{for(l--;c.length&&l<r;){let y=c.shift();s?Nt(n,s,()=>p(y)):p(y)}f()}catch(y){n.error(y)}}))};return t.subscribe(ae(n,h,()=>{d=!0,f()})),()=>{a?.()}}function xt(t,n,e=1/0){return q(n)?xt((r,i)=>X((o,s)=>n(r,o,i,s))(Oe(t(r,i))),e):(typeof n=="number"&&(e=n),ie((r,i)=>G0(r,i,t,e)))}function q0(t=1/0){return xt(Wt,t)}function K0(){return q0(1)}function ds(...t){return K0()(ze(t,qr(t)))}function sc(t){return new ne(n=>{Oe(t()).subscribe(n)})}function ac(...t){let n=Tu(t),{args:e,keys:r}=Ku(t),i=new ne(o=>{let{length:s}=e;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let d=!1;Oe(e[u]).subscribe(ae(o,f=>{d||(d=!0,l--),a[u]=f},()=>c--,void 0,()=>{(!c||!d)&&(l||o.next(r?Yu(r,a):a),o.complete())}))}});return n?i.pipe(qu(n)):i}function nn(t,n){return ie((e,r)=>{let i=0;e.subscribe(ae(r,o=>t.call(n,o,i++)&&r.next(o)))})}function Xi(t){return ie((n,e)=>{let r=null,i=!1,o;r=n.subscribe(ae(e,void 0,void 0,s=>{o=Oe(t(s,Xi(t)(n))),r?(r.unsubscribe(),r=null,o.subscribe(e)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(e))})}function fs(t,n){return q(n)?xt(t,n,1):xt(t,1)}function wg(t){return ie((n,e)=>{let r=!1;n.subscribe(ae(e,i=>{r=!0,e.next(i)},()=>{r||e.next(t),e.complete()}))})}function Cn(t){return t<=0?()=>Ot:ie((n,e)=>{let r=0;n.subscribe(ae(e,i=>{++r<=t&&(e.next(i),t<=r&&e.complete())}))})}function Eg(t,n=Wt){return t=t??aN,ie((e,r)=>{let i,o=!0;e.subscribe(ae(r,s=>{let a=n(s);(o||!t(i,a))&&(o=!1,i=a,r.next(s))}))})}function aN(t,n){return t===n}function Y0(t=cN){return ie((n,e)=>{let r=!1;n.subscribe(ae(e,i=>{r=!0,e.next(i)},()=>r?e.complete():e.error(t())))})}function cN(){return new Qi}function eo(t){return ie((n,e)=>{try{n.subscribe(e)}finally{e.add(t)}})}function gr(t,n){let e=arguments.length>=2;return r=>r.pipe(t?nn((i,o)=>t(i,o,r)):Wt,Cn(1),e?wg(n):Y0(()=>new Qi))}function Zu(t){return t<=0?()=>Ot:ie((n,e)=>{let r=[];n.subscribe(ae(e,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)e.next(i);e.complete()},void 0,()=>{r=null}))})}function Cg(t={}){let{connector:n=()=>new Ve,resetOnError:e=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return o=>{let s,a,c,l=0,u=!1,d=!1,f=()=>{a?.unsubscribe(),a=void 0},h=()=>{f(),s=c=void 0,u=d=!1},p=()=>{let g=s;h(),g?.unsubscribe()};return ie((g,m)=>{l++,!d&&!u&&f();let y=c=c??n();m.add(()=>{l--,l===0&&!d&&!u&&(a=Dg(p,i))}),y.subscribe(m),!s&&l>0&&(s=new hr({next:v=>y.next(v),error:v=>{d=!0,f(),a=Dg(h,e,v),y.error(v)},complete:()=>{u=!0,f(),a=Dg(h,r),y.complete()}}),Oe(g).subscribe(s))})(o)}}function Dg(t,n,...e){if(n===!0){t();return}if(n===!1)return;let r=new hr({next:()=>{r.unsubscribe(),t()}});return Oe(n(...e)).subscribe(r)}function xg(...t){let n=qr(t);return ie((e,r)=>{(n?ds(t,e,n):ds(t,e)).subscribe(r)})}function rn(t,n){return ie((e,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();e.subscribe(ae(r,c=>{i?.unsubscribe();let l=0,u=o++;Oe(t(c,u)).subscribe(i=ae(r,d=>r.next(n?n(c,d,u,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function cc(t){return ie((n,e)=>{Oe(t).subscribe(ae(e,()=>e.complete(),ic)),!e.closed&&n.subscribe(e)})}function Je(t,n,e){let r=q(t)||n||e?{next:t,error:n,complete:e}:t;return r?ie((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(ae(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Wt}var Ig;function Ju(){return Ig}function Hn(t){let n=Ig;return Ig=t,n}var Z0=Symbol("NotFound");function hs(t){return t===Z0||t?.name==="\u0275NotFound"}var nd="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",R=class extends Error{code;constructor(n,e){super(Zr(n,e)),this.code=n}};function dN(t){return`NG0${Math.abs(t)}`}function Zr(t,n){return`${dN(t)}${n?": "+n:""}`}var Jr=globalThis;function le(t){for(let n in t)if(t[n]===le)return n;throw Error("")}function tE(t,n){for(let e in n)n.hasOwnProperty(e)&&!t.hasOwnProperty(e)&&(t[e]=n[e])}function yr(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(yr).join(", ")}]`;if(t==null)return""+t;let n=t.overriddenName||t.name;if(n)return`${n}`;let e=t.toString();if(e==null)return""+e;let r=e.indexOf(`
`);return r>=0?e.slice(0,r):e}function rd(t,n){return t?n?`${t} ${n}`:t:n||""}var fN=le({__forward_ref__:le});function on(t){return t.__forward_ref__=on,t.toString=function(){return yr(this())},t}function lt(t){return Ug(t)?t():t}function Ug(t){return typeof t=="function"&&t.hasOwnProperty(fN)&&t.__forward_ref__===on}function A(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Ft(t){return{providers:t.providers||[],imports:t.imports||[]}}function pc(t){return hN(t,id)}function $g(t){return pc(t)!==null}function hN(t,n){return t.hasOwnProperty(n)&&t[n]||null}function pN(t){let n=t?.[id]??null;return n||null}function Tg(t){return t&&t.hasOwnProperty(Xu)?t[Xu]:null}var id=le({\u0275prov:le}),Xu=le({\u0275inj:le}),k=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(n,e){this._desc=n,this.\u0275prov=void 0,typeof e=="number"?this.__NG_ELEMENT_ID__=e:e!==void 0&&(this.\u0275prov=A({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Hg(t){return t&&!!t.\u0275providers}var zg=le({\u0275cmp:le}),Wg=le({\u0275dir:le}),Gg=le({\u0275pipe:le}),qg=le({\u0275mod:le}),uc=le({\u0275fac:le}),so=le({__NG_ELEMENT_ID__:le}),J0=le({__NG_ENV_ID__:le});function ao(t){return typeof t=="string"?t:t==null?"":String(t)}function nE(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():ao(t)}var rE=le({ngErrorCode:le}),gN=le({ngErrorMessage:le}),mN=le({ngTokenPath:le});function Kg(t,n){return iE("",-200,n)}function od(t,n){throw new R(-201,!1)}function iE(t,n,e){let r=new R(n,t);return r[rE]=n,r[gN]=t,e&&(r[mN]=e),r}function yN(t){return t[rE]}var Mg;function oE(){return Mg}function Gt(t){let n=Mg;return Mg=t,n}function Yg(t,n,e){let r=pc(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(e&8)return null;if(n!==void 0)return n;od(t,"Injector")}var vN={},to=vN,bN="__NG_DI_FLAG__",Ag=class{injector;constructor(n){this.injector=n}retrieve(n,e){let r=no(e)||0;try{return this.injector.get(n,r&8?null:to,r)}catch(i){if(hs(i))return i;throw i}}};function _N(t,n=0){let e=Ju();if(e===void 0)throw new R(-203,!1);if(e===null)return Yg(t,void 0,n);{let r=wN(n),i=e.retrieve(t,r);if(hs(i)){if(r.optional)return null;throw i}return i}}function L(t,n=0){return(oE()||_N)(lt(t),n)}function E(t,n){return L(t,no(n))}function no(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function wN(t){return{optional:!!(t&8),host:!!(t&1),self:!!(t&2),skipSelf:!!(t&4)}}function kg(t){let n=[];for(let e=0;e<t.length;e++){let r=lt(t[e]);if(Array.isArray(r)){if(r.length===0)throw new R(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],c=EN(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}n.push(L(i,o))}else n.push(L(r))}return n}function EN(t){return t[bN]}function ro(t,n){let e=t.hasOwnProperty(uc);return e?t[uc]:null}function sE(t,n,e){if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=n[r];if(e&&(i=e(i),o=e(o)),o!==i)return!1}return!0}function aE(t){return t.flat(Number.POSITIVE_INFINITY)}function sd(t,n){t.forEach(e=>Array.isArray(e)?sd(e,n):n(e))}function Zg(t,n,e){n>=t.length?t.push(e):t.splice(n,0,e)}function gc(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function cE(t,n){let e=[];for(let r=0;r<t;r++)e.push(n);return e}function lE(t,n,e,r){let i=t.length;if(i==n)t.push(e,r);else if(i===1)t.push(r,t[0]),t[0]=e;else{for(i--,t.push(t[i-1],t[i]);i>n;){let o=i-2;t[i]=t[o],i--}t[n]=e,t[n+1]=r}}function ad(t,n,e){let r=gs(t,n);return r>=0?t[r|1]=e:(r=~r,lE(t,r,n,e)),r}function cd(t,n){let e=gs(t,n);if(e>=0)return t[e|1]}function gs(t,n){return DN(t,n,1)}function DN(t,n,e){let r=0,i=t.length>>e;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<e];if(n===s)return o<<e;s>n?i=o:r=o+1}return~(i<<e)}var Qr={},It=[],Xr=new k(""),Jg=new k("",-1),Qg=new k(""),dc=class{get(n,e=to){if(e===to){let i=iE("",-201);throw i.name="\u0275NotFound",i}return e}};function Xg(t){return t[qg]||null}function vr(t){return t[zg]||null}function em(t){return t[Wg]||null}function uE(t){return t[Gg]||null}function br(t){return{\u0275providers:t}}function dE(t){return br([{provide:Xr,multi:!0,useValue:t}])}function fE(...t){return{\u0275providers:tm(!0,t),\u0275fromNgModule:!0}}function tm(t,...n){let e=[],r=new Set,i,o=s=>{e.push(s)};return sd(n,s=>{let a=s;ed(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&hE(i,o),e}function hE(t,n){for(let e=0;e<t.length;e++){let{ngModule:r,providers:i}=t[e];nm(i,o=>{n(o,r)})}}function ed(t,n,e,r){if(t=lt(t),!t)return!1;let i=null,o=Tg(t),s=!o&&vr(t);if(!o&&!s){let c=t.ngModule;if(o=Tg(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)ed(l,n,e,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{sd(o.imports,u=>{ed(u,n,e,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&hE(l,n)}if(!a){let l=ro(i)||(()=>new i);n({provide:i,useFactory:l,deps:It},i),n({provide:Qg,useValue:i,multi:!0},i),n({provide:Xr,useValue:()=>L(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=t;nm(c,u=>{n(u,l)})}}else return!1;return i!==t&&t.providers!==void 0}function nm(t,n){for(let e of t)Hg(e)&&(e=e.\u0275providers),Array.isArray(e)?nm(e,n):n(e)}var CN=le({provide:String,useValue:le});function pE(t){return t!==null&&typeof t=="object"&&CN in t}function xN(t){return!!(t&&t.useExisting)}function IN(t){return!!(t&&t.useFactory)}function io(t){return typeof t=="function"}function gE(t){return!!t.useClass}var mc=new k(""),Qu={},Q0={},Sg;function ms(){return Sg===void 0&&(Sg=new dc),Sg}var Ne=class{},oo=class extends Ne{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(n,e,r,i){super(),this.parent=e,this.source=r,this.scopes=i,Og(n,s=>this.processProvider(s)),this.records.set(Jg,ps(void 0,this)),i.has("environment")&&this.records.set(Ne,ps(void 0,this));let o=this.records.get(mc);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Qg,It,{self:!0}))}retrieve(n,e){let r=no(e)||0;try{return this.get(n,to,r)}catch(i){if(hs(i))return i;throw i}}destroy(){lc(this),this._destroyed=!0;let n=Y(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of e)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Y(n)}}onDestroy(n){return lc(this),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){lc(this);let e=Hn(this),r=Gt(void 0),i;try{return n()}finally{Hn(e),Gt(r)}}get(n,e=to,r){if(lc(this),n.hasOwnProperty(J0))return n[J0](this);let i=no(r),o,s=Hn(this),a=Gt(void 0);try{if(!(i&4)){let l=this.records.get(n);if(l===void 0){let u=kN(n)&&pc(n);u&&this.injectableDefInScope(u)?l=ps(Rg(n),Qu):l=null,this.records.set(n,l)}if(l!=null)return this.hydrate(n,l,i)}let c=i&2?ms():this.parent;return e=i&8&&e===to?null:e,c.get(n,e)}catch(c){let l=yN(c);throw l===-200||l===-201?new R(l,null):c}finally{Gt(a),Hn(s)}}resolveInjectorInitializers(){let n=Y(null),e=Hn(this),r=Gt(void 0),i;try{let o=this.get(Xr,It,{self:!0});for(let s of o)s()}finally{Hn(e),Gt(r),Y(n)}}toString(){let n=[],e=this.records;for(let r of e.keys())n.push(yr(r));return`R3Injector[${n.join(", ")}]`}processProvider(n){n=lt(n);let e=io(n)?n:lt(n&&n.provide),r=TN(n);if(!io(n)&&n.multi===!0){let i=this.records.get(e);i||(i=ps(void 0,Qu,!0),i.factory=()=>kg(i.multi),this.records.set(e,i)),e=n,i.multi.push(n)}this.records.set(e,r)}hydrate(n,e,r){let i=Y(null);try{if(e.value===Q0)throw Kg(yr(n));return e.value===Qu&&(e.value=Q0,e.value=e.factory(void 0,r)),typeof e.value=="object"&&e.value&&AN(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}finally{Y(i)}}injectableDefInScope(n){if(!n.providedIn)return!1;let e=lt(n.providedIn);return typeof e=="string"?e==="any"||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(n){let e=this._onDestroyHooks.indexOf(n);e!==-1&&this._onDestroyHooks.splice(e,1)}};function Rg(t){let n=pc(t),e=n!==null?n.factory:ro(t);if(e!==null)return e;if(t instanceof k)throw new R(204,!1);if(t instanceof Function)return SN(t);throw new R(204,!1)}function SN(t){if(t.length>0)throw new R(204,!1);let e=pN(t);return e!==null?()=>e.factory(t):()=>new t}function TN(t){if(pE(t))return ps(void 0,t.useValue);{let n=rm(t);return ps(n,Qu)}}function rm(t,n,e){let r;if(io(t)){let i=lt(t);return ro(i)||Rg(i)}else if(pE(t))r=()=>lt(t.useValue);else if(IN(t))r=()=>t.useFactory(...kg(t.deps||[]));else if(xN(t))r=(i,o)=>L(lt(t.useExisting),o!==void 0&&o&8?8:void 0);else{let i=lt(t&&(t.useClass||t.provide));if(MN(t))r=()=>new i(...kg(t.deps));else return ro(i)||Rg(i)}return r}function lc(t){if(t.destroyed)throw new R(205,!1)}function ps(t,n,e=!1){return{factory:t,value:n,multi:e?[]:void 0}}function MN(t){return!!t.deps}function AN(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function kN(t){return typeof t=="function"||typeof t=="object"&&t.ngMetadataName==="InjectionToken"}function Og(t,n){for(let e of t)Array.isArray(e)?Og(e,n):e&&Hg(e)?Og(e.\u0275providers,n):n(e)}function dt(t,n){let e;t instanceof oo?(lc(t),e=t):e=new Ag(t);let r,i=Hn(e),o=Gt(void 0);try{return n()}finally{Hn(i),Gt(o)}}function mE(){return oE()!==void 0||Ju()!=null}var xn=0,H=1,$=2,tt=3,sn=4,St=5,ys=6,vs=7,bt=8,ei=9,zn=10,Ce=11,bs=12,im=13,co=14,Lt=15,ti=16,lo=17,Wn=18,yc=19,om=20,mr=21,ld=22,vc=23,qt=24,uo=25,bc=26,ft=27,yE=1;var ni=7,_c=8,fo=9,Tt=10;function Gn(t){return Array.isArray(t)&&typeof t[yE]=="object"}function In(t){return Array.isArray(t)&&t[yE]===!0}function sm(t){return(t.flags&4)!==0}function ri(t){return t.componentOffset>-1}function wc(t){return(t.flags&1)===1}function qn(t){return!!t.template}function _s(t){return(t[$]&512)!==0}function ho(t){return(t[$]&256)===256}var am="svg",vE="math";function an(t){for(;Array.isArray(t);)t=t[xn];return t}function cm(t,n){return an(n[t])}function Sn(t,n){return an(n[t.index])}function ud(t,n){return t.data[n]}function bE(t,n){return t[n]}function cn(t,n){let e=n[t];return Gn(e)?e:e[xn]}function _E(t){return(t[$]&4)===4}function dd(t){return(t[$]&128)===128}function wE(t){return In(t[tt])}function ws(t,n){return n==null?null:t[n]}function lm(t){t[lo]=0}function um(t){t[$]&1024||(t[$]|=1024,dd(t)&&Es(t))}function EE(t,n){for(;t>0;)n=n[co],t--;return n}function Ec(t){return!!(t[$]&9216||t[qt]?.dirty)}function fd(t){t[zn].changeDetectionScheduler?.notify(8),t[$]&64&&(t[$]|=1024),Ec(t)&&Es(t)}function Es(t){t[zn].changeDetectionScheduler?.notify(0);let n=Kr(t);for(;n!==null&&!(n[$]&8192||(n[$]|=8192,!dd(n)));)n=Kr(n)}function dm(t,n){if(ho(t))throw new R(911,!1);t[mr]===null&&(t[mr]=[]),t[mr].push(n)}function DE(t,n){if(t[mr]===null)return;let e=t[mr].indexOf(n);e!==-1&&t[mr].splice(e,1)}function Kr(t){let n=t[tt];return In(n)?n[tt]:n}function fm(t){return t[vs]??=[]}function hm(t){return t.cleanup??=[]}function CE(t,n,e,r){let i=fm(n);i.push(e),t.firstCreatePass&&hm(t).push(r,i.length-1)}var Z={lFrame:VE(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Ng=!1;function xE(){return Z.lFrame.elementDepthCount}function IE(){Z.lFrame.elementDepthCount++}function SE(){Z.lFrame.elementDepthCount--}function pm(){return Z.bindingsEnabled}function gm(){return Z.skipHydrationRootTNode!==null}function TE(t){return Z.skipHydrationRootTNode===t}function ME(){Z.skipHydrationRootTNode=null}function re(){return Z.lFrame.lView}function nt(){return Z.lFrame.tView}function Ae(t){return Z.lFrame.contextLView=t,t[bt]}function ke(t){return Z.lFrame.contextLView=null,t}function Mt(){let t=mm();for(;t!==null&&t.type===64;)t=t.parent;return t}function mm(){return Z.lFrame.currentTNode}function AE(){let t=Z.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}function Ds(t,n){let e=Z.lFrame;e.currentTNode=t,e.isParent=n}function ym(){return Z.lFrame.isParent}function vm(){Z.lFrame.isParent=!1}function kE(){return Z.lFrame.contextLView}function bm(){return Ng}function _m(t){let n=Ng;return Ng=t,n}function RE(){return Z.lFrame.bindingIndex}function OE(t){return Z.lFrame.bindingIndex=t}function Cs(){return Z.lFrame.bindingIndex++}function hd(t){let n=Z.lFrame,e=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,e}function NE(){return Z.lFrame.inI18n}function PE(t,n){let e=Z.lFrame;e.bindingIndex=e.bindingRootIndex=t,pd(n)}function FE(){return Z.lFrame.currentDirectiveIndex}function pd(t){Z.lFrame.currentDirectiveIndex=t}function LE(t){let n=Z.lFrame.currentDirectiveIndex;return n===-1?null:t[n]}function wm(){return Z.lFrame.currentQueryIndex}function gd(t){Z.lFrame.currentQueryIndex=t}function RN(t){let n=t[H];return n.type===2?n.declTNode:n.type===1?t[St]:null}function Em(t,n,e){if(e&4){let i=n,o=t;for(;i=i.parent,i===null&&!(e&1);)if(i=RN(o),i===null||(o=o[co],i.type&10))break;if(i===null)return!1;n=i,t=o}let r=Z.lFrame=jE();return r.currentTNode=n,r.lView=t,!0}function md(t){let n=jE(),e=t[H];Z.lFrame=n,n.currentTNode=e.firstChild,n.lView=t,n.tView=e,n.contextLView=t,n.bindingIndex=e.bindingStartIndex,n.inI18n=!1}function jE(){let t=Z.lFrame,n=t===null?null:t.child;return n===null?VE(t):n}function VE(t){let n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=n),n}function BE(){let t=Z.lFrame;return Z.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Dm=BE;function yd(){let t=BE();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function UE(t){return(Z.lFrame.contextLView=EE(t,Z.lFrame.contextLView))[bt]}function _r(){return Z.lFrame.selectedIndex}function ii(t){Z.lFrame.selectedIndex=t}function Dc(){let t=Z.lFrame;return ud(t.tView,t.selectedIndex)}function vd(){Z.lFrame.currentNamespace=am}function bd(){ON()}function ON(){Z.lFrame.currentNamespace=null}function $E(){return Z.lFrame.currentNamespace}var HE=!0;function _d(){return HE}function wd(t){HE=t}function Pg(t,n=null,e=null,r){let i=Cm(t,n,e,r);return i.resolveInjectorInitializers(),i}function Cm(t,n=null,e=null,r,i=new Set){let o=[e||It,fE(t)];return r=r||(typeof t=="object"?void 0:yr(t)),new oo(o,n||ms(),r||null,i)}var ut=class t{static THROW_IF_NOT_FOUND=to;static NULL=new dc;static create(n,e){if(Array.isArray(n))return Pg({name:""},e,n,"");{let r=n.name??"";return Pg({name:r},n.parent,n.providers,r)}}static \u0275prov=A({token:t,providedIn:"any",factory:()=>L(Jg)});static __NG_ELEMENT_ID__=-1},xe=new k(""),Tn=(()=>{class t{static __NG_ELEMENT_ID__=NN;static __NG_ENV_ID__=e=>e}return t})(),Fg=class extends Tn{_lView;constructor(n){super(),this._lView=n}get destroyed(){return ho(this._lView)}onDestroy(n){let e=this._lView;return dm(e,n),()=>DE(e,n)}};function NN(){return new Fg(re())}var zE=!1,wr=(()=>{class t{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Ze(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new ne(e=>{e.next(!1),e.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let e=this.taskId++;return this.pendingTasks.add(e),e}has(e){return this.pendingTasks.has(e)}remove(e){this.pendingTasks.delete(e),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=A({token:t,providedIn:"root",factory:()=>new t})}return t})(),Lg=class extends Ve{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(n=!1){super(),this.__isAsync=n,mE()&&(this.destroyRef=E(Tn,{optional:!0})??void 0,this.pendingTasks=E(wr,{optional:!0})??void 0)}emit(n){let e=Y(null);try{super.next(n)}finally{Y(e)}}subscribe(n,e,r){let i=n,o=e||(()=>null),s=r;if(n&&typeof n=="object"){let c=n;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return n instanceof Ye&&n.add(a),a}wrapInTimeout(n){return e=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{n(e)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},De=Lg;function td(...t){}function xm(t){let n,e;function r(){t=td;try{e!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(e),n!==void 0&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(e=requestAnimationFrame(()=>{t(),r()})),()=>r()}function Im(t){return queueMicrotask(()=>t()),()=>{t=td}}var Sm="isAngularZone",fc=Sm+"_ID",PN=0,Be=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new De(!1);onMicrotaskEmpty=new De(!1);onStable=new De(!1);onError=new De(!1);constructor(n){let{enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=zE}=n;if(typeof Zone>"u")throw new R(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,jN(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Sm)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new R(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new R(909,!1)}run(n,e,r){return this._inner.run(n,e,r)}runTask(n,e,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,n,FN,td,td);try{return o.runTask(s,e,r)}finally{o.cancelTask(s)}}runGuarded(n,e,r){return this._inner.runGuarded(n,e,r)}runOutsideAngular(n){return this._outer.run(n)}},FN={};function Tm(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function LN(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function n(){xm(()=>{t.callbackScheduled=!1,jg(t),t.isCheckStableRunning=!0,Tm(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{n()}):t._outer.run(()=>{n()}),jg(t)}function jN(t){let n=()=>{LN(t)},e=PN++;t._inner=t._inner.fork({name:"angular",properties:{[Sm]:!0,[fc]:e,[fc+e]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(VN(c))return r.invokeTask(o,s,a,c);try{return X0(t),r.invokeTask(o,s,a,c)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&n(),eE(t)}},onInvoke:(r,i,o,s,a,c,l)=>{try{return X0(t),r.invoke(o,s,a,c,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!BN(c)&&n(),eE(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,jg(t),Tm(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function jg(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function X0(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function eE(t){t._nesting--,Tm(t)}var hc=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new De;onMicrotaskEmpty=new De;onStable=new De;onError=new De;run(n,e,r){return n.apply(e,r)}runGuarded(n,e,r){return n.apply(e,r)}runOutsideAngular(n){return n()}runTask(n,e,r,i){return n.apply(e,r)}};function VN(t){return WE(t,"__ignore_ng_zone__")}function BN(t){return WE(t,"__scheduler_tick__")}function WE(t,n){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[n]===!0}var Pt=class{_console=console;handleError(n){this._console.error("ERROR",n)}},Kt=new k("",{factory:()=>{let t=E(Be),n=E(Ne),e;return r=>{t.runOutsideAngular(()=>{n.destroyed&&!e?setTimeout(()=>{throw r}):(e??=n.get(Pt),e.handleError(r))})}}}),GE={provide:Xr,useValue:()=>{let t=E(Pt,{optional:!0})},multi:!0},UN=new k("",{factory:()=>{let t=E(xe).defaultView;if(!t)return;let n=E(Kt),e=o=>{n(o.reason),o.preventDefault()},r=o=>{o.error?n(o.error):n(new Error(o.message,{cause:o})),o.preventDefault()},i=()=>{t.addEventListener("unhandledrejection",e),t.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(i):i(),E(Tn).onDestroy(()=>{t.removeEventListener("error",r),t.removeEventListener("unhandledrejection",e)})}});function Mm(){return br([dE(()=>void E(UN))])}function Yt(t,n){let[e,r,i]=ag(t,n?.equal),o=e,s=o[Ct];return o.set=r,o.update=i,o.asReadonly=qE.bind(o),o}function qE(){let t=this[Ct];if(t.readonlyFn===void 0){let n=()=>this();n[Ct]=t,t.readonlyFn=n}return t.readonlyFn}var Ed=(()=>{class t{view;node;constructor(e,r){this.view=e,this.node=r}static __NG_ELEMENT_ID__=$N}return t})();function $N(){return new Ed(re(),Mt())}var Yr=class{},Cc=new k("",{factory:()=>!0});var Am=new k(""),Dd=(()=>{class t{internalPendingTasks=E(wr);scheduler=E(Yr);errorHandler=E(Kt);add(){let e=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(e)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(e))}}run(e){let r=this.add();e().catch(this.errorHandler).finally(r)}static \u0275prov=A({token:t,providedIn:"root",factory:()=>new t})}return t})(),km=(()=>{class t{static \u0275prov=A({token:t,providedIn:"root",factory:()=>new Vg})}return t})(),Vg=class{dirtyEffectCount=0;queues=new Map;add(n){this.enqueue(n),this.schedule(n)}schedule(n){n.dirty&&this.dirtyEffectCount++}remove(n){let e=n.zone,r=this.queues.get(e);r.has(n)&&(r.delete(n),n.dirty&&this.dirtyEffectCount--)}enqueue(n){let e=n.zone;this.queues.has(e)||this.queues.set(e,new Set);let r=this.queues.get(e);r.has(n)||r.add(n)}flush(){for(;this.dirtyEffectCount>0;){let n=!1;for(let[e,r]of this.queues)e===null?n||=this.flushQueue(r):n||=e.run(()=>this.flushQueue(r));n||(this.dirtyEffectCount=0)}}flushQueue(n){let e=!1;for(let r of n)r.dirty&&(this.dirtyEffectCount--,e=!0,r.run());return e}},Bg=class{[Ct];constructor(n){this[Ct]=n}destroy(){this[Ct].destroy()}};function rt(t){return cg(t)}function Rc(t){return{toString:t}.toString()}function YN(t){return typeof t=="function"}function xD(t,n,e,r){n!==null?n.applyValueToInputSignal(n,r):t[e]=r}var Rd=class{previousValue;currentValue;firstChange;constructor(n,e,r){this.previousValue=n,this.currentValue=e,this.firstChange=r}isFirstChange(){return this.firstChange}},ln=(()=>{let t=()=>ID;return t.ngInherit=!0,t})();function ID(t){return t.type.prototype.ngOnChanges&&(t.setInput=JN),ZN}function ZN(){let t=TD(this),n=t?.current;if(n){let e=t.previous;if(e===Qr)t.previous=n;else for(let r in n)e[r]=n[r];t.current=null,this.ngOnChanges(n)}}function JN(t,n,e,r,i){let o=this.declaredInputs[r],s=TD(t)||QN(t,{previous:Qr,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new Rd(l&&l.currentValue,e,c===Qr),xD(t,n,i,e)}var SD="__ngSimpleChanges__";function TD(t){return t[SD]||null}function QN(t,n){return t[SD]=n}var KE=[];var ue=function(t,n=null,e){for(let r=0;r<KE.length;r++){let i=KE[r];i(t,n,e)}},oe=(function(t){return t[t.TemplateCreateStart=0]="TemplateCreateStart",t[t.TemplateCreateEnd=1]="TemplateCreateEnd",t[t.TemplateUpdateStart=2]="TemplateUpdateStart",t[t.TemplateUpdateEnd=3]="TemplateUpdateEnd",t[t.LifecycleHookStart=4]="LifecycleHookStart",t[t.LifecycleHookEnd=5]="LifecycleHookEnd",t[t.OutputStart=6]="OutputStart",t[t.OutputEnd=7]="OutputEnd",t[t.BootstrapApplicationStart=8]="BootstrapApplicationStart",t[t.BootstrapApplicationEnd=9]="BootstrapApplicationEnd",t[t.BootstrapComponentStart=10]="BootstrapComponentStart",t[t.BootstrapComponentEnd=11]="BootstrapComponentEnd",t[t.ChangeDetectionStart=12]="ChangeDetectionStart",t[t.ChangeDetectionEnd=13]="ChangeDetectionEnd",t[t.ChangeDetectionSyncStart=14]="ChangeDetectionSyncStart",t[t.ChangeDetectionSyncEnd=15]="ChangeDetectionSyncEnd",t[t.AfterRenderHooksStart=16]="AfterRenderHooksStart",t[t.AfterRenderHooksEnd=17]="AfterRenderHooksEnd",t[t.ComponentStart=18]="ComponentStart",t[t.ComponentEnd=19]="ComponentEnd",t[t.DeferBlockStateStart=20]="DeferBlockStateStart",t[t.DeferBlockStateEnd=21]="DeferBlockStateEnd",t[t.DynamicComponentStart=22]="DynamicComponentStart",t[t.DynamicComponentEnd=23]="DynamicComponentEnd",t[t.HostBindingsUpdateStart=24]="HostBindingsUpdateStart",t[t.HostBindingsUpdateEnd=25]="HostBindingsUpdateEnd",t})(oe||{});function XN(t,n,e){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=n.type.prototype;if(r){let s=ID(n);(e.preOrderHooks??=[]).push(t,s),(e.preOrderCheckHooks??=[]).push(t,s)}i&&(e.preOrderHooks??=[]).push(0-t,i),o&&((e.preOrderHooks??=[]).push(t,o),(e.preOrderCheckHooks??=[]).push(t,o))}function MD(t,n){for(let e=n.directiveStart,r=n.directiveEnd;e<r;e++){let o=t.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(t.contentHooks??=[]).push(-e,s),a&&((t.contentHooks??=[]).push(e,a),(t.contentCheckHooks??=[]).push(e,a)),c&&(t.viewHooks??=[]).push(-e,c),l&&((t.viewHooks??=[]).push(e,l),(t.viewCheckHooks??=[]).push(e,l)),u!=null&&(t.destroyHooks??=[]).push(e,u)}}function Td(t,n,e){AD(t,n,3,e)}function Md(t,n,e,r){(t[$]&3)===e&&AD(t,n,e,r)}function Rm(t,n){let e=t[$];(e&3)===n&&(e&=16383,e+=1,t[$]=e)}function AD(t,n,e,r){let i=r!==void 0?t[lo]&65535:0,o=r??-1,s=n.length-1,a=0;for(let c=i;c<s;c++)if(typeof n[c+1]=="number"){if(a=n[c],r!=null&&a>=r)break}else n[c]<0&&(t[lo]+=65536),(a<o||o==-1)&&(eP(t,e,n,c),t[lo]=(t[lo]&4294901760)+c+2),c++}function YE(t,n){ue(oe.LifecycleHookStart,t,n);let e=Y(null);try{n.call(t)}finally{Y(e),ue(oe.LifecycleHookEnd,t,n)}}function eP(t,n,e,r){let i=e[r]<0,o=e[r+1],s=i?-e[r]:e[r],a=t[s];i?t[$]>>14<t[lo]>>16&&(t[$]&3)===n&&(t[$]+=16384,YE(a,o)):YE(a,o)}var Is=-1,go=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(n,e,r,i){this.factory=n,this.name=i,this.canSeeViewProviders=e,this.injectImpl=r}};function tP(t){return(t.flags&8)!==0}function nP(t){return(t.flags&16)!==0}function rP(t,n,e){let r=0;for(;r<e.length;){let i=e[r];if(typeof i=="number"){if(i!==0)break;r++;let o=e[r++],s=e[r++],a=e[r++];t.setAttribute(n,s,a,o)}else{let o=i,s=e[++r];iP(o)?t.setProperty(n,o,s):t.setAttribute(n,o,s),r++}}return r}function kD(t){return t===3||t===4||t===6}function iP(t){return t.charCodeAt(0)===64}function Sc(t,n){if(!(n===null||n.length===0))if(t===null||t.length===0)t=n.slice();else{let e=-1;for(let r=0;r<n.length;r++){let i=n[r];typeof i=="number"?e=i:e===0||(e===-1||e===2?ZE(t,e,i,null,n[++r]):ZE(t,e,i,null,null))}}return t}function ZE(t,n,e,r,i){let o=0,s=t.length;if(n===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===n){s=-1;break}else if(a>n){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===e){i!==null&&(t[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(t.splice(s,0,n),o=s+1),t.splice(o++,0,e),i!==null&&t.splice(o++,0,i)}function RD(t){return t!==Is}function Od(t){return t&32767}function oP(t){return t>>16}function Nd(t,n){let e=oP(t),r=n;for(;e>0;)r=r[co],e--;return r}var $m=!0;function JE(t){let n=$m;return $m=t,n}var sP=256,OD=sP-1,ND=5,aP=0,Kn={};function cP(t,n,e){let r;typeof e=="string"?r=e.charCodeAt(0)||0:e.hasOwnProperty(so)&&(r=e[so]),r==null&&(r=e[so]=aP++);let i=r&OD,o=1<<i;n.data[t+(i>>ND)]|=o}function Pd(t,n){let e=PD(t,n);if(e!==-1)return e;let r=n[H];r.firstCreatePass&&(t.injectorIndex=n.length,Om(r.data,t),Om(n,null),Om(r.blueprint,null));let i=_y(t,n),o=t.injectorIndex;if(RD(i)){let s=Od(i),a=Nd(i,n),c=a[H].data;for(let l=0;l<8;l++)n[o+l]=a[s+l]|c[s+l]}return n[o+8]=i,o}function Om(t,n){t.push(0,0,0,0,0,0,0,0,n)}function PD(t,n){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||n[t.injectorIndex+8]===null?-1:t.injectorIndex}function _y(t,n){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let e=0,r=null,i=n;for(;i!==null;){if(r=BD(i),r===null)return Is;if(e++,i=i[co],r.injectorIndex!==-1)return r.injectorIndex|e<<16}return Is}function Hm(t,n,e){cP(t,n,e)}function lP(t,n){if(n==="class")return t.classes;if(n==="style")return t.styles;let e=t.attrs;if(e){let r=e.length,i=0;for(;i<r;){let o=e[i];if(kD(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof e[i]=="string";)i++;else{if(o===n)return e[i+1];i=i+2}}}return null}function FD(t,n,e){if(e&8||t!==void 0)return t;od(n,"NodeInjector")}function LD(t,n,e,r){if(e&8&&r===void 0&&(r=null),(e&3)===0){let i=t[ei],o=Gt(void 0);try{return i?i.get(n,r,e&8):Yg(n,r,e&8)}finally{Gt(o)}}return FD(r,n,e)}function jD(t,n,e,r=0,i){if(t!==null){if(n[$]&2048&&!(r&2)){let s=hP(t,n,e,r,Kn);if(s!==Kn)return s}let o=VD(t,n,e,r,Kn);if(o!==Kn)return o}return LD(n,e,r,i)}function VD(t,n,e,r,i){let o=dP(e);if(typeof o=="function"){if(!Em(n,t,r))return r&1?FD(i,e,r):LD(n,e,r,i);try{let s;if(s=o(r),s==null&&!(r&8))od(e);else return s}finally{Dm()}}else if(typeof o=="number"){let s=null,a=PD(t,n),c=Is,l=r&1?n[Lt][St]:null;for((a===-1||r&4)&&(c=a===-1?_y(t,n):n[a+8],c===Is||!XE(r,!1)?a=-1:(s=n[H],a=Od(c),n=Nd(c,n)));a!==-1;){let u=n[H];if(QE(o,a,u.data)){let d=uP(a,n,e,s,r,l);if(d!==Kn)return d}c=n[a+8],c!==Is&&XE(r,n[H].data[a+8]===l)&&QE(o,a,n)?(s=u,a=Od(c),n=Nd(c,n)):a=-1}}return i}function uP(t,n,e,r,i,o){let s=n[H],a=s.data[t+8],c=r==null?ri(a)&&$m:r!=s&&(a.type&3)!==0,l=i&1&&o===a,u=Ad(a,s,e,c,l);return u!==null?Tc(n,s,u,a,i):Kn}function Ad(t,n,e,r,i){let o=t.providerIndexes,s=n.data,a=o&1048575,c=t.directiveStart,l=t.directiveEnd,u=o>>20,d=r?a:a+u,f=i?a+u:l;for(let h=d;h<f;h++){let p=s[h];if(h<c&&e===p||h>=c&&p.type===e)return h}if(i){let h=s[c];if(h&&qn(h)&&h.type===e)return c}return null}function Tc(t,n,e,r,i){let o=t[e],s=n.data;if(o instanceof go){let a=o;if(a.resolving){let h=nE(s[e]);throw Kg(h)}let c=JE(a.canSeeViewProviders);a.resolving=!0;let l=s[e].type||s[e],u,d=a.injectImpl?Gt(a.injectImpl):null,f=Em(t,r,0);try{o=t[e]=a.factory(void 0,i,s,t,r),n.firstCreatePass&&e>=r.directiveStart&&XN(e,s[e],n)}finally{d!==null&&Gt(d),JE(c),a.resolving=!1,Dm()}}return o}function dP(t){if(typeof t=="string")return t.charCodeAt(0)||0;let n=t.hasOwnProperty(so)?t[so]:void 0;return typeof n=="number"?n>=0?n&OD:fP:n}function QE(t,n,e){let r=1<<t;return!!(e[n+(t>>ND)]&r)}function XE(t,n){return!(t&2)&&!(t&1&&n)}var po=class{_tNode;_lView;constructor(n,e){this._tNode=n,this._lView=e}get(n,e,r){return jD(this._tNode,this._lView,n,no(r),e)}};function fP(){return new po(Mt(),re())}function Zn(t){return Rc(()=>{let n=t.prototype.constructor,e=n[uc]||zm(n),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[uc]||zm(i);if(o&&o!==e)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function zm(t){return Ug(t)?()=>{let n=zm(lt(t));return n&&n()}:ro(t)}function hP(t,n,e,r,i){let o=t,s=n;for(;o!==null&&s!==null&&s[$]&2048&&!_s(s);){let a=VD(o,s,e,r|2,Kn);if(a!==Kn)return a;let c=o.parent;if(!c){let l=s[om];if(l){let u=l.get(e,Kn,r);if(u!==Kn)return u}c=BD(s),s=s[co]}o=c}return i}function BD(t){let n=t[H],e=n.type;return e===2?n.declTNode:e===1?t[St]:null}function Oc(t){return lP(Mt(),t)}function pP(){return As(Mt(),re())}function As(t,n){return new Pe(Sn(t,n))}var Pe=(()=>{class t{nativeElement;constructor(e){this.nativeElement=e}static __NG_ELEMENT_ID__=pP}return t})();function gP(t){return t instanceof Pe?t.nativeElement:t}function mP(){return this._results[Symbol.iterator]()}var Fd=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Ve}constructor(n=!1){this._emitDistinctChangesOnly=n}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,e){return this._results.reduce(n,e)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,e){this.dirty=!1;let r=aE(n);(this._changesDetected=!sE(this._results,r,e))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(n){this._onDirty=n}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=mP};function UD(t){return(t.flags&128)===128}var wy=(function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t})(wy||{}),$D=new Map,yP=0;function vP(){return yP++}function bP(t){$D.set(t[yc],t)}function Wm(t){$D.delete(t[yc])}var eD="__ngContext__";function Ss(t,n){Gn(n)?(t[eD]=n[yc],bP(n)):t[eD]=n}function HD(t){return WD(t[bs])}function zD(t){return WD(t[sn])}function WD(t){for(;t!==null&&!In(t);)t=t[sn];return t}var _P;function Ey(t){_P=t}var ks=new k("",{factory:()=>wP}),wP="ng";var Wd=new k(""),_o=new k("",{providedIn:"platform",factory:()=>"unknown"}),Dy=new k(""),Rs=new k("",{factory:()=>E(xe).body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var GD=!1,qD=new k("",{factory:()=>GD});var EP=(t,n,e,r)=>{};function DP(t,n,e,r){EP(t,n,e,r)}function Gd(t){return(t.flags&32)===32}var CP=()=>null;function KD(t,n,e=!1){return CP(t,n,e)}function YD(t,n){let e=t.contentQueries;if(e!==null){let r=Y(null);try{for(let i=0;i<e.length;i+=2){let o=e[i],s=e[i+1];if(s!==-1){let a=t.data[s];gd(o),a.contentQueries(2,n[s],s)}}}finally{Y(r)}}}function Gm(t,n,e){gd(0);let r=Y(null);try{n(t,e)}finally{Y(r)}}function ZD(t,n,e){if(sm(n)){let r=Y(null);try{let i=n.directiveStart,o=n.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let c=e[s];a.contentQueries(1,c,s)}}}finally{Y(r)}}}var kn=(function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t[t.ExperimentalIsolatedShadowDom=4]="ExperimentalIsolatedShadowDom",t})(kn||{});var Cd;function xP(){if(Cd===void 0&&(Cd=null,Jr.trustedTypes))try{Cd=Jr.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Cd}function qd(t){return xP()?.createHTML(t)||t}var xd;function IP(){if(xd===void 0&&(xd=null,Jr.trustedTypes))try{xd=Jr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return xd}function tD(t){return IP()?.createScriptURL(t)||t}var Er=class{changingThisBreaksApplicationSecurity;constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${nd})`}},qm=class extends Er{getTypeName(){return"HTML"}},Km=class extends Er{getTypeName(){return"Style"}},Ym=class extends Er{getTypeName(){return"Script"}},Zm=class extends Er{getTypeName(){return"URL"}},Jm=class extends Er{getTypeName(){return"ResourceURL"}};function Rn(t){return t instanceof Er?t.changingThisBreaksApplicationSecurity:t}function Cr(t,n){let e=JD(t);if(e!=null&&e!==n){if(e==="ResourceURL"&&n==="URL")return!0;throw new Error(`Required a safe ${n}, got a ${e} (see ${nd})`)}return e===n}function JD(t){return t instanceof Er&&t.getTypeName()||null}function Cy(t){return new qm(t)}function xy(t){return new Km(t)}function Iy(t){return new Ym(t)}function Sy(t){return new Zm(t)}function Ty(t){return new Jm(t)}function SP(t){let n=new Xm(t);return TP()?new Qm(n):n}var Qm=class{inertDocumentHelper;constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{let e=new window.DOMParser().parseFromString(qd(n),"text/html").body;return e===null?this.inertDocumentHelper.getInertBodyElement(n):(e.firstChild?.remove(),e)}catch{return null}}},Xm=class{defaultDoc;inertDocument;constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){let e=this.inertDocument.createElement("template");return e.innerHTML=qd(n),e}};function TP(){try{return!!new window.DOMParser().parseFromString(qd(""),"text/html")}catch{return!1}}var MP=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Nc(t){return t=String(t),t.match(MP)?t:"unsafe:"+t}function xr(t){let n={};for(let e of t.split(","))n[e]=!0;return n}function Pc(...t){let n={};for(let e of t)for(let r in e)e.hasOwnProperty(r)&&(n[r]=!0);return n}var QD=xr("area,br,col,hr,img,wbr"),XD=xr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),eC=xr("rp,rt"),AP=Pc(eC,XD),kP=Pc(XD,xr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),RP=Pc(eC,xr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),nD=Pc(QD,kP,RP,AP),tC=xr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),OP=xr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),NP=xr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),PP=Pc(tC,OP,NP),FP=xr("script,style,template"),ey=class{sanitizedSomething=!1;buf=[];sanitizeChildren(n){let e=n.firstChild,r=!0,i=[];for(;e;){if(e.nodeType===Node.ELEMENT_NODE?r=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,r&&e.firstChild){i.push(e),e=VP(e);continue}for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let o=jP(e);if(o){e=o;break}e=i.pop()}}return this.buf.join("")}startElement(n){let e=rD(n).toLowerCase();if(!nD.hasOwnProperty(e))return this.sanitizedSomething=!0,!FP.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);let r=n.attributes;for(let i=0;i<r.length;i++){let o=r.item(i),s=o.name,a=s.toLowerCase();if(!PP.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;tC[a]&&(c=Nc(c)),this.buf.push(" ",s,'="',iD(c),'"')}return this.buf.push(">"),!0}endElement(n){let e=rD(n).toLowerCase();nD.hasOwnProperty(e)&&!QD.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(n){this.buf.push(iD(n))}};function LP(t,n){return(t.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function jP(t){let n=t.nextSibling;if(n&&t!==n.previousSibling)throw nC(n);return n}function VP(t){let n=t.firstChild;if(n&&LP(t,n))throw nC(n);return n}function rD(t){let n=t.nodeName;return typeof n=="string"?n:"FORM"}function nC(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}var BP=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,UP=/([^\#-~ |!])/g;function iD(t){return t.replace(/&/g,"&amp;").replace(BP,function(n){let e=n.charCodeAt(0),r=n.charCodeAt(1);return"&#"+((e-55296)*1024+(r-56320)+65536)+";"}).replace(UP,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Id;function My(t,n){let e=null;try{Id=Id||SP(t);let r=n?String(n):"";e=Id.getInertBodyElement(r);let i=5,o=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=e.innerHTML,e=Id.getInertBodyElement(r)}while(r!==o);let a=new ey().sanitizeChildren(oD(e)||e);return qd(a)}finally{if(e){let r=oD(e)||e;for(;r.firstChild;)r.firstChild.remove()}}}function oD(t){return"content"in t&&$P(t)?t.content:null}function $P(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}function HP(t,n){return t.createText(n)}function zP(t,n,e){t.setValue(n,e)}function rC(t,n,e){return t.createElement(n,e)}function Ld(t,n,e,r,i){t.insertBefore(n,e,r,i)}function iC(t,n,e){t.appendChild(n,e)}function sD(t,n,e,r,i){r!==null?Ld(t,n,e,r,i):iC(t,n,e)}function WP(t,n,e,r){t.removeChild(null,n,e,r)}function GP(t,n,e){t.setAttribute(n,"style",e)}function qP(t,n,e){e===""?t.removeAttribute(n,"class"):t.setAttribute(n,"class",e)}function oC(t,n,e){let{mergedAttrs:r,classes:i,styles:o}=e;r!==null&&rP(t,n,r),i!==null&&qP(t,n,i),o!==null&&GP(t,n,o)}var ht=(function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t})(ht||{});function sC(t){let n=cC();return n?n.sanitize(ht.URL,t)||"":Cr(t,"URL")?Rn(t):Nc(ao(t))}function aC(t){let n=cC();if(n)return tD(n.sanitize(ht.RESOURCE_URL,t)||"");if(Cr(t,"ResourceURL"))return tD(Rn(t));throw new R(904,!1)}function KP(t,n){return n==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||n==="href"&&(t==="base"||t==="link")?aC:sC}function Ay(t,n,e){return KP(n,e)(t)}function cC(){let t=re();return t&&t[zn].sanitizer}function lC(t){return t instanceof Function?t():t}function YP(t,n,e){let r=t.length;for(;;){let i=t.indexOf(n,e);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=n.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}e=i+1}}var uC="ng-template";function ZP(t,n,e,r){let i=0;if(r){for(;i<n.length&&typeof n[i]=="string";i+=2)if(n[i]==="class"&&YP(n[i+1].toLowerCase(),e,0)!==-1)return!0}else if(ky(t))return!1;if(i=n.indexOf(1,i),i>-1){let o;for(;++i<n.length&&typeof(o=n[i])=="string";)if(o.toLowerCase()===e)return!0}return!1}function ky(t){return t.type===4&&t.value!==uC}function JP(t,n,e){let r=t.type===4&&!e?uC:t.value;return n===r}function QP(t,n,e){let r=4,i=t.attrs,o=i!==null?t1(i):0,s=!1;for(let a=0;a<n.length;a++){let c=n[a];if(typeof c=="number"){if(!s&&!Mn(r)&&!Mn(c))return!1;if(s&&Mn(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!JP(t,c,e)||c===""&&n.length===1){if(Mn(r))return!1;s=!0}}else if(r&8){if(i===null||!ZP(t,i,c,e)){if(Mn(r))return!1;s=!0}}else{let l=n[++a],u=XP(c,i,ky(t),e);if(u===-1){if(Mn(r))return!1;s=!0;continue}if(l!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&l!==d){if(Mn(r))return!1;s=!0}}}}return Mn(r)||s}function Mn(t){return(t&1)===0}function XP(t,n,e,r){if(n===null)return-1;let i=0;if(r||!e){let o=!1;for(;i<n.length;){let s=n[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=n[++i];for(;typeof a=="string";)a=n[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return n1(n,t)}function dC(t,n,e=!1){for(let r=0;r<n.length;r++)if(QP(t,n[r],e))return!0;return!1}function e1(t){let n=t.attrs;if(n!=null){let e=n.indexOf(5);if((e&1)===0)return n[e+1]}return null}function t1(t){for(let n=0;n<t.length;n++){let e=t[n];if(kD(e))return n}return t.length}function n1(t,n){let e=t.indexOf(4);if(e>-1)for(e++;e<t.length;){let r=t[e];if(typeof r=="number")return-1;if(r===n)return e;e++}return-1}function r1(t,n){e:for(let e=0;e<n.length;e++){let r=n[e];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function aD(t,n){return t?":not("+n.trim()+")":n}function i1(t){let n=t[0],e=1,r=2,i="",o=!1;for(;e<t.length;){let s=t[e];if(typeof s=="string")if(r&2){let a=t[++e];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Mn(s)&&(n+=aD(o,i),i=""),r=s,o=o||!Mn(r);e++}return i!==""&&(n+=aD(o,i)),n}function o1(t){return t.map(i1).join(",")}function s1(t){let n=[],e=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&n.push(o,t[++r]):i===8&&e.push(o);else{if(!Mn(i))break;i=o}r++}return e.length&&n.push(1,...e),n}var un={};function Ry(t,n,e,r,i,o,s,a,c,l,u){let d=ft+r,f=d+i,h=a1(d,f),p=typeof l=="function"?l():l;return h[H]={type:t,blueprint:h,template:e,queries:null,viewQuery:a,declTNode:n,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1,ssrId:u}}function a1(t,n){let e=[];for(let r=0;r<n;r++)e.push(r<t?null:un);return e}function c1(t){let n=t.tView;return n===null||n.incompleteFirstPass?t.tView=Ry(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function Oy(t,n,e,r,i,o,s,a,c,l,u){let d=n.blueprint.slice();return d[xn]=i,d[$]=r|4|128|8|64|1024,(l!==null||t&&t[$]&2048)&&(d[$]|=2048),lm(d),d[tt]=d[co]=t,d[bt]=e,d[zn]=s||t&&t[zn],d[Ce]=a||t&&t[Ce],d[ei]=c||t&&t[ei]||null,d[St]=o,d[yc]=vP(),d[ys]=u,d[om]=l,d[Lt]=n.type==2?t[Lt]:d,d}function l1(t,n,e){let r=Sn(n,t),i=c1(e),o=t[zn].rendererFactory,s=Ny(t,Oy(t,i,null,fC(e),r,n,null,o.createRenderer(r,e),null,null,null));return t[n.index]=s}function fC(t){let n=16;return t.signals?n=4096:t.onPush&&(n=64),n}function hC(t,n,e,r){if(e===0)return-1;let i=n.length;for(let o=0;o<e;o++)n.push(r),t.blueprint.push(r),t.data.push(null);return i}function Ny(t,n){return t[bs]?t[im][sn]=n:t[bs]=n,t[im]=n,n}function U(t=1){pC(nt(),re(),_r()+t,!1)}function pC(t,n,e,r){if(!r)if((n[$]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Td(n,o,e)}else{let o=t.preOrderHooks;o!==null&&Md(n,o,0,e)}ii(e)}var Kd=(function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t})(Kd||{});function ty(t,n,e,r){let i=Y(null);try{let[o,s,a]=t.inputs[e],c=null;(s&Kd.SignalBased)!==0&&(c=n[o][Ct]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(n,r)),t.setInput!==null?t.setInput(n,c,r,e,o):xD(n,c,o,r)}finally{Y(i)}}var Yn=(function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t})(Yn||{}),u1;function Py(t,n){return u1(t,n)}var Ts=new Set,Yd=(function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t})(Yd||{}),Ir=new k(""),cD=new Set;function Zd(t){cD.has(t)||(cD.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var Fy=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=A({token:t,providedIn:"root",factory:()=>new t})}return t})(),gC=[0,1,2,3],mC=(()=>{class t{ngZone=E(Be);scheduler=E(Yr);errorHandler=E(Pt,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){E(Ir,{optional:!0})}execute(){let e=this.sequences.size>0;e&&ue(oe.AfterRenderHooksStart),this.executing=!0;for(let r of gC)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),e&&ue(oe.AfterRenderHooksEnd)}register(e){let{view:r}=e;r!==void 0?((r[uo]??=[]).push(e),Es(r),r[$]|=8192):this.executing?this.deferredRegistrations.add(e):this.addSequence(e)}addSequence(e){this.sequences.add(e),this.scheduler.notify(7)}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}maybeTrace(e,r){return r?r.run(Yd.AFTER_NEXT_RENDER,e):e()}static \u0275prov=A({token:t,providedIn:"root",factory:()=>new t})}return t})(),jd=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(n,e,r,i,o,s=null){this.impl=n,this.hooks=e,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let n=this.view?.[uo];n&&(this.view[uo]=n.filter(e=>e!==this))}};function Jd(t,n){let e=n?.injector??E(ut);return Zd("NgAfterNextRender"),f1(t,e,n,!0)}function d1(t){return t instanceof Function?[void 0,void 0,t,void 0]:[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function f1(t,n,e,r){let i=n.get(Fy);i.impl??=n.get(mC);let o=n.get(Ir,null,{optional:!0}),s=e?.manualCleanup!==!0?n.get(Tn):null,a=n.get(Ed,null,{optional:!0}),c=new jd(i.impl,d1(t),a?.view,r,s,o?.snapshot(null));return i.impl.register(c),c}var h1=new k("",{factory:()=>({queue:new Set,isScheduled:!1,scheduler:null,injector:E(Ne)})});function yC(t,n,e){let r=t.get(h1);if(Array.isArray(n))for(let i of n)r.queue.add(i),e?.detachedLeaveAnimationFns?.push(i);else r.queue.add(n),e?.detachedLeaveAnimationFns?.push(n);r.scheduler&&r.scheduler(t)}function p1(t,n){for(let[e,r]of n)yC(t,r.animateFns)}function lD(t,n,e,r){let i=t?.[bc]?.enter;n!==null&&i&&i.has(e.index)&&p1(r,i)}function xs(t,n,e,r,i,o,s,a){if(i!=null){let c,l=!1;In(i)?c=i:Gn(i)&&(l=!0,i=i[xn]);let u=an(i);t===0&&r!==null?(lD(a,r,o,e),s==null?iC(n,r,u):Ld(n,r,u,s||null,!0)):t===1&&r!==null?(lD(a,r,o,e),Ld(n,r,u,s||null,!0)):t===2?uD(a,o,e,d=>{WP(n,u,l,d)}):t===3&&uD(a,o,e,()=>{n.destroyNode(u)}),c!=null&&x1(n,t,e,c,o,r,s)}}function g1(t,n){vC(t,n),n[xn]=null,n[St]=null}function m1(t,n,e,r,i,o){r[xn]=i,r[St]=n,Qd(t,r,e,1,i,o)}function vC(t,n){n[zn].changeDetectionScheduler?.notify(9),Qd(t,n,n[Ce],2,null,null)}function y1(t){let n=t[bs];if(!n)return Nm(t[H],t);for(;n;){let e=null;if(Gn(n))e=n[bs];else{let r=n[Tt];r&&(e=r)}if(!e){for(;n&&!n[sn]&&n!==t;)Gn(n)&&Nm(n[H],n),n=n[tt];n===null&&(n=t),Gn(n)&&Nm(n[H],n),e=n&&n[sn]}n=e}}function Ly(t,n){let e=t[fo],r=e.indexOf(n);e.splice(r,1)}function bC(t,n){if(ho(n))return;let e=n[Ce];e.destroyNode&&Qd(t,n,e,3,null,null),y1(n)}function Nm(t,n){if(ho(n))return;let e=Y(null);try{n[$]&=-129,n[$]|=256,n[qt]&&tc(n[qt]),_1(t,n),b1(t,n),n[H].type===1&&n[Ce].destroy();let r=n[ti];if(r!==null&&In(n[tt])){r!==n[tt]&&Ly(r,n);let i=n[Wn];i!==null&&i.detachView(t)}Wm(n)}finally{Y(e)}}function uD(t,n,e,r){let i=t?.[bc];if(i==null||i.leave==null||!i.leave.has(n.index))return r(!1);t&&Ts.add(t),yC(e,()=>{if(i.leave&&i.leave.has(n.index)){let s=i.leave.get(n.index),a=[];if(s){for(let c=0;c<s.animateFns.length;c++){let l=s.animateFns[c],{promise:u}=l();a.push(u)}i.detachedLeaveAnimationFns=void 0}i.running=Promise.allSettled(a),v1(t,r)}else t&&Ts.delete(t),r(!1)},i)}function v1(t,n){let e=t[bc]?.running;if(e){e.then(()=>{t[bc].running=void 0,Ts.delete(t),n(!0)});return}n(!1)}function b1(t,n){let e=t.cleanup,r=n[vs];if(e!==null)for(let s=0;s<e.length-1;s+=2)if(typeof e[s]=="string"){let a=e[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[e[s+1]];e[s].call(a)}r!==null&&(n[vs]=null);let i=n[mr];if(i!==null){n[mr]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=n[vc];if(o!==null){n[vc]=null;for(let s of o)s.destroy()}}function _1(t,n){let e;if(t!=null&&(e=t.destroyHooks)!=null)for(let r=0;r<e.length;r+=2){let i=n[e[r]];if(!(i instanceof go)){let o=e[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];ue(oe.LifecycleHookStart,a,c);try{c.call(a)}finally{ue(oe.LifecycleHookEnd,a,c)}}else{ue(oe.LifecycleHookStart,i,o);try{o.call(i)}finally{ue(oe.LifecycleHookEnd,i,o)}}}}}function _C(t,n,e){return w1(t,n.parent,e)}function w1(t,n,e){let r=n;for(;r!==null&&r.type&168;)n=r,r=n.parent;if(r===null)return e[xn];if(ri(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===kn.None||i===kn.Emulated)return null}return Sn(r,e)}function wC(t,n,e){return D1(t,n,e)}function E1(t,n,e){return t.type&40?Sn(t,e):null}var D1=E1,dD;function jy(t,n,e,r){let i=_C(t,r,n),o=n[Ce],s=r.parent||n[St],a=wC(s,r,n);if(i!=null)if(Array.isArray(e))for(let c=0;c<e.length;c++)sD(o,i,e[c],a,!1);else sD(o,i,e,a,!1);dD!==void 0&&dD(o,r,n,e,i)}function xc(t,n){if(n!==null){let e=n.type;if(e&3)return Sn(n,t);if(e&4)return ny(-1,t[n.index]);if(e&8){let r=n.child;if(r!==null)return xc(t,r);{let i=t[n.index];return In(i)?ny(-1,i):an(i)}}else{if(e&128)return xc(t,n.next);if(e&32)return Py(n,t)()||an(t[n.index]);{let r=EC(t,n);if(r!==null){if(Array.isArray(r))return r[0];let i=Kr(t[Lt]);return xc(i,r)}else return xc(t,n.next)}}}return null}function EC(t,n){if(n!==null){let r=t[Lt][St],i=n.projection;return r.projection[i]}return null}function ny(t,n){let e=Tt+t+1;if(e<n.length){let r=n[e],i=r[H].firstChild;if(i!==null)return xc(r,i)}return n[ni]}function Vy(t,n,e,r,i,o,s){for(;e!=null;){let a=r[ei];if(e.type===128){e=e.next;continue}let c=r[e.index],l=e.type;if(s&&n===0&&(c&&Ss(an(c),r),e.flags|=2),!Gd(e))if(l&8)Vy(t,n,e.child,r,i,o,!1),xs(n,t,a,i,c,e,o,r);else if(l&32){let u=Py(e,r),d;for(;d=u();)xs(n,t,a,i,d,e,o,r);xs(n,t,a,i,c,e,o,r)}else l&16?DC(t,n,r,e,i,o):xs(n,t,a,i,c,e,o,r);e=s?e.projectionNext:e.next}}function Qd(t,n,e,r,i,o){Vy(e,r,t.firstChild,n,i,o,!1)}function C1(t,n,e){let r=n[Ce],i=_C(t,e,n),o=e.parent||n[St],s=wC(o,e,n);DC(r,0,n,e,i,s)}function DC(t,n,e,r,i,o){let s=e[Lt],c=s[St].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];xs(n,t,e[ei],i,u,r,o,e)}else{let l=c,u=s[tt];UD(r)&&(l.flags|=128),Vy(t,n,l,u,i,o,!0)}}function x1(t,n,e,r,i,o,s){let a=r[ni],c=an(r);a!==c&&xs(n,t,e,o,a,i,s);for(let l=Tt;l<r.length;l++){let u=r[l];Qd(u[H],u,t,n,o,a)}}function I1(t,n,e,r,i){if(n)i?t.addClass(e,r):t.removeClass(e,r);else{let o=r.indexOf("-")===-1?void 0:Yn.DashCase;i==null?t.removeStyle(e,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Yn.Important),t.setStyle(e,r,i,o))}}function CC(t,n,e,r,i){let o=_r(),s=r&2;try{ii(-1),s&&n.length>ft&&pC(t,n,ft,!1);let a=s?oe.TemplateUpdateStart:oe.TemplateCreateStart;ue(a,i,e),e(r,i)}finally{ii(o);let a=s?oe.TemplateUpdateEnd:oe.TemplateCreateEnd;ue(a,i,e)}}function By(t,n,e){R1(t,n,e),(e.flags&64)===64&&O1(t,n,e)}function Uy(t,n,e=Sn){let r=n.localNames;if(r!==null){let i=n.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?e(n,t):t[s];t[i++]=a}}}function S1(t,n,e,r){let o=r.get(qD,GD)||e===kn.ShadowDom||e===kn.ExperimentalIsolatedShadowDom,s=t.selectRootElement(n,o);return T1(s),s}function T1(t){M1(t)}var M1=()=>null;function A1(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function xC(t,n,e,r,i,o){let s=n[H];if($y(t,s,n,e,r)){ri(t)&&k1(n,t.index);return}t.type&3&&(e=A1(e)),IC(t,n,e,r,i,o)}function IC(t,n,e,r,i,o){if(t.type&3){let s=Sn(t,n);r=o!=null?o(r,t.value||"",e):r,i.setProperty(s,e,r)}else t.type&12}function k1(t,n){let e=cn(n,t);e[$]&16||(e[$]|=64)}function R1(t,n,e){let r=e.directiveStart,i=e.directiveEnd;ri(e)&&l1(n,e,t.data[r+e.componentOffset]),t.firstCreatePass||Pd(e,n);let o=e.initialInputs;for(let s=r;s<i;s++){let a=t.data[s],c=Tc(n,t,s,e);if(Ss(c,n),o!==null&&L1(n,s-r,c,a,e,o),qn(a)){let l=cn(e.index,n);l[bt]=Tc(n,t,s,e)}}}function O1(t,n,e){let r=e.directiveStart,i=e.directiveEnd,o=e.index,s=FE();try{ii(o);for(let a=r;a<i;a++){let c=t.data[a],l=n[a];pd(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&N1(c,l)}}finally{ii(-1),pd(s)}}function N1(t,n){t.hostBindings!==null&&t.hostBindings(1,n)}function SC(t,n){let e=t.directiveRegistry,r=null;if(e)for(let i=0;i<e.length;i++){let o=e[i];dC(n,o.selectors,!1)&&(r??=[],qn(o)?r.unshift(o):r.push(o))}return r}function P1(t,n,e,r,i,o){let s=Sn(t,n);F1(n[Ce],s,o,t.value,e,r,i)}function F1(t,n,e,r,i,o,s){if(o==null)t.removeAttribute(n,i,e);else{let a=s==null?ao(o):s(o,r||"",i);t.setAttribute(n,i,a,e)}}function L1(t,n,e,r,i,o){let s=o[n];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],l=s[a+1];ty(r,e,c,l)}}function j1(t,n,e,r,i){let o=ft+e,s=n[H],a=i(s,n,t,r,e);n[o]=a,Ds(t,!0);let c=t.type===2;return c?(oC(n[Ce],a,t),(xE()===0||wc(t))&&Ss(a,n),IE()):Ss(a,n),_d()&&(!c||!Gd(t))&&jy(s,n,a,t),t}function V1(t){let n=t;return ym()?vm():(n=n.parent,Ds(n,!1)),n}function B1(t,n){let e=t[ei];if(!e)return;let r;try{r=e.get(Kt,null)}catch{r=null}r?.(n)}function $y(t,n,e,r,i){let o=t.inputs?.[r],s=t.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let l=s[c],u=s[c+1],d=n.data[l];ty(d,e[l],u,i),a=!0}if(o)for(let c of o){let l=e[c],u=n.data[c];ty(u,l,r,i),a=!0}return a}function U1(t,n){let e=cn(n,t),r=e[H];$1(r,e);let i=e[xn];i!==null&&e[ys]===null&&(e[ys]=KD(i,e[ei])),ue(oe.ComponentStart);try{Hy(r,e,e[bt])}finally{ue(oe.ComponentEnd,e[bt])}}function $1(t,n){for(let e=n.length;e<t.blueprint.length;e++)n.push(t.blueprint[e])}function Hy(t,n,e){md(n);try{let r=t.viewQuery;r!==null&&Gm(1,r,e);let i=t.template;i!==null&&CC(t,n,i,1,e),t.firstCreatePass&&(t.firstCreatePass=!1),n[Wn]?.finishViewCreation(t),t.staticContentQueries&&YD(t,n),t.staticViewQueries&&Gm(2,t.viewQuery,e);let o=t.components;o!==null&&H1(n,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{n[$]&=-5,yd()}}function H1(t,n){for(let e=0;e<n.length;e++)U1(t,n[e])}function TC(t,n,e,r){let i=Y(null);try{let o=n.tView,a=t[$]&4096?4096:16,c=Oy(t,o,e,a,null,n,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[n.index];c[ti]=l;let u=t[Wn];return u!==null&&(c[Wn]=u.createEmbeddedView(o)),Hy(o,c,e),c}finally{Y(i)}}function ry(t,n){return!n||n.firstChild===null||UD(t)}function Mc(t,n,e,r,i=!1){for(;e!==null;){if(e.type===128){e=i?e.projectionNext:e.next;continue}let o=n[e.index];o!==null&&r.push(an(o)),In(o)&&MC(o,r);let s=e.type;if(s&8)Mc(t,n,e.child,r);else if(s&32){let a=Py(e,n),c;for(;c=a();)r.push(c)}else if(s&16){let a=EC(n,e);if(Array.isArray(a))r.push(...a);else{let c=Kr(n[Lt]);Mc(c[H],c,a,r,!0)}}e=i?e.projectionNext:e.next}return r}function MC(t,n){for(let e=Tt;e<t.length;e++){let r=t[e],i=r[H].firstChild;i!==null&&Mc(r[H],r,i,n)}t[ni]!==t[xn]&&n.push(t[ni])}function AC(t){if(t[uo]!==null){for(let n of t[uo])n.impl.addSequence(n);t[uo].length=0}}var kC=[];function z1(t){return t[qt]??W1(t)}function W1(t){let n=kC.pop()??Object.create(q1);return n.lView=t,n}function G1(t){t.lView[qt]!==t&&(t.lView=null,kC.push(t))}var q1=Q(I({},Qa),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{Es(t.lView)},consumerOnSignalRead(){this.lView[qt]=this}});function K1(t){let n=t[qt]??Object.create(Y1);return n.lView=t,n}var Y1=Q(I({},Qa),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let n=Kr(t.lView);for(;n&&!RC(n[H]);)n=Kr(n);n&&um(n)},consumerOnSignalRead(){this.lView[qt]=this}});function RC(t){return t.type!==2}function OC(t){if(t[vc]===null)return;let n=!0;for(;n;){let e=!1;for(let r of t[vc])r.dirty&&(e=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));n=e&&!!(t[$]&8192)}}var Z1=100;function NC(t,n=0){let r=t[zn].rendererFactory,i=!1;i||r.begin?.();try{J1(t,n)}finally{i||r.end?.()}}function J1(t,n){let e=bm();try{_m(!0),iy(t,n);let r=0;for(;Ec(t);){if(r===Z1)throw new R(103,!1);r++,iy(t,1)}}finally{_m(e)}}function Q1(t,n,e,r){if(ho(n))return;let i=n[$],o=!1,s=!1;md(n);let a=!0,c=null,l=null;o||(RC(t)?(l=z1(n),c=ec(l)):vu()===null?(a=!1,l=K1(n),c=ec(l)):n[qt]&&(tc(n[qt]),n[qt]=null));try{lm(n),OE(t.bindingStartIndex),e!==null&&CC(t,n,e,2,r);let u=(i&3)===3;if(!o)if(u){let h=t.preOrderCheckHooks;h!==null&&Td(n,h,null)}else{let h=t.preOrderHooks;h!==null&&Md(n,h,0,null),Rm(n,0)}if(s||X1(n),OC(n),PC(n,0),t.contentQueries!==null&&YD(t,n),!o)if(u){let h=t.contentCheckHooks;h!==null&&Td(n,h)}else{let h=t.contentHooks;h!==null&&Md(n,h,1),Rm(n,1)}tF(t,n);let d=t.components;d!==null&&LC(n,d,0);let f=t.viewQuery;if(f!==null&&Gm(2,f,r),!o)if(u){let h=t.viewCheckHooks;h!==null&&Td(n,h)}else{let h=t.viewHooks;h!==null&&Md(n,h,2),Rm(n,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),n[ld]){for(let h of n[ld])h();n[ld]=null}o||(AC(n),n[$]&=-73)}catch(u){throw o||Es(n),u}finally{l!==null&&(bu(l,c),a&&G1(l)),yd()}}function PC(t,n){for(let e=HD(t);e!==null;e=zD(e))for(let r=Tt;r<e.length;r++){let i=e[r];FC(i,n)}}function X1(t){for(let n=HD(t);n!==null;n=zD(n)){if(!(n[$]&2))continue;let e=n[fo];for(let r=0;r<e.length;r++){let i=e[r];um(i)}}}function eF(t,n,e){ue(oe.ComponentStart);let r=cn(n,t);try{FC(r,e)}finally{ue(oe.ComponentEnd,r[bt])}}function FC(t,n){dd(t)&&iy(t,n)}function iy(t,n){let r=t[H],i=t[$],o=t[qt],s=!!(n===0&&i&16);if(s||=!!(i&64&&n===0),s||=!!(i&1024),s||=!!(o?.dirty&&_u(o)),s||=!1,o&&(o.dirty=!1),t[$]&=-9217,s)Q1(r,t,r.template,t[bt]);else if(i&8192){let a=Y(null);try{OC(t),PC(t,1);let c=r.components;c!==null&&LC(t,c,1),AC(t)}finally{Y(a)}}}function LC(t,n,e){for(let r=0;r<n.length;r++)eF(t,n[r],e)}function tF(t,n){let e=t.hostBindingOpCodes;if(e!==null)try{for(let r=0;r<e.length;r++){let i=e[r];if(i<0)ii(~i);else{let o=i,s=e[++r],a=e[++r];PE(s,o);let c=n[o];ue(oe.HostBindingsUpdateStart,c);try{a(2,c)}finally{ue(oe.HostBindingsUpdateEnd,c)}}}}finally{ii(-1)}}function zy(t,n){let e=bm()?64:1088;for(t[zn].changeDetectionScheduler?.notify(n);t;){t[$]|=e;let r=Kr(t);if(_s(t)&&!r)return t;t=r}return null}function jC(t,n,e,r){return[t,!0,0,n,null,r,null,e,null,null]}function VC(t,n,e,r=!0){let i=n[H];if(nF(i,n,t,e),r){let s=ny(e,t),a=n[Ce],c=a.parentNode(t[ni]);c!==null&&m1(i,t[St],a,n,c,s)}let o=n[ys];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function oy(t,n){if(t.length<=Tt)return;let e=Tt+n,r=t[e];if(r){let i=r[ti];i!==null&&i!==t&&Ly(i,r),n>0&&(t[e-1][sn]=r[sn]);let o=gc(t,Tt+n);g1(r[H],r);let s=o[Wn];s!==null&&s.detachView(o[H]),r[tt]=null,r[sn]=null,r[$]&=-129}return r}function nF(t,n,e,r){let i=Tt+r,o=e.length;r>0&&(e[i-1][sn]=n),r<o-Tt?(n[sn]=e[i],Zg(e,Tt+r,n)):(e.push(n),n[sn]=null),n[tt]=e;let s=n[ti];s!==null&&e!==s&&BC(s,n);let a=n[Wn];a!==null&&a.insertView(t),fd(n),n[$]|=128}function BC(t,n){let e=t[fo],r=n[tt];if(Gn(r))t[$]|=2;else{let i=r[tt][Lt];n[Lt]!==i&&(t[$]|=2)}e===null?t[fo]=[n]:e.push(n)}var oi=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let n=this._lView,e=n[H];return Mc(e,n,e.firstChild,[])}constructor(n,e){this._lView=n,this._cdRefInjectingView=e}get context(){return this._lView[bt]}set context(n){this._lView[bt]=n}get destroyed(){return ho(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let n=this._lView[tt];if(In(n)){let e=n[_c],r=e?e.indexOf(this):-1;r>-1&&(oy(n,r),gc(e,r))}this._attachedToViewContainer=!1}bC(this._lView[H],this._lView)}onDestroy(n){dm(this._lView,n)}markForCheck(){zy(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[$]&=-129}reattach(){fd(this._lView),this._lView[$]|=128}detectChanges(){this._lView[$]|=1024,NC(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new R(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let n=_s(this._lView),e=this._lView[ti];e!==null&&!n&&Ly(e,this._lView),vC(this._lView[H],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new R(902,!1);this._appRef=n;let e=_s(this._lView),r=this._lView[ti];r!==null&&!e&&BC(r,this._lView),fd(this._lView)}};var si=(()=>{class t{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=rF;constructor(e,r,i){this._declarationLView=e,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,r){return this.createEmbeddedViewImpl(e,r)}createEmbeddedViewImpl(e,r,i){let o=TC(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:r,dehydratedView:i});return new oi(o)}}return t})();function rF(){return Wy(Mt(),re())}function Wy(t,n){return t.type&4?new si(n,t,As(t,n)):null}function Fc(t,n,e,r,i){let o=t.data[n];if(o===null)o=iF(t,n,e,r,i),NE()&&(o.flags|=32);else if(o.type&64){o.type=e,o.value=r,o.attrs=i;let s=AE();o.injectorIndex=s===null?-1:s.injectorIndex}return Ds(o,!0),o}function iF(t,n,e,r,i){let o=mm(),s=ym(),a=s?o:o&&o.parent,c=t.data[n]=sF(t,a,e,n,r,i);return oF(t,c,o,s),c}function oF(t,n,e,r){t.firstChild===null&&(t.firstChild=n),e!==null&&(r?e.child==null&&n.parent!==null&&(e.child=n):e.next===null&&(e.next=n,n.prev=e))}function sF(t,n,e,r,i,o){let s=n?n.injectorIndex:-1,a=0;return gm()&&(a|=128),{type:e,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,fieldIndex:-1,customControlIndex:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var aF=()=>null;function sy(t,n){return aF(t,n)}var UC=class{},Xd=class{},ay=class{resolveComponentFactory(n){throw new R(917,!1)}},Lc=class{static NULL=new ay},mo=class{},Sr=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>cF()}return t})();function cF(){let t=re(),n=Mt(),e=cn(n.index,t);return(Gn(e)?e:t)[Ce]}var $C=(()=>{class t{static \u0275prov=A({token:t,providedIn:"root",factory:()=>null})}return t})();var kd={},cy=class{injector;parentInjector;constructor(n,e){this.injector=n,this.parentInjector=e}get(n,e,r){let i=this.injector.get(n,kd,r);return i!==kd||e===kd?i:this.parentInjector.get(n,e,r)}};function fD(t,n,e){let r=e?t.styles:null,i=e?t.classes:null,o=0;if(n!==null)for(let s=0;s<n.length;s++){let a=n[s];if(typeof a=="number")o=a;else if(o==1)i=rd(i,a);else if(o==2){let c=a,l=n[++s];r=rd(r,c+": "+l+";")}}e?t.styles=r:t.stylesWithoutHost=r,e?t.classes=i:t.classesWithoutHost=i}function j(t,n=0){let e=re();if(e===null)return L(t,n);let r=Mt();return jD(r,e,lt(t),n)}function HC(t,n,e,r,i){let o=r===null?null:{"":-1},s=i(t,e);if(s!==null){let a=s,c=null,l=null;for(let u of s)if(u.resolveHostDirectives!==null){[a,c,l]=u.resolveHostDirectives(s);break}dF(t,n,e,a,o,c,l)}o!==null&&r!==null&&lF(e,r,o)}function lF(t,n,e){let r=t.localNames=[];for(let i=0;i<n.length;i+=2){let o=e[n[i+1]];if(o==null)throw new R(-301,!1);r.push(n[i],o)}}function uF(t,n,e){n.componentOffset=e,(t.components??=[]).push(n.index)}function dF(t,n,e,r,i,o,s){let a=r.length,c=null;for(let f=0;f<a;f++){let h=r[f];c===null&&qn(h)&&(c=h,uF(t,e,f)),Hm(Pd(e,n),t,h.type)}yF(e,t.data.length,a),c?.viewProvidersResolver&&c.viewProvidersResolver(c);for(let f=0;f<a;f++){let h=r[f];h.providersResolver&&h.providersResolver(h)}let l=!1,u=!1,d=hC(t,n,a,null);a>0&&(e.directiveToIndex=new Map);for(let f=0;f<a;f++){let h=r[f];if(e.mergedAttrs=Sc(e.mergedAttrs,h.hostAttrs),hF(t,e,n,d,h),mF(d,h,i),s!==null&&s.has(h)){let[g,m]=s.get(h);e.directiveToIndex.set(h.type,[d,g+e.directiveStart,m+e.directiveStart])}else(o===null||!o.has(h))&&e.directiveToIndex.set(h.type,d);h.contentQueries!==null&&(e.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(e.flags|=64);let p=h.type.prototype;!l&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(e.index),l=!0),!u&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(e.index),u=!0),d++}fF(t,e,o)}function fF(t,n,e){for(let r=n.directiveStart;r<n.directiveEnd;r++){let i=t.data[r];if(e===null||!e.has(i))hD(0,n,i,r),hD(1,n,i,r),gD(n,r,!1);else{let o=e.get(i);pD(0,n,o,r),pD(1,n,o,r),gD(n,r,!0)}}}function hD(t,n,e,r){let i=t===0?e.inputs:e.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;t===0?s=n.inputs??={}:s=n.outputs??={},s[o]??=[],s[o].push(r),zC(n,o)}}function pD(t,n,e,r){let i=t===0?e.inputs:e.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;t===0?a=n.hostDirectiveInputs??={}:a=n.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),zC(n,s)}}function zC(t,n){n==="class"?t.flags|=8:n==="style"&&(t.flags|=16)}function gD(t,n,e){let{attrs:r,inputs:i,hostDirectiveInputs:o}=t;if(r===null||!e&&i===null||e&&o===null||ky(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!e&&i.hasOwnProperty(c)){let l=i[c];for(let u of l)if(u===n){s??=[],s.push(c,r[a+1]);break}}else if(e&&o.hasOwnProperty(c)){let l=o[c];for(let u=0;u<l.length;u+=2)if(l[u]===n){s??=[],s.push(l[u+1],r[a+1]);break}}a+=2}t.initialInputs??=[],t.initialInputs.push(s)}function hF(t,n,e,r,i){t.data[r]=i;let o=i.factory||(i.factory=ro(i.type,!0)),s=new go(o,qn(i),j,null);t.blueprint[r]=s,e[r]=s,pF(t,n,r,hC(t,e,i.hostVars,un),i)}function pF(t,n,e,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~n.index;gF(s)!=a&&s.push(a),s.push(e,r,o)}}function gF(t){let n=t.length;for(;n>0;){let e=t[--n];if(typeof e=="number"&&e<0)return e}return 0}function mF(t,n,e){if(e){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)e[n.exportAs[r]]=t;qn(n)&&(e[""]=t)}}function yF(t,n,e){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+e,t.providerIndexes=n}function WC(t,n,e,r,i,o,s,a){let c=n[H],l=c.consts,u=ws(l,s),d=Fc(c,t,e,r,u);return o&&HC(c,n,d,ws(l,a),i),d.mergedAttrs=Sc(d.mergedAttrs,d.attrs),d.attrs!==null&&fD(d,d.attrs,!1),d.mergedAttrs!==null&&fD(d,d.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,d),d}function GC(t,n){MD(t,n),sm(n)&&t.queries.elementEnd(n)}function Gy(t){return KC(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function qC(t,n){if(Array.isArray(t))for(let e=0;e<t.length;e++)n(t[e]);else{let e=t[Symbol.iterator](),r;for(;!(r=e.next()).done;)n(r.value)}}function KC(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function Dr(t,n,e){if(e===un)return!1;let r=t[n];return Object.is(r,e)?!1:(t[n]=e,!0)}function vF(t,n,e,r){let i=Dr(t,n,e);return Dr(t,n+1,r)||i}function Pm(t,n,e){return function r(i){let o=ri(t)?cn(t.index,n):n;zy(o,5);let s=n[bt],a=mD(n,s,e,i),c=r.__ngNextListenerFn__;for(;c;)a=mD(n,s,c,i)&&a,c=c.__ngNextListenerFn__;return a}}function mD(t,n,e,r){let i=Y(null);try{return ue(oe.OutputStart,n,e),e(r)!==!1}catch(o){return B1(t,o),!1}finally{ue(oe.OutputEnd,n,e),Y(i)}}function bF(t,n,e,r,i,o,s,a){let c=wc(t),l=!1,u=null;if(!r&&c&&(u=wF(n,e,o,t.index)),u!==null){let d=u.__ngLastListenerFn__||u;d.__ngNextListenerFn__=s,u.__ngLastListenerFn__=s,l=!0}else{let d=Sn(t,e),f=r?r(d):d;DP(e,f,o,a);let h=i.listen(f,o,a);if(!_F(o)){let p=r?g=>r(an(g[t.index])):t.index;YC(p,n,e,o,a,h,!1)}}return l}function _F(t){return t.startsWith("animation")||t.startsWith("transition")}function wF(t,n,e,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===e&&i[o+1]===r){let a=n[vs],c=i[o+2];return a&&a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function YC(t,n,e,r,i,o,s){let a=n.firstCreatePass?hm(n):null,c=fm(e),l=c.length;c.push(i,o),a&&a.push(r,t,l,(l+1)*(s?-1:1))}function yD(t,n,e,r,i,o){let s=n[e],a=n[H],l=a.data[e].outputs[r],d=s[l].subscribe(o);YC(t.index,a,n,i,o,d,!0)}var ly=Symbol("BINDING");var Vd=class extends Lc{ngModule;constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){let e=vr(n);return new yo(e,this.ngModule)}};function EF(t){return Object.keys(t).map(n=>{let[e,r,i]=t[n],o={propName:e,templateName:n,isSignal:(r&Kd.SignalBased)!==0};return i&&(o.transform=i),o})}function DF(t){return Object.keys(t).map(n=>({propName:t[n],templateName:n}))}function CF(t,n,e){let r=n instanceof Ne?n:n?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new cy(e,r):e}function xF(t){let n=t.get(mo,null);if(n===null)throw new R(407,!1);let e=t.get($C,null),r=t.get(Yr,null);return{rendererFactory:n,sanitizer:e,changeDetectionScheduler:r,ngReflect:!1}}function IF(t,n){let e=ZC(t);return rC(n,e,e==="svg"?am:e==="math"?vE:null)}function ZC(t){return(t.selectors[0][0]||"div").toLowerCase()}var yo=class extends Xd{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=EF(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=DF(this.componentDef.outputs),this.cachedOutputs}constructor(n,e){super(),this.componentDef=n,this.ngModule=e,this.componentType=n.type,this.selector=o1(n.selectors),this.ngContentSelectors=n.ngContentSelectors??[],this.isBoundToModule=!!e}create(n,e,r,i,o,s){ue(oe.DynamicComponentStart);let a=Y(null);try{let c=this.componentDef,l=SF(r,c,s,o),u=CF(c,i||this.ngModule,n),d=xF(u),f=d.rendererFactory.createRenderer(null,c),h=r?S1(f,r,c.encapsulation,u):IF(c,f),p=s?.some(vD)||o?.some(y=>typeof y!="function"&&y.bindings.some(vD)),g=Oy(null,l,null,512|fC(c),null,null,d,f,u,null,KD(h,u,!0));g[ft]=h,md(g);let m=null;try{let y=WC(ft,g,2,"#host",()=>l.directiveRegistry,!0,0);oC(f,h,y),Ss(h,g),By(l,g,y),ZD(l,y,g),GC(l,y),e!==void 0&&MF(y,this.ngContentSelectors,e),m=cn(y.index,g),g[bt]=m[bt],Hy(l,g,null)}catch(y){throw m!==null&&Wm(m),Wm(g),y}finally{ue(oe.DynamicComponentEnd),yd()}return new Bd(this.componentType,g,!!p)}finally{Y(a)}}};function SF(t,n,e,r){let i=t?["ng-version","21.0.3"]:s1(n.selectors[0]),o=null,s=null,a=0;if(e)for(let u of e)a+=u[ly].requiredVars,u.create&&(u.targetIdx=0,(o??=[]).push(u)),u.update&&(u.targetIdx=0,(s??=[]).push(u));if(r)for(let u=0;u<r.length;u++){let d=r[u];if(typeof d!="function")for(let f of d.bindings){a+=f[ly].requiredVars;let h=u+1;f.create&&(f.targetIdx=h,(o??=[]).push(f)),f.update&&(f.targetIdx=h,(s??=[]).push(f))}}let c=[n];if(r)for(let u of r){let d=typeof u=="function"?u:u.type,f=em(d);c.push(f)}return Ry(0,null,TF(o,s),1,a,c,null,null,null,[i],null)}function TF(t,n){return!t&&!n?null:e=>{if(e&1&&t)for(let r of t)r.create();if(e&2&&n)for(let r of n)r.update()}}function vD(t){let n=t[ly].kind;return n==="input"||n==="twoWay"}var Bd=class extends UC{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(n,e,r){super(),this._rootLView=e,this._hasInputBindings=r,this._tNode=ud(e[H],ft),this.location=As(this._tNode,e),this.instance=cn(this._tNode.index,e)[bt],this.hostView=this.changeDetectorRef=new oi(e,void 0),this.componentType=n}setInput(n,e){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),e))return;let i=this._rootLView,o=$y(r,i[H],i,n,e);this.previousInputValues.set(n,e);let s=cn(r.index,i);zy(s,1)}get injector(){return new po(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}};function MF(t,n,e){let r=t.projection=[];for(let i=0;i<n.length;i++){let o=e[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Tr=(()=>{class t{static __NG_ELEMENT_ID__=AF}return t})();function AF(){let t=Mt();return QC(t,re())}var kF=Tr,JC=class extends kF{_lContainer;_hostTNode;_hostLView;constructor(n,e,r){super(),this._lContainer=n,this._hostTNode=e,this._hostLView=r}get element(){return As(this._hostTNode,this._hostLView)}get injector(){return new po(this._hostTNode,this._hostLView)}get parentInjector(){let n=_y(this._hostTNode,this._hostLView);if(RD(n)){let e=Nd(n,this._hostLView),r=Od(n),i=e[H].data[r+8];return new po(i,e)}else return new po(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){let e=bD(this._lContainer);return e!==null&&e[n]||null}get length(){return this._lContainer.length-Tt}createEmbeddedView(n,e,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=sy(this._lContainer,n.ssrId),a=n.createEmbeddedViewImpl(e||{},o,s);return this.insertImpl(a,i,ry(this._hostTNode,s)),a}createComponent(n,e,r,i,o,s,a){let c=n&&!YN(n),l;if(c)l=e;else{let m=e||{};l=m.index,r=m.injector,i=m.projectableNodes,o=m.environmentInjector||m.ngModuleRef,s=m.directives,a=m.bindings}let u=c?n:new yo(vr(n)),d=r||this.parentInjector;if(!o&&u.ngModule==null){let y=(c?d:this.parentInjector).get(Ne,null);y&&(o=y)}let f=vr(u.componentType??{}),h=sy(this._lContainer,f?.id??null),p=h?.firstChild??null,g=u.create(d,i,p,o,s,a);return this.insertImpl(g.hostView,l,ry(this._hostTNode,h)),g}insert(n,e){return this.insertImpl(n,e,!0)}insertImpl(n,e,r){let i=n._lView;if(wE(i)){let a=this.indexOf(n);if(a!==-1)this.detach(a);else{let c=i[tt],l=new JC(c,c[St],c[tt]);l.detach(l.indexOf(n))}}let o=this._adjustIndex(e),s=this._lContainer;return VC(s,i,o,r),n.attachToViewContainerRef(),Zg(Fm(s),o,n),n}move(n,e){return this.insert(n,e)}indexOf(n){let e=bD(this._lContainer);return e!==null?e.indexOf(n):-1}remove(n){let e=this._adjustIndex(n,-1),r=oy(this._lContainer,e);r&&(gc(Fm(this._lContainer),e),bC(r[H],r))}detach(n){let e=this._adjustIndex(n,-1),r=oy(this._lContainer,e);return r&&gc(Fm(this._lContainer),e)!=null?new oi(r):null}_adjustIndex(n,e=0){return n??this.length+e}};function bD(t){return t[_c]}function Fm(t){return t[_c]||(t[_c]=[])}function QC(t,n){let e,r=n[t.index];return In(r)?e=r:(e=jC(r,n,null,t),n[t.index]=e,Ny(n,e)),OF(e,n,t,r),new JC(e,t,n)}function RF(t,n){let e=t[Ce],r=e.createComment(""),i=Sn(n,t),o=e.parentNode(i);return Ld(e,o,r,e.nextSibling(i),!1),r}var OF=FF,NF=()=>!1;function PF(t,n,e){return NF(t,n,e)}function FF(t,n,e,r){if(t[ni])return;let i;e.type&8?i=an(r):i=RF(n,e),t[ni]=i}var uy=class t{queryList;matches=null;constructor(n){this.queryList=n}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},dy=class t{queries;constructor(n=[]){this.queries=n}createEmbeddedView(n){let e=n.queries;if(e!==null){let r=n.contentQueries!==null?n.contentQueries[0]:e.length,i=[];for(let o=0;o<r;o++){let s=e.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let e=0;e<this.queries.length;e++)qy(n,e).matches!==null&&this.queries[e].setDirty()}},fy=class{flags;read;predicate;constructor(n,e,r=null){this.flags=e,this.read=r,typeof n=="string"?this.predicate=zF(n):this.predicate=n}},hy=class t{queries;constructor(n=[]){this.queries=n}elementStart(n,e){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(n,e)}elementEnd(n){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(n)}embeddedTView(n){let e=null;for(let r=0;r<this.length;r++){let i=e!==null?e.length:0,o=this.getByIndex(r).embeddedTView(n,i);o&&(o.indexInDeclarationView=r,e!==null?e.push(o):e=[o])}return e!==null?new t(e):null}template(n,e){for(let r=0;r<this.queries.length;r++)this.queries[r].template(n,e)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}},py=class t{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(n,e=-1){this.metadata=n,this._declarationNodeIndex=e}elementStart(n,e){this.isApplyingToNode(e)&&this.matchTNode(n,e)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,e){this.elementStart(n,e)}embeddedTView(n,e){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,e),new t(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let e=this._declarationNodeIndex,r=n.parent;for(;r!==null&&r.type&8&&r.index!==e;)r=r.parent;return e===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(n,e){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(n,e,LF(e,o)),this.matchTNodeWithReadOption(n,e,Ad(e,n,o,!1,!1))}else r===si?e.type&4&&this.matchTNodeWithReadOption(n,e,-1):this.matchTNodeWithReadOption(n,e,Ad(e,n,r,!1,!1))}matchTNodeWithReadOption(n,e,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Pe||i===Tr||i===si&&e.type&4)this.addMatch(e.index,-2);else{let o=Ad(e,n,i,!1,!1);o!==null&&this.addMatch(e.index,o)}else this.addMatch(e.index,r)}}addMatch(n,e){this.matches===null?this.matches=[n,e]:this.matches.push(n,e)}};function LF(t,n){let e=t.localNames;if(e!==null){for(let r=0;r<e.length;r+=2)if(e[r]===n)return e[r+1]}return null}function jF(t,n){return t.type&11?As(t,n):t.type&4?Wy(t,n):null}function VF(t,n,e,r){return e===-1?jF(n,t):e===-2?BF(t,n,r):Tc(t,t[H],e,n)}function BF(t,n,e){if(e===Pe)return As(n,t);if(e===si)return Wy(n,t);if(e===Tr)return QC(n,t)}function XC(t,n,e,r){let i=n[Wn].queries[r];if(i.matches===null){let o=t.data,s=e.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let l=s[c];if(l<0)a.push(null);else{let u=o[l];a.push(VF(n,u,s[c+1],e.metadata.read))}}i.matches=a}return i.matches}function gy(t,n,e,r){let i=t.queries.getByIndex(e),o=i.matches;if(o!==null){let s=XC(t,n,i,e);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)r.push(s[a/2]);else{let l=o[a+1],u=n[-c];for(let d=Tt;d<u.length;d++){let f=u[d];f[ti]===f[tt]&&gy(f[H],f,l,r)}if(u[fo]!==null){let d=u[fo];for(let f=0;f<d.length;f++){let h=d[f];gy(h[H],h,l,r)}}}}}return r}function UF(t,n){return t[Wn].queries[n].queryList}function $F(t,n,e){let r=new Fd((e&4)===4);return CE(t,n,r,r.destroy),(n[Wn]??=new dy).queries.push(new uy(r))-1}function HF(t,n,e){let r=nt();return r.firstCreatePass&&(WF(r,new fy(t,n,e),-1),(n&2)===2&&(r.staticViewQueries=!0)),$F(r,re(),n)}function zF(t){return t.split(",").map(n=>n.trim())}function WF(t,n,e){t.queries===null&&(t.queries=new hy),t.queries.track(new py(n,e))}function qy(t,n){return t.queries.getByIndex(n)}function GF(t,n){let e=t[H],r=qy(e,n);return r.crossesNgTemplate?gy(e,t,n,[]):XC(e,t,r,n)}var vo=class{},ef=class{};var Ud=class extends vo{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Vd(this);constructor(n,e,r,i=!0){super(),this.ngModuleType=n,this._parent=e;let o=Xg(n);this._bootstrapComponents=lC(o.bootstrap),this._r3Injector=Cm(n,e,[{provide:vo,useValue:this},{provide:Lc,useValue:this.componentFactoryResolver},...r],yr(n),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}},$d=class extends ef{moduleType;constructor(n){super(),this.moduleType=n}create(n){return new Ud(this.moduleType,n,[])}};var Ac=class extends vo{injector;componentFactoryResolver=new Vd(this);instance=null;constructor(n){super();let e=new oo([...n.providers,{provide:vo,useValue:this},{provide:Lc,useValue:this.componentFactoryResolver}],n.parent||ms(),n.debugName,new Set(["environment"]));this.injector=e,n.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}};function jc(t,n,e=null){return new Ac({providers:t,parent:n,debugName:e,runEnvironmentInitializers:!0}).injector}var qF=(()=>{class t{_injector;cachedInjectors=new Map;constructor(e){this._injector=e}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){let r=tm(!1,e.type),i=r.length>0?jc([r],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,i)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(let e of this.cachedInjectors.values())e!==null&&e.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=A({token:t,providedIn:"environment",factory:()=>new t(L(Ne))})}return t})();function me(t){return Rc(()=>{let n=ex(t),e=Q(I({},n),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===wy.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:n.standalone?i=>i.get(qF).getOrCreateStandaloneInjector(e):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||kn.Emulated,styles:t.styles||It,_:null,schemas:t.schemas||null,tView:null,id:""});n.standalone&&Zd("NgStandalone"),tx(e);let r=t.dependencies;return e.directiveDefs=_D(r,KF),e.pipeDefs=_D(r,uE),e.id=JF(e),e})}function KF(t){return vr(t)||em(t)}function Zt(t){return Rc(()=>({type:t.type,bootstrap:t.bootstrap||It,declarations:t.declarations||It,imports:t.imports||It,exports:t.exports||It,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function YF(t,n){if(t==null)return Qr;let e={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a,c;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,c=i[3]||null):(o=i,s=i,a=Kd.None,c=null),e[o]=[r,a,c],n[o]=s}return e}function ZF(t){if(t==null)return Qr;let n={};for(let e in t)t.hasOwnProperty(e)&&(n[t[e]]=e);return n}function Fe(t){return Rc(()=>{let n=ex(t);return tx(n),n})}function ex(t){let n={};return{type:t.type,providersResolver:null,viewProvidersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputConfig:t.inputs||Qr,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||It,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:YF(t.inputs,n),outputs:ZF(t.outputs),debugInfo:null}}function tx(t){t.features?.forEach(n=>n(t))}function _D(t,n){return t?()=>{let e=typeof t=="function"?t():t,r=[];for(let i of e){let o=n(i);o!==null&&r.push(o)}return r}:null}function JF(t){let n=0,e=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,e,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))n=Math.imul(31,n)+o.charCodeAt(0)<<0;return n+=2147483648,"c"+n}function QF(t){return Object.getPrototypeOf(t.prototype).constructor}function Jn(t){let n=QF(t.type),e=!0,r=[t];for(;n;){let i;if(qn(t))i=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new R(903,!1);i=n.\u0275dir}if(i){if(e){r.push(i);let s=t;s.inputs=Lm(t.inputs),s.declaredInputs=Lm(t.declaredInputs),s.outputs=Lm(t.outputs);let a=i.hostBindings;a&&rL(t,a);let c=i.viewQuery,l=i.contentQueries;if(c&&tL(t,c),l&&nL(t,l),XF(t,i),tE(t.outputs,i.outputs),qn(i)&&i.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===Jn&&(e=!1)}}n=Object.getPrototypeOf(n)}eL(r)}function XF(t,n){for(let e in n.inputs){if(!n.inputs.hasOwnProperty(e)||t.inputs.hasOwnProperty(e))continue;let r=n.inputs[e];r!==void 0&&(t.inputs[e]=r,t.declaredInputs[e]=n.declaredInputs[e])}}function eL(t){let n=0,e=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=n+=i.hostVars,i.hostAttrs=Sc(i.hostAttrs,e=Sc(e,i.hostAttrs))}}function Lm(t){return t===Qr?{}:t===It?[]:t}function tL(t,n){let e=t.viewQuery;e?t.viewQuery=(r,i)=>{n(r,i),e(r,i)}:t.viewQuery=n}function nL(t,n){let e=t.contentQueries;e?t.contentQueries=(r,i,o)=>{n(r,i,o),e(r,i,o)}:t.contentQueries=n}function rL(t,n){let e=t.hostBindings;e?t.hostBindings=(r,i)=>{n(r,i),e(r,i)}:t.hostBindings=n}function nx(t,n,e,r,i,o,s,a){if(e.firstCreatePass){t.mergedAttrs=Sc(t.mergedAttrs,t.attrs);let u=t.tView=Ry(2,t,i,o,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,e.consts,null);e.queries!==null&&(e.queries.template(e,t),u.queries=e.queries.embeddedTView(t))}a&&(t.flags|=a),Ds(t,!1);let c=sL(e,n,t,r);_d()&&jy(e,n,c,t),Ss(c,n);let l=jC(c,n,c,t);n[r+ft]=l,Ny(n,l),PF(l,t,n)}function iL(t,n,e,r,i,o,s,a,c,l,u){let d=e+ft,f;return n.firstCreatePass?(f=Fc(n,d,4,s||null,a||null),pm()&&HC(n,t,f,ws(n.consts,l),SC),MD(n,f)):f=n.data[d],nx(f,t,n,e,r,i,o,c),wc(f)&&By(n,t,f),l!=null&&Uy(t,f,u),f}function oL(t,n,e,r,i,o,s,a,c,l,u){let d=e+ft,f;if(n.firstCreatePass){if(f=Fc(n,d,4,s||null,a||null),l!=null){let h=ws(n.consts,l);f.localNames=[];for(let p=0;p<h.length;p+=2)f.localNames.push(h[p],-1)}}else f=n.data[d];return nx(f,t,n,e,r,i,o,c),l!=null&&Uy(t,f,u),f}function Jt(t,n,e,r,i,o,s,a){let c=re(),l=nt(),u=ws(l.consts,o);return iL(c,l,t,n,e,r,i,u,void 0,s,a),Jt}var sL=aL;function aL(t,n,e,r){return wd(!0),n[Ce].createComment("")}var tf=(()=>{class t{log(e){console.log(e)}warn(e){console.warn(e)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function rx(t){return typeof t=="function"&&t[Ct]!==void 0}function Ky(t){return rx(t)&&typeof t.set=="function"}var Yy=new k("");function ai(t){return!!t&&typeof t.then=="function"}function Zy(t){return!!t&&typeof t.subscribe=="function"}var ix=new k("");var Jy=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((e,r)=>{this.resolve=e,this.reject=r});appInits=E(ix,{optional:!0})??[];injector=E(ut);constructor(){}runInitializers(){if(this.initialized)return;let e=[];for(let i of this.appInits){let o=dt(this.injector,i);if(ai(o))e.push(o);else if(Zy(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});e.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{r()}).catch(i=>{this.reject(i)}),e.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),nf=new k("");function ox(){sg(()=>{let t="";throw new R(600,t)})}function sx(t){return t.isBoundToModule}var cL=10;var On=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=E(Kt);afterRenderManager=E(Fy);zonelessEnabled=E(Cc);rootEffectScheduler=E(km);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Ve;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=E(wr);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(X(e=>!e))}constructor(){E(Ir,{optional:!0})}whenStable(){let e;return new Promise(r=>{e=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{e.unsubscribe()})}_injector=E(Ne);_rendererFactory=null;get injector(){return this._injector}bootstrap(e,r){return this.bootstrapImpl(e,r)}bootstrapImpl(e,r,i=ut.NULL){return this._injector.get(Be).run(()=>{ue(oe.BootstrapComponentStart);let s=e instanceof Xd;if(!this._injector.get(Jy).done){let p="";throw new R(405,p)}let c;s?c=e:c=this._injector.get(Lc).resolveComponentFactory(e),this.componentTypes.push(c.componentType);let l=sx(c)?void 0:this._injector.get(vo),u=r||c.selector,d=c.create(i,[],u,l),f=d.location.nativeElement,h=d.injector.get(Yy,null);return h?.registerApplication(f),d.onDestroy(()=>{this.detachView(d.hostView),Ic(this.components,d),h?.unregisterApplication(f)}),this._loadComponent(d),ue(oe.BootstrapComponentEnd,d),d})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){ue(oe.ChangeDetectionStart),this.tracingSnapshot!==null?this.tracingSnapshot.run(Yd.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw ue(oe.ChangeDetectionEnd),new R(101,!1);let e=Y(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,Y(e),this.afterTick.next(),ue(oe.ChangeDetectionEnd)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(mo,null,{optional:!0}));let e=0;for(;this.dirtyFlags!==0&&e++<cL;){ue(oe.ChangeDetectionSyncStart);try{this.synchronizeOnce()}finally{ue(oe.ChangeDetectionSyncEnd)}}}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let e=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!Ec(i))continue;let o=r&&!this.zonelessEnabled?0:1;NC(i,o),e=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}e||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:e})=>Ec(e))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(e){let r=e;this._views.push(r),r.attachToAppRef(this)}detachView(e){let r=e;Ic(this._views,r),r.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(e),this._injector.get(nf,[]).forEach(i=>i(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>Ic(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new R(406,!1);let e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Ic(t,n){let e=t.indexOf(n);e>-1&&t.splice(e,1)}function Qn(t,n,e,r){let i=re(),o=Cs();if(Dr(i,o,n)){let s=nt(),a=Dc();P1(a,i,t,n,e,r)}return Qn}var MZ=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function ye(t,n,e){let r=re(),i=Cs();if(Dr(r,i,n)){let o=nt(),s=Dc();xC(s,r,t,n,r[Ce],e)}return ye}function my(t,n,e,r,i){$y(n,t,e,i?"class":"style",r)}function S(t,n,e,r){let i=re(),o=i[H],s=t+ft,a=o.firstCreatePass?WC(s,i,2,n,SC,pm(),e,r):o.data[s];if(j1(a,i,t,n,lL),wc(a)){let c=i[H];By(c,i,a),ZD(c,a,i)}return r!=null&&Uy(i,a),S}function T(){let t=nt(),n=Mt(),e=V1(n);return t.firstCreatePass&&GC(t,e),TE(e)&&ME(),SE(),e.classesWithoutHost!=null&&tP(e)&&my(t,e,re(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&nP(e)&&my(t,e,re(),e.stylesWithoutHost,!1),T}function We(t,n,e,r){return S(t,n,e,r),T(),We}var lL=(t,n,e,r,i)=>(wd(!0),rC(n[Ce],r,$E()));function ci(){return re()}function rf(t,n,e){let r=re(),i=Cs();if(Dr(r,i,n)){let o=nt(),s=Dc();IC(s,r,t,n,r[Ce],e)}return rf}var Vc="en-US";var uL=Vc;function ax(t){typeof t=="string"&&(uL=t.toLowerCase().replace(/_/g,"-"))}function fe(t,n,e){let r=re(),i=nt(),o=Mt();return cx(i,r,r[Ce],o,t,n,e),fe}function cx(t,n,e,r,i,o,s){let a=!0,c=null;if((r.type&3||s)&&(c??=Pm(r,n,o),bF(r,t,n,s,e,i,o,c)&&(a=!1)),a){let l=r.outputs?.[i],u=r.hostDirectiveOutputs?.[i];if(u&&u.length)for(let d=0;d<u.length;d+=2){let f=u[d],h=u[d+1];c??=Pm(r,n,o),yD(r,n,f,h,i,c)}if(l&&l.length)for(let d of l)c??=Pm(r,n,o),yD(r,n,d,i,i,c)}}function Ue(t=1){return UE(t)}function dL(t,n){let e=null,r=e1(t);for(let i=0;i<n.length;i++){let o=n[i];if(o==="*"){e=i;continue}if(r===null?dC(t,o,!0):r1(r,o))return i}return e}function wo(t){let n=re()[Lt][St];if(!n.projection){let e=t?t.length:1,r=n.projection=cE(e,null),i=r.slice(),o=n.child;for(;o!==null;){if(o.type!==128){let s=t?dL(o,t):0;s!==null&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o)}o=o.next}}}function Eo(t,n=0,e,r,i,o){let s=re(),a=nt(),c=r?t+1:null;c!==null&&oL(s,a,c,r,i,o,null,e);let l=Fc(a,ft+t,16,null,e||null);l.projection===null&&(l.projection=n),vm();let d=!s[ys]||gm();s[Lt][St].projection[l.projection]===null&&c!==null?fL(s,a,c):d&&!Gd(l)&&C1(a,s,l)}function fL(t,n,e){let r=ft+e,i=n.data[r],o=t[r],s=sy(o,i.tView.ssrId),a=TC(t,i,void 0,{dehydratedView:s});VC(o,a,0,ry(i,s))}function Nn(t,n,e){HF(t,n,e)}function dn(t){let n=re(),e=nt(),r=wm();gd(r+1);let i=qy(e,r);if(t.dirty&&_E(n)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let o=GF(n,r);t.reset(o,gP),t.notifyOnChanges()}return!0}return!1}function fn(){return UF(re(),wm())}function Qy(t){let n=kE();return bE(n,ft+t)}function Sd(t,n){return t<<17|n<<2}function bo(t){return t>>17&32767}function hL(t){return(t&2)==2}function pL(t,n){return t&131071|n<<17}function yy(t){return t|2}function Ms(t){return(t&131068)>>2}function jm(t,n){return t&-131069|n<<2}function gL(t){return(t&1)===1}function vy(t){return t|1}function mL(t,n,e,r,i,o){let s=o?n.classBindings:n.styleBindings,a=bo(s),c=Ms(s);t[r]=e;let l=!1,u;if(Array.isArray(e)){let d=e;u=d[1],(u===null||gs(d,u)>0)&&(l=!0)}else u=e;if(i)if(c!==0){let f=bo(t[a+1]);t[r+1]=Sd(f,a),f!==0&&(t[f+1]=jm(t[f+1],r)),t[a+1]=pL(t[a+1],r)}else t[r+1]=Sd(a,0),a!==0&&(t[a+1]=jm(t[a+1],r)),a=r;else t[r+1]=Sd(c,0),a===0?a=r:t[c+1]=jm(t[c+1],r),c=r;l&&(t[r+1]=yy(t[r+1])),wD(t,u,r,!0),wD(t,u,r,!1),yL(n,u,t,r,o),s=Sd(a,c),o?n.classBindings=s:n.styleBindings=s}function yL(t,n,e,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof n=="string"&&gs(o,n)>=0&&(e[r+1]=vy(e[r+1]))}function wD(t,n,e,r){let i=t[e+1],o=n===null,s=r?bo(i):Ms(i),a=!1;for(;s!==0&&(a===!1||o);){let c=t[s],l=t[s+1];vL(c,n)&&(a=!0,t[s+1]=r?vy(l):yy(l)),s=r?bo(l):Ms(l)}a&&(t[e+1]=r?yy(i):vy(i))}function vL(t,n){return t===null||n==null||(Array.isArray(t)?t[1]:t)===n?!0:Array.isArray(t)&&typeof n=="string"?gs(t,n)>=0:!1}var An={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function bL(t){return t.substring(An.key,An.keyEnd)}function _L(t){return wL(t),lx(t,ux(t,0,An.textEnd))}function lx(t,n){let e=An.textEnd;return e===n?-1:(n=An.keyEnd=EL(t,An.key=n,e),ux(t,n,e))}function wL(t){An.key=0,An.keyEnd=0,An.value=0,An.valueEnd=0,An.textEnd=t.length}function ux(t,n,e){for(;n<e&&t.charCodeAt(n)<=32;)n++;return n}function EL(t,n,e){for(;n<e&&t.charCodeAt(n)>32;)n++;return n}function Ge(t,n){return CL(t,n,null,!0),Ge}function Bc(t){xL(kL,DL,t,!0)}function DL(t,n){for(let e=_L(n);e>=0;e=lx(n,e))ad(t,bL(n),!0)}function CL(t,n,e,r){let i=re(),o=nt(),s=hd(2);if(o.firstUpdatePass&&fx(o,t,s,r),n!==un&&Dr(i,s,n)){let a=o.data[_r()];hx(o,a,i,i[Ce],t,i[s+1]=OL(n,e),r,s)}}function xL(t,n,e,r){let i=nt(),o=hd(2);i.firstUpdatePass&&fx(i,null,o,r);let s=re();if(e!==un&&Dr(s,o,e)){let a=i.data[_r()];if(px(a,r)&&!dx(i,o)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(e=rd(c,e||"")),my(i,a,s,e,r)}else RL(i,a,s,s[Ce],s[o+1],s[o+1]=AL(t,n,e),r,o)}}function dx(t,n){return n>=t.expandoStartIndex}function fx(t,n,e,r){let i=t.data;if(i[e+1]===null){let o=i[_r()],s=dx(t,e);px(o,r)&&n===null&&!s&&(n=!1),n=IL(i,o,n,r),mL(i,o,n,e,s,r)}}function IL(t,n,e,r){let i=LE(t),o=r?n.residualClasses:n.residualStyles;if(i===null)(r?n.classBindings:n.styleBindings)===0&&(e=Vm(null,t,n,e,r),e=kc(e,n.attrs,r),o=null);else{let s=n.directiveStylingLast;if(s===-1||t[s]!==i)if(e=Vm(i,t,n,e,r),o===null){let c=SL(t,n,r);c!==void 0&&Array.isArray(c)&&(c=Vm(null,t,n,c[1],r),c=kc(c,n.attrs,r),TL(t,n,r,c))}else o=ML(t,n,r)}return o!==void 0&&(r?n.residualClasses=o:n.residualStyles=o),e}function SL(t,n,e){let r=e?n.classBindings:n.styleBindings;if(Ms(r)!==0)return t[bo(r)]}function TL(t,n,e,r){let i=e?n.classBindings:n.styleBindings;t[bo(i)]=r}function ML(t,n,e){let r,i=n.directiveEnd;for(let o=1+n.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=kc(r,s,e)}return kc(r,n.attrs,e)}function Vm(t,n,e,r,i){let o=null,s=e.directiveEnd,a=e.directiveStylingLast;for(a===-1?a=e.directiveStart:a++;a<s&&(o=n[a],r=kc(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(e.directiveStylingLast=a),r}function kc(t,n,e){let r=e?1:2,i=-1;if(n!==null)for(let o=0;o<n.length;o++){let s=n[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),ad(t,s,e?!0:n[++o]))}return t===void 0?null:t}function AL(t,n,e){if(e==null||e==="")return It;let r=[],i=Rn(e);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else typeof i=="string"&&n(r,i);return r}function kL(t,n,e){let r=String(n);r!==""&&!r.includes(" ")&&ad(t,r,e)}function RL(t,n,e,r,i,o,s,a){i===un&&(i=It);let c=0,l=0,u=0<i.length?i[0]:null,d=0<o.length?o[0]:null;for(;u!==null||d!==null;){let f=c<i.length?i[c+1]:void 0,h=l<o.length?o[l+1]:void 0,p=null,g;u===d?(c+=2,l+=2,f!==h&&(p=d,g=h)):d===null||u!==null&&u<d?(c+=2,p=u):(l+=2,p=d,g=h),p!==null&&hx(t,n,e,r,p,g,s,a),u=c<i.length?i[c]:null,d=l<o.length?o[l]:null}}function hx(t,n,e,r,i,o,s,a){if(!(n.type&3))return;let c=t.data,l=c[a+1],u=gL(l)?ED(c,n,e,i,Ms(l),s):void 0;if(!Hd(u)){Hd(o)||hL(l)&&(o=ED(c,null,e,i,a,s));let d=cm(_r(),e);I1(r,s,d,i,o)}}function ED(t,n,e,r,i,o){let s=n===null,a;for(;i>0;){let c=t[i],l=Array.isArray(c),u=l?c[1]:c,d=u===null,f=e[i+1];f===un&&(f=d?It:void 0);let h=d?cd(f,r):u===r?f:void 0;if(l&&!Hd(h)&&(h=cd(c,r)),Hd(h)&&(a=h,s))return a;let p=t[i+1];i=s?bo(p):Ms(p)}if(n!==null){let c=o?n.residualClasses:n.residualStyles;c!=null&&(a=cd(c,r))}return a}function Hd(t){return t!==void 0}function OL(t,n){return t==null||t===""||(typeof n=="string"?t=t+n:typeof t=="object"&&(t=yr(Rn(t)))),t}function px(t,n){return(t.flags&(n?8:16))!==0}function P(t,n=""){let e=re(),r=nt(),i=t+ft,o=r.firstCreatePass?Fc(r,i,1,n,null):r.data[i],s=NL(r,e,o,n,t);e[i]=s,_d()&&jy(r,e,s,o),Ds(o,!1)}var NL=(t,n,e,r,i)=>(wd(!0),HP(n[Ce],r));function PL(t,n,e,r=""){return Dr(t,Cs(),e)?n+ao(e)+r:un}function FL(t,n,e,r,i,o=""){let s=RE(),a=vF(t,s,e,i);return hd(2),a?n+ao(e)+r+ao(i)+o:un}function Pn(t){return Do("",t),Pn}function Do(t,n,e){let r=re(),i=PL(r,t,n,e);return i!==un&&gx(r,_r(),i),Do}function Mr(t,n,e,r,i){let o=re(),s=FL(o,t,n,e,r,i);return s!==un&&gx(o,_r(),s),Mr}function gx(t,n,e){let r=cm(n,t);zP(t[Ce],r,e)}function hn(t,n,e){Ky(n)&&(n=n());let r=re(),i=Cs();if(Dr(r,i,n)){let o=nt(),s=Dc();xC(s,r,t,n,r[Ce],e)}return hn}function Fn(t,n){let e=Ky(t);return e&&t.set(n),e}function pn(t,n){let e=re(),r=nt(),i=Mt();return cx(r,e,e[Ce],i,t,n),pn}function DD(t,n,e){let r=nt();r.firstCreatePass&&mx(n,r.data,r.blueprint,qn(t),e)}function mx(t,n,e,r,i){if(t=lt(t),Array.isArray(t))for(let o=0;o<t.length;o++)mx(t[o],n,e,r,i);else{let o=nt(),s=re(),a=Mt(),c=io(t)?t:lt(t.provide),l=rm(t),u=a.providerIndexes&1048575,d=a.directiveStart,f=a.providerIndexes>>20;if(io(t)||!t.multi){let h=new go(l,i,j,null),p=Um(c,n,i?u:u+f,d);p===-1?(Hm(Pd(a,s),o,c),Bm(o,t,n.length),n.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),e.push(h),s.push(h)):(e[p]=h,s[p]=h)}else{let h=Um(c,n,u+f,d),p=Um(c,n,u,u+f),g=h>=0&&e[h],m=p>=0&&e[p];if(i&&!m||!i&&!g){Hm(Pd(a,s),o,c);let y=VL(i?jL:LL,e.length,i,r,l,t);!i&&m&&(e[p].providerFactory=y),Bm(o,t,n.length,0),n.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),e.push(y),s.push(y)}else{let y=yx(e[i?p:h],l,!i&&r);Bm(o,t,h>-1?h:p,y)}!i&&r&&m&&e[p].componentProviders++}}}function Bm(t,n,e,r){let i=io(n),o=gE(n);if(i||o){let c=(o?lt(n.useClass):n).prototype.ngOnDestroy;if(c){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&n.multi){let u=l.indexOf(e);u===-1?l.push(e,[r,c]):l[u+1].push(r,c)}else l.push(e,c)}}}function yx(t,n,e){return e&&t.componentProviders++,t.multi.push(n)-1}function Um(t,n,e,r){for(let i=e;i<r;i++)if(n[i]===t)return i;return-1}function LL(t,n,e,r,i){return by(this.multi,[])}function jL(t,n,e,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=Tc(r,r[H],this.providerFactory.index,i);s=c.slice(0,a),by(o,s);for(let l=a;l<c.length;l++)s.push(c[l])}else s=[],by(o,s);return s}function by(t,n){for(let e=0;e<t.length;e++){let r=t[e];n.push(r())}return n}function VL(t,n,e,r,i,o){let s=new go(t,e,j,null);return s.multi=[],s.index=n,s.componentProviders=0,yx(s,i,r&&!e),s}function Ar(t,n){return e=>{e.providersResolver=(r,i)=>DD(r,i?i(t):t,!1),n&&(e.viewProvidersResolver=(r,i)=>DD(r,i?i(n):n,!0))}}var zd=class{ngModuleFactory;componentFactories;constructor(n,e){this.ngModuleFactory=n,this.componentFactories=e}},Xy=(()=>{class t{compileModuleSync(e){return new $d(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){let r=this.compileModuleSync(e),i=Xg(e),o=lC(i.declarations).reduce((s,a)=>{let c=vr(a);return c&&s.push(new yo(c)),s},[]);return new zd(r,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var vx=(()=>{class t{applicationErrorHandler=E(Kt);appRef=E(On);taskService=E(wr);ngZone=E(Be);zonelessEnabled=E(Cc);tracing=E(Ir,{optional:!0});zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Ye;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(fc):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(E(Am,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()}))}notify(e){if(!this.zonelessEnabled&&e===5)return;switch(e){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2;break}case 12:{this.appRef.dirtyFlags|=16;break}case 13:{this.appRef.dirtyFlags|=2;break}case 11:break;case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?Im:xm;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(fc+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let e=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(e),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Im(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(e)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let e=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(e)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function bx(){return[{provide:Yr,useExisting:vx},{provide:Be,useClass:hc},{provide:Cc,useValue:!0}]}function BL(){return typeof $localize<"u"&&$localize.locale||Vc}var of=new k("",{factory:()=>E(of,{optional:!0,skipSelf:!0})||BL()});function Uc(t,n){return wu(t,n?.equal)}var xx=Symbol("InputSignalNode#UNSET"),rj=Q(I({},Eu),{transformFn:void 0,applyValueToInputSignal(t,n){nc(t,n)}});function Ix(t,n){let e=Object.create(rj);e.value=t,e.transformFn=n?.transform;function r(){if(Xa(e),e.value===xx){let i=null;throw new R(-950,i)}return e.value}return r[Ct]=e,r}var li=class{attributeName;constructor(n){this.attributeName=n}__NG_ELEMENT_ID__=()=>Oc(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}};function _x(t,n){return Ix(t,n)}function ij(t){return Ix(xx,t)}var Sx=(_x.required=ij,_x);var ev=new k(""),oj=new k("");function $c(t){return!t.moduleRef}function sj(t){let n=$c(t)?t.r3Injector:t.moduleRef.injector,e=n.get(Be);return e.run(()=>{$c(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=n.get(Kt),i;if(e.runOutsideAngular(()=>{i=e.onError.subscribe({next:r})}),$c(t)){let o=()=>n.destroy(),s=t.platformInjector.get(ev);s.add(o),n.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(ev);s.add(o),t.moduleRef.onDestroy(()=>{Ic(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return cj(r,e,()=>{let o=n.get(wr),s=o.add(),a=n.get(Jy);return a.runInitializers(),a.donePromise.then(()=>{let c=n.get(of,Vc);if(ax(c||Vc),!n.get(oj,!0))return $c(t)?n.get(On):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if($c(t)){let u=n.get(On);return t.rootComponent!==void 0&&u.bootstrap(t.rootComponent),u}else return aj?.(t.moduleRef,t.allPlatformModules),t.moduleRef}).finally(()=>void o.remove(s))})})}var aj;function cj(t,n,e){try{let r=e();return ai(r)?r.catch(i=>{throw n.runOutsideAngular(()=>t(i)),i}):r}catch(r){throw n.runOutsideAngular(()=>t(r)),r}}var sf=null;function lj(t=[],n){return ut.create({name:n,providers:[{provide:mc,useValue:"platform"},{provide:ev,useValue:new Set([()=>sf=null])},...t]})}function uj(t=[]){if(sf)return sf;let n=lj(t);return sf=n,ox(),dj(n),n}function dj(t){let n=t.get(Wd,null);dt(t,()=>{n?.forEach(e=>e())})}var Qe=(()=>{class t{static __NG_ELEMENT_ID__=fj}return t})();function fj(t){return hj(Mt(),re(),(t&16)===16)}function hj(t,n,e){if(ri(t)&&!e){let r=cn(t.index,n);return new oi(r,r)}else if(t.type&175){let r=n[Lt];return new oi(r,n)}return null}var tv=class{constructor(){}supports(n){return Gy(n)}create(n){return new nv(n)}},pj=(t,n)=>n,nv=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(n){this._trackByFn=n||pj}forEachItem(n){let e;for(e=this._itHead;e!==null;e=e._next)n(e)}forEachOperation(n){let e=this._itHead,r=this._removalsHead,i=0,o=null;for(;e||r;){let s=!r||e&&e.currentIndex<wx(r,i,o)?e:r,a=wx(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(e=e._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,u=c-i;if(l!=u){for(let f=0;f<l;f++){let h=f<o.length?o[f]:o[f]=0,p=h+f;u<=p&&p<l&&(o[f]=h+1)}let d=s.previousIndex;o[d]=u-l}}a!==c&&n(s,a,c)}}forEachPreviousItem(n){let e;for(e=this._previousItHead;e!==null;e=e._nextPrevious)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;e!==null;e=e._nextAdded)n(e)}forEachMovedItem(n){let e;for(e=this._movesHead;e!==null;e=e._nextMoved)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)n(e)}forEachIdentityChange(n){let e;for(e=this._identityChangesHead;e!==null;e=e._nextIdentityChange)n(e)}diff(n){if(n==null&&(n=[]),!Gy(n))throw new R(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let e=this._itHead,r=!1,i,o,s;if(Array.isArray(n)){this.length=n.length;for(let a=0;a<this.length;a++)o=n[a],s=this._trackByFn(a,o),e===null||!Object.is(e.trackById,s)?(e=this._mismatch(e,o,s,a),r=!0):(r&&(e=this._verifyReinsertion(e,o,s,a)),Object.is(e.item,o)||this._addIdentityChange(e,o)),e=e._next}else i=0,qC(n,a=>{s=this._trackByFn(i,a),e===null||!Object.is(e.trackById,s)?(e=this._mismatch(e,a,s,i),r=!0):(r&&(e=this._verifyReinsertion(e,a,s,i)),Object.is(e.item,a)||this._addIdentityChange(e,a)),e=e._next,i++}),this.length=i;return this._truncate(e),this.collection=n,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;n!==null;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;n!==null;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;n!==null;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,e,r,i){let o;return n===null?o=this._itTail:(o=n._prev,this._remove(n)),n=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),n!==null?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._reinsertAfter(n,o,i)):(n=this._linkedRecords===null?null:this._linkedRecords.get(r,i),n!==null?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._moveAfter(n,o,i)):n=this._addAfter(new rv(e,r),o,i)),n}_verifyReinsertion(n,e,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?n=this._reinsertAfter(o,n._prev,i):n.currentIndex!=i&&(n.currentIndex=i,this._addToMoves(n,i)),n}_truncate(n){for(;n!==null;){let e=n._next;this._addToRemovals(this._unlink(n)),n=e}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,e,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(n);let i=n._prevRemoved,o=n._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(n,e,r),this._addToMoves(n,r),n}_moveAfter(n,e,r){return this._unlink(n),this._insertAfter(n,e,r),this._addToMoves(n,r),n}_addAfter(n,e,r){return this._insertAfter(n,e,r),this._additionsTail===null?this._additionsTail=this._additionsHead=n:this._additionsTail=this._additionsTail._nextAdded=n,n}_insertAfter(n,e,r){let i=e===null?this._itHead:e._next;return n._next=i,n._prev=e,i===null?this._itTail=n:i._prev=n,e===null?this._itHead=n:e._next=n,this._linkedRecords===null&&(this._linkedRecords=new af),this._linkedRecords.put(n),n.currentIndex=r,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){this._linkedRecords!==null&&this._linkedRecords.remove(n);let e=n._prev,r=n._next;return e===null?this._itHead=r:e._next=r,r===null?this._itTail=e:r._prev=e,n}_addToMoves(n,e){return n.previousIndex===e||(this._movesTail===null?this._movesTail=this._movesHead=n:this._movesTail=this._movesTail._nextMoved=n),n}_addToRemovals(n){return this._unlinkedRecords===null&&(this._unlinkedRecords=new af),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,e){return n.item=e,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=n:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=n,n}},rv=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(n,e){this.item=n,this.trackById=e}},iv=class{_head=null;_tail=null;add(n){this._head===null?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,e){let r;for(r=this._head;r!==null;r=r._nextDup)if((e===null||e<=r.currentIndex)&&Object.is(r.trackById,n))return r;return null}remove(n){let e=n._prevDup,r=n._nextDup;return e===null?this._head=r:e._nextDup=r,r===null?this._tail=e:r._prevDup=e,this._head===null}},af=class{map=new Map;put(n){let e=n.trackById,r=this.map.get(e);r||(r=new iv,this.map.set(e,r)),r.add(n)}get(n,e){let r=n,i=this.map.get(r);return i?i.get(n,e):null}remove(n){let e=n.trackById;return this.map.get(e).remove(n)&&this.map.delete(e),n}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function wx(t,n,e){let r=t.previousIndex;if(r===null)return r;let i=0;return e&&r<e.length&&(i=e[r]),r+n+i}function Ex(){return new ov([new tv])}var ov=(()=>{class t{factories;static \u0275prov=A({token:t,providedIn:"root",factory:Ex});constructor(e){this.factories=e}static create(e,r){if(r!=null){let i=r.factories.slice();e=e.concat(i)}return new t(e)}static extend(e){return{provide:t,useFactory:()=>{let r=E(t,{optional:!0,skipSelf:!0});return t.create(e,r||Ex())}}}find(e){let r=this.factories.find(i=>i.supports(e));if(r!=null)return r;throw new R(901,!1)}}return t})();function Tx(t){let{rootComponent:n,appProviders:e,platformProviders:r,platformRef:i}=t;ue(oe.BootstrapApplicationStart);try{let o=i?.injector??uj(r),s=[bx(),GE,...e||[]],a=new Ac({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return sj({r3Injector:a.injector,platformInjector:o,rootComponent:n})}catch(o){return Promise.reject(o)}finally{ue(oe.BootstrapApplicationEnd)}}function _t(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function Mx(t,n=NaN){return!isNaN(parseFloat(t))&&!isNaN(Number(t))?Number(t):n}function Ax(t,n){let e=vr(t),r=n.elementInjector||ms();return new yo(e).create(r,n.projectableNodes,n.hostElement,n.environmentInjector,n.directives,n.bindings)}var kx=null;function gn(){return kx}function sv(t){kx??=t}var Hc=class{},cf=(()=>{class t{historyGo(e){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=A({token:t,factory:()=>E(Rx),providedIn:"platform"})}return t})();var Rx=(()=>{class t extends cf{_location;_history;_doc=E(xe);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return gn().getBaseHref(this._doc)}onPopState(e){let r=gn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){let r=gn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,r,i){this._history.pushState(e,r,i)}replaceState(e,r,i){this._history.replaceState(e,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=A({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function Px(t,n){return t?n?t.endsWith("/")?n.startsWith("/")?t+n.slice(1):t+n:n.startsWith("/")?t+n:`${t}/${n}`:t:n}function Ox(t){let n=t.search(/#|\?|$/);return t[n-1]==="/"?t.slice(0,n-1)+t.slice(n):t}function ui(t){return t&&t[0]!=="?"?`?${t}`:t}var Os=(()=>{class t{historyGo(e){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=A({token:t,factory:()=>E(mj),providedIn:"root"})}return t})(),gj=new k(""),mj=(()=>{class t extends Os{_platformLocation;_baseHref;_removeListenerFns=[];constructor(e,r){super(),this._platformLocation=e,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??E(xe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Px(this._baseHref,e)}path(e=!1){let r=this._platformLocation.pathname+ui(this._platformLocation.search),i=this._platformLocation.hash;return i&&e?`${r}${i}`:r}pushState(e,r,i,o){let s=this.prepareExternalUrl(i+ui(o));this._platformLocation.pushState(e,r,s)}replaceState(e,r,i,o){let s=this.prepareExternalUrl(i+ui(o));this._platformLocation.replaceState(e,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(r){return new(r||t)(L(cf),L(gj,8))};static \u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ns=(()=>{class t{_subject=new Ve;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(e){this._locationStrategy=e;let r=this._locationStrategy.getBaseHref();this._basePath=bj(Ox(Nx(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+ui(r))}normalize(e){return t.stripTrailingSlash(vj(this._basePath,Nx(e)))}prepareExternalUrl(e){return e&&e[0]!=="/"&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,r="",i=null){this._locationStrategy.pushState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ui(r)),i)}replaceState(e,r="",i=null){this._locationStrategy.replaceState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ui(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(i=>i(e,r))}subscribe(e,r,i){return this._subject.subscribe({next:e,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=ui;static joinWithSlash=Px;static stripTrailingSlash=Ox;static \u0275fac=function(r){return new(r||t)(L(Os))};static \u0275prov=A({token:t,factory:()=>yj(),providedIn:"root"})}return t})();function yj(){return new Ns(L(Os))}function vj(t,n){if(!t||!n.startsWith(t))return n;let e=n.substring(t.length);return e===""||["/",";","?","#"].includes(e[0])?e:n}function Nx(t){return t.replace(/\/index.html$/,"")}function bj(t){if(new RegExp("^(https?:)?//").test(t)){let[,e]=t.split(/\/\/[^\/]+/);return e}return t}var lf=class{$implicit;ngForOf;index;count;constructor(n,e,r,i){this.$implicit=n,this.ngForOf=e,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},di=(()=>{class t{_viewContainer;_template;_differs;set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(e,r,i){this._viewContainer=e,this._template=r,this._differs=i}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){let e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){let r=this._viewContainer;e.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new lf(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),Fx(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}e.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);Fx(o,i)})}static ngTemplateContextGuard(e,r){return!0}static \u0275fac=function(r){return new(r||t)(j(Tr),j(si),j(ov))};static \u0275dir=Fe({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return t})();function Fx(t,n){t.context.$implicit=n.item}var zc=(()=>{class t{_viewContainer;_context=new uf;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(e,r){this._viewContainer=e,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Lx(e,!1),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Lx(e,!1),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(e,r){return!0}static \u0275fac=function(r){return new(r||t)(j(Tr),j(si))};static \u0275dir=Fe({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return t})(),uf=class{$implicit=null;ngIf=null};function Lx(t,n){if(t&&!t.createEmbeddedView)throw new R(2020,!1)}function df(t,n){n=encodeURIComponent(n);for(let e of t.split(";")){let r=e.indexOf("="),[i,o]=r==-1?[e,""]:[e.slice(0,r),e.slice(r+1)];if(i.trim()===n)return decodeURIComponent(o)}return null}var xo=class{};var av="browser";function jx(t){return t===av}var Wc=class{_doc;constructor(n){this._doc=n}manager},ff=(()=>{class t extends Wc{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,i,o){return e.addEventListener(r,i,o),()=>this.removeEventListener(e,r,i,o)}removeEventListener(e,r,i,o){return e.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||t)(L(xe))};static \u0275prov=A({token:t,factory:t.\u0275fac})}return t})(),gf=new k(""),dv=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,r){this._zone=r,e.forEach(s=>{s.manager=this});let i=e.filter(s=>!(s instanceof ff));this._plugins=i.slice().reverse();let o=e.find(s=>s instanceof ff);o&&this._plugins.push(o)}addEventListener(e,r,i,o){return this._findPluginFor(r).addEventListener(e,r,i,o)}getZone(){return this._zone}_findPluginFor(e){let r=this._eventNameToPlugin.get(e);if(r)return r;if(r=this._plugins.find(o=>o.supports(e)),!r)throw new R(5101,!1);return this._eventNameToPlugin.set(e,r),r}static \u0275fac=function(r){return new(r||t)(L(gf),L(Be))};static \u0275prov=A({token:t,factory:t.\u0275fac})}return t})(),cv="ng-app-id";function Vx(t){for(let n of t)n.remove()}function Bx(t,n){let e=n.createElement("style");return e.textContent=t,e}function Ej(t,n,e,r){let i=t.head?.querySelectorAll(`style[${cv}="${n}"],link[${cv}="${n}"]`);if(i)for(let o of i)o.removeAttribute(cv),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&e.set(o.textContent,{usage:0,elements:[o]})}function uv(t,n){let e=n.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",t),e}var fv=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(e,r,i,o={}){this.doc=e,this.appId=r,this.nonce=i,Ej(e,r,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,r){for(let i of e)this.addUsage(i,this.inline,Bx);r?.forEach(i=>this.addUsage(i,this.external,uv))}removeStyles(e,r){for(let i of e)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(e,r,i){let o=r.get(e);o?o.usage++:r.set(e,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(e,this.doc)))})}removeUsage(e,r){let i=r.get(e);i&&(i.usage--,i.usage<=0&&(Vx(i.elements),r.delete(e)))}ngOnDestroy(){for(let[,{elements:e}]of[...this.inline,...this.external])Vx(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(e,Bx(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(e,uv(r,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,r){return this.nonce&&r.setAttribute("nonce",this.nonce),e.appendChild(r)}static \u0275fac=function(r){return new(r||t)(L(xe),L(ks),L(Rs,8),L(_o))};static \u0275prov=A({token:t,factory:t.\u0275fac})}return t})(),lv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},hv=/%COMP%/g;var $x="%COMP%",Dj=`_nghost-${$x}`,Cj=`_ngcontent-${$x}`,xj=!0,Ij=new k("",{factory:()=>xj});function Sj(t){return Cj.replace(hv,t)}function Tj(t){return Dj.replace(hv,t)}function Hx(t,n){return n.map(e=>e.replace(hv,t))}var pv=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(e,r,i,o,s,a,c=null,l=null){this.eventManager=e,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.ngZone=a,this.nonce=c,this.tracingService=l,this.platformIsServer=!1,this.defaultRenderer=new Gc(e,s,a,this.platformIsServer,this.tracingService)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(e,r);return i instanceof pf?i.applyToHost(e):i instanceof qc&&i.applyStyles(),i}getOrCreateRenderer(e,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer,f=this.tracingService;switch(r.encapsulation){case kn.Emulated:o=new pf(c,l,r,this.appId,u,s,a,d,f);break;case kn.ShadowDom:return new hf(c,e,r,s,a,this.nonce,d,f,l);case kn.ExperimentalIsolatedShadowDom:return new hf(c,e,r,s,a,this.nonce,d,f);default:o=new qc(c,l,r,u,s,a,d,f);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(e){this.rendererByCompId.delete(e)}static \u0275fac=function(r){return new(r||t)(L(dv),L(fv),L(ks),L(Ij),L(xe),L(Be),L(Rs),L(Ir,8))};static \u0275prov=A({token:t,factory:t.\u0275fac})}return t})(),Gc=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(n,e,r,i,o){this.eventManager=n,this.doc=e,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(n,e){return e?this.doc.createElementNS(lv[e]||e,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,e){(Ux(n)?n.content:n).appendChild(e)}insertBefore(n,e,r){n&&(Ux(n)?n.content:n).insertBefore(e,r)}removeChild(n,e){e.remove()}selectRootElement(n,e){let r=typeof n=="string"?this.doc.querySelector(n):n;if(!r)throw new R(-5104,!1);return e||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,r,i){if(i){e=i+":"+e;let o=lv[i];o?n.setAttributeNS(o,e,r):n.setAttribute(e,r)}else n.setAttribute(e,r)}removeAttribute(n,e,r){if(r){let i=lv[r];i?n.removeAttributeNS(i,e):n.removeAttribute(`${r}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,r,i){i&(Yn.DashCase|Yn.Important)?n.style.setProperty(e,r,i&Yn.Important?"important":""):n.style[e]=r}removeStyle(n,e,r){r&Yn.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,r){n!=null&&(n[e]=r)}setValue(n,e){n.nodeValue=e}listen(n,e,r,i){if(typeof n=="string"&&(n=gn().getGlobalEventTarget(this.doc,n),!n))throw new R(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(n,e,o)),this.eventManager.addEventListener(n,e,o,i)}decoratePreventDefault(n){return e=>{if(e==="__ngUnwrap__")return n;n(e)===!1&&e.preventDefault()}}};function Ux(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var hf=class extends Gc{hostEl;sharedStylesHost;shadowRoot;constructor(n,e,r,i,o,s,a,c,l){super(n,i,o,a,c),this.hostEl=e,this.sharedStylesHost=l,this.shadowRoot=e.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let u=r.styles;u=Hx(r.id,u);for(let f of u){let h=document.createElement("style");s&&h.setAttribute("nonce",s),h.textContent=f,this.shadowRoot.appendChild(h)}let d=r.getExternalStyles?.();if(d)for(let f of d){let h=uv(f,i);s&&h.setAttribute("nonce",s),this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,r){return super.insertBefore(this.nodeOrShadowRoot(n),e,r)}removeChild(n,e){return super.removeChild(null,e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}},qc=class extends Gc{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(n,e,r,i,o,s,a,c,l){super(n,o,s,a,c),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=i;let u=r.styles;this.styles=l?Hx(l,u):u,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Ts.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},pf=class extends qc{contentAttr;hostAttr;constructor(n,e,r,i,o,s,a,c,l){let u=i+"-"+r.id;super(n,e,r,o,s,a,c,l,u),this.contentAttr=Sj(u),this.hostAttr=Tj(u)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,e){let r=super.createElement(n,e);return super.setAttribute(r,this.contentAttr,""),r}};var mf=class t extends Hc{supportsDOMEvents=!0;static makeCurrent(){sv(new t)}onAndCancel(n,e,r,i){return n.addEventListener(e,r,i),()=>{n.removeEventListener(e,r,i)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.remove()}createElement(n,e){return e=e||this.getDefaultDocument(),e.createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return e==="window"?window:e==="document"?n:e==="body"?n.body:null}getBaseHref(n){let e=Mj();return e==null?null:Aj(e)}resetBaseElement(){Kc=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return df(document.cookie,n)}},Kc=null;function Mj(){return Kc=Kc||document.head.querySelector("base"),Kc?Kc.getAttribute("href"):null}function Aj(t){return new URL(t,document.baseURI).pathname}var kj=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=A({token:t,factory:t.\u0275fac})}return t})(),zx=["alt","control","meta","shift"],Rj={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Oj={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},Wx=(()=>{class t extends Wc{constructor(e){super(e)}supports(e){return t.parseEventName(e)!=null}addEventListener(e,r,i,o){let s=t.parseEventName(r),a=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>gn().onAndCancel(e,s.domEventName,a,o))}static parseEventName(e){let r=e.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),zx.forEach(l=>{let u=r.indexOf(l);u>-1&&(r.splice(u,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(e,r){let i=Rj[e.key]||e.key,o="";return r.indexOf("code.")>-1&&(i=e.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),zx.forEach(s=>{if(s!==i){let a=Oj[s];a(e)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(e,r,i){return o=>{t.matchEventFullKeyCode(o,e)&&i.runGuarded(()=>r(o))}}static _normalizeKey(e){return e==="esc"?"escape":e}static \u0275fac=function(r){return new(r||t)(L(xe))};static \u0275prov=A({token:t,factory:t.\u0275fac})}return t})();function gv(t,n,e){let r=I({rootComponent:t,platformRef:e?.platformRef},Nj(n));return Tx(r)}function Nj(t){return{appProviders:[...Vj,...t?.providers??[]],platformProviders:jj}}function Pj(){mf.makeCurrent()}function Fj(){return new Pt}function Lj(){return Ey(document),document}var jj=[{provide:_o,useValue:av},{provide:Wd,useValue:Pj,multi:!0},{provide:xe,useFactory:Lj}];var Vj=[{provide:mc,useValue:"root"},{provide:Pt,useFactory:Fj},{provide:gf,useClass:ff,multi:!0},{provide:gf,useClass:Wx,multi:!0},pv,fv,dv,{provide:mo,useExisting:pv},{provide:xo,useClass:kj},[]];var fi=class t{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(n){n?typeof n=="string"?this.lazyInit=()=>{this.headers=new Map,n.split(`
`).forEach(e=>{let r=e.indexOf(":");if(r>0){let i=e.slice(0,r),o=e.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((e,r)=>{this.addHeaderEntry(r,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([e,r])=>{this.setHeaderEntries(e,r)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();let e=this.headers.get(n.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,e){return this.clone({name:n,value:e,op:"a"})}set(n,e){return this.clone({name:n,value:e,op:"s"})}delete(n,e){return this.clone({name:n,value:e,op:"d"})}maybeSetNormalizedName(n,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,n)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(e=>{this.headers.set(e,n.headers.get(e)),this.normalizedNames.set(e,n.normalizedNames.get(e))})}clone(n){let e=new t;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([n]),e}applyUpdate(n){let e=n.name.toLowerCase();switch(n.op){case"a":case"s":let r=n.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(n.name,e);let i=(n.op==="a"?this.headers.get(e):void 0)||[];i.push(...r),this.headers.set(e,i);break;case"d":let o=n.value;if(!o)this.headers.delete(e),this.normalizedNames.delete(e);else{let s=this.headers.get(e);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}break}}addHeaderEntry(n,e){let r=n.toLowerCase();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(e):this.headers.set(r,[e])}setHeaderEntries(n,e){let r=(Array.isArray(e)?e:[e]).map(o=>o.toString()),i=n.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(n,i)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>n(this.normalizedNames.get(e),this.headers.get(e)))}};var yv=class{map=new Map;set(n,e){return this.map.set(n,e),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}},vv=class{encodeKey(n){return Gx(n)}encodeValue(n){return Gx(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}};function Bj(t,n){let e=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[n.decodeKey(i),""]:[n.decodeKey(i.slice(0,o)),n.decodeValue(i.slice(o+1))],c=e.get(s)||[];c.push(a),e.set(s,c)}),e}var Uj=/%(\d[a-f0-9])/gi,$j={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Gx(t){return encodeURIComponent(t).replace(Uj,(n,e)=>$j[e]??n)}function yf(t){return`${t}`}var kr=class t{map;encoder;updates=null;cloneFrom=null;constructor(n={}){if(this.encoder=n.encoder||new vv,n.fromString){if(n.fromObject)throw new R(2805,!1);this.map=Bj(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(e=>{let r=n.fromObject[e],i=Array.isArray(r)?r.map(yf):[yf(r)];this.map.set(e,i)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();let e=this.map.get(n);return e?e[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,e){return this.clone({param:n,value:e,op:"a"})}appendAll(n){let e=[];return Object.keys(n).forEach(r=>{let i=n[r];Array.isArray(i)?i.forEach(o=>{e.push({param:r,value:o,op:"a"})}):e.push({param:r,value:i,op:"a"})}),this.clone(e)}set(n,e){return this.clone({param:n,value:e,op:"s"})}delete(n,e){return this.clone({param:n,value:e,op:"d"})}toString(){return this.init(),this.keys().map(n=>{let e=this.encoder.encodeKey(n);return this.map.get(n).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(n=>n!=="").join("&")}clone(n){let e=new t({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(n),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":let e=(n.op==="a"?this.map.get(n.param):void 0)||[];e.push(yf(n.value)),this.map.set(n.param,e);break;case"d":if(n.value!==void 0){let r=this.map.get(n.param)||[],i=r.indexOf(yf(n.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(n.param,r):this.map.delete(n.param)}else{this.map.delete(n.param);break}}}),this.cloneFrom=this.updates=null)}};function Hj(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function qx(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function Kx(t){return typeof Blob<"u"&&t instanceof Blob}function Yx(t){return typeof FormData<"u"&&t instanceof FormData}function zj(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var Zx="Content-Type",Jx="Accept",Qx="text/plain",Xx="application/json",Wj=`${Xx}, ${Qx}, */*`,Ps=class t{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;referrerPolicy;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(n,e,r,i){this.url=e,this.method=n.toUpperCase();let o;if(Hj(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o){if(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,this.keepalive=!!o.keepalive,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),o.priority&&(this.priority=o.priority),o.cache&&(this.cache=o.cache),o.credentials&&(this.credentials=o.credentials),typeof o.timeout=="number"){if(o.timeout<1||!Number.isInteger(o.timeout))throw new R(2822,"");this.timeout=o.timeout}o.mode&&(this.mode=o.mode),o.redirect&&(this.redirect=o.redirect),o.integrity&&(this.integrity=o.integrity),o.referrer&&(this.referrer=o.referrer),o.referrerPolicy&&(this.referrerPolicy=o.referrerPolicy),this.transferCache=o.transferCache}if(this.headers??=new fi,this.context??=new yv,!this.params)this.params=new kr,this.urlWithParams=e;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=e;else{let a=e.indexOf("?"),c=a===-1?"?":a<e.length-1?"&":"";this.urlWithParams=e+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||qx(this.body)||Kx(this.body)||Yx(this.body)||zj(this.body)?this.body:this.body instanceof kr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Yx(this.body)?null:Kx(this.body)?this.body.type||null:qx(this.body)?null:typeof this.body=="string"?Qx:this.body instanceof kr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?Xx:null}clone(n={}){let e=n.method||this.method,r=n.url||this.url,i=n.responseType||this.responseType,o=n.keepalive??this.keepalive,s=n.priority||this.priority,a=n.cache||this.cache,c=n.mode||this.mode,l=n.redirect||this.redirect,u=n.credentials||this.credentials,d=n.referrer||this.referrer,f=n.integrity||this.integrity,h=n.referrerPolicy||this.referrerPolicy,p=n.transferCache??this.transferCache,g=n.timeout??this.timeout,m=n.body!==void 0?n.body:this.body,y=n.withCredentials??this.withCredentials,v=n.reportProgress??this.reportProgress,_=n.headers||this.headers,b=n.params||this.params,w=n.context??this.context;return n.setHeaders!==void 0&&(_=Object.keys(n.setHeaders).reduce((D,x)=>D.set(x,n.setHeaders[x]),_)),n.setParams&&(b=Object.keys(n.setParams).reduce((D,x)=>D.set(x,n.setParams[x]),b)),new t(e,r,m,{params:b,headers:_,context:w,reportProgress:v,responseType:i,withCredentials:y,transferCache:p,keepalive:o,cache:a,priority:s,timeout:g,mode:c,redirect:l,credentials:u,referrer:d,integrity:f,referrerPolicy:h})}},Io=(function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t})(Io||{}),Yc=class{headers;status;statusText;url;ok;type;redirected;responseType;constructor(n,e=200,r="OK"){this.headers=n.headers||new fi,this.status=n.status!==void 0?n.status:e,this.statusText=n.statusText||r,this.url=n.url||null,this.redirected=n.redirected,this.responseType=n.responseType,this.ok=this.status>=200&&this.status<300}},bv=class t extends Yc{constructor(n={}){super(n)}type=Io.ResponseHeader;clone(n={}){return new t({headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}},Zc=class t extends Yc{body;constructor(n={}){super(n),this.body=n.body!==void 0?n.body:null}type=Io.Response;clone(n={}){return new t({body:n.body!==void 0?n.body:this.body,headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0,redirected:n.redirected??this.redirected,responseType:n.responseType??this.responseType})}},Fs=class extends Yc{name="HttpErrorResponse";message;error;ok=!1;constructor(n){super(n,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${n.url||"(unknown url)"}`:this.message=`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}},Gj=200,qj=204;var Kj=/^\)\]\}',?\n/;var Yj=(()=>{class t{xhrFactory;tracingService=E(Ir,{optional:!0});constructor(e){this.xhrFactory=e}maybePropagateTrace(e){return this.tracingService?.propagate?this.tracingService.propagate(e):e}handle(e){if(e.method==="JSONP")throw new R(-2800,!1);let r=this.xhrFactory;return W(null).pipe(rn(()=>new ne(o=>{let s=r.build();if(s.open(e.method,e.urlWithParams),e.withCredentials&&(s.withCredentials=!0),e.headers.forEach((m,y)=>s.setRequestHeader(m,y.join(","))),e.headers.has(Jx)||s.setRequestHeader(Jx,Wj),!e.headers.has(Zx)){let m=e.detectContentTypeHeader();m!==null&&s.setRequestHeader(Zx,m)}if(e.timeout&&(s.timeout=e.timeout),e.responseType){let m=e.responseType.toLowerCase();s.responseType=m!=="json"?m:"text"}let a=e.serializeBody(),c=null,l=()=>{if(c!==null)return c;let m=s.statusText||"OK",y=new fi(s.getAllResponseHeaders()),v=s.responseURL||e.url;return c=new bv({headers:y,status:s.status,statusText:m,url:v}),c},u=this.maybePropagateTrace(()=>{let{headers:m,status:y,statusText:v,url:_}=l(),b=null;y!==qj&&(b=typeof s.response>"u"?s.responseText:s.response),y===0&&(y=b?Gj:0);let w=y>=200&&y<300;if(e.responseType==="json"&&typeof b=="string"){let D=b;b=b.replace(Kj,"");try{b=b!==""?JSON.parse(b):null}catch(x){b=D,w&&(w=!1,b={error:x,text:b})}}w?(o.next(new Zc({body:b,headers:m,status:y,statusText:v,url:_||void 0})),o.complete()):o.error(new Fs({error:b,headers:m,status:y,statusText:v,url:_||void 0}))}),d=this.maybePropagateTrace(m=>{let{url:y}=l(),v=new Fs({error:m,status:s.status||0,statusText:s.statusText||"Unknown Error",url:y||void 0});o.error(v)}),f=d;e.timeout&&(f=this.maybePropagateTrace(m=>{let{url:y}=l(),v=new Fs({error:new DOMException("Request timed out","TimeoutError"),status:s.status||0,statusText:s.statusText||"Request timeout",url:y||void 0});o.error(v)}));let h=!1,p=this.maybePropagateTrace(m=>{h||(o.next(l()),h=!0);let y={type:Io.DownloadProgress,loaded:m.loaded};m.lengthComputable&&(y.total=m.total),e.responseType==="text"&&s.responseText&&(y.partialText=s.responseText),o.next(y)}),g=this.maybePropagateTrace(m=>{let y={type:Io.UploadProgress,loaded:m.loaded};m.lengthComputable&&(y.total=m.total),o.next(y)});return s.addEventListener("load",u),s.addEventListener("error",d),s.addEventListener("timeout",f),s.addEventListener("abort",d),e.reportProgress&&(s.addEventListener("progress",p),a!==null&&s.upload&&s.upload.addEventListener("progress",g)),s.send(a),o.next({type:Io.Sent}),()=>{s.removeEventListener("error",d),s.removeEventListener("abort",d),s.removeEventListener("load",u),s.removeEventListener("timeout",f),e.reportProgress&&(s.removeEventListener("progress",p),a!==null&&s.upload&&s.upload.removeEventListener("progress",g)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||t)(L(xo))};static \u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Zj(t,n){return n(t)}function Jj(t,n,e){return(r,i)=>dt(e,()=>n(r,o=>t(o,i)))}var Qj=new k("",{factory:()=>[]}),eI=new k(""),Xj=new k("",{providedIn:"root",factory:()=>!0});var eV=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=A({token:t,factory:function(r){let i=null;return r?i=new(r||t):i=L(Yj),i},providedIn:"root"})}return t})();var tV=(()=>{class t{backend;injector;chain=null;pendingTasks=E(Dd);contributeToStability=E(Xj);constructor(e,r){this.backend=e,this.injector=r}handle(e){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(Qj),...this.injector.get(eI,[])]));this.chain=r.reduceRight((i,o)=>Jj(i,o,this.injector),Zj)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(e,i=>this.backend.handle(i)).pipe(eo(r))}else return this.chain(e,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||t)(L(eV),L(Ne))};static \u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),nV=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=A({token:t,factory:function(r){let i=null;return r?i=new(r||t):i=L(tV),i},providedIn:"root"})}return t})();function mv(t,n){return{body:n,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,credentials:t.credentials,transferCache:t.transferCache,timeout:t.timeout,keepalive:t.keepalive,priority:t.priority,cache:t.cache,mode:t.mode,redirect:t.redirect,integrity:t.integrity,referrer:t.referrer,referrerPolicy:t.referrerPolicy}}var _v=(()=>{class t{handler;constructor(e){this.handler=e}request(e,r,i={}){let o;if(e instanceof Ps)o=e;else{let c;i.headers instanceof fi?c=i.headers:c=new fi(i.headers);let l;i.params&&(i.params instanceof kr?l=i.params:l=new kr({fromObject:i.params})),o=new Ps(e,r,i.body!==void 0?i.body:null,{headers:c,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache,keepalive:i.keepalive,priority:i.priority,cache:i.cache,mode:i.mode,redirect:i.redirect,credentials:i.credentials,referrer:i.referrer,referrerPolicy:i.referrerPolicy,integrity:i.integrity,timeout:i.timeout})}let s=W(o).pipe(fs(c=>this.handler.handle(c)));if(e instanceof Ps||i.observe==="events")return s;let a=s.pipe(nn(c=>c instanceof Zc));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(X(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new R(2806,!1);return c.body}));case"blob":return a.pipe(X(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new R(2807,!1);return c.body}));case"text":return a.pipe(X(c=>{if(c.body!==null&&typeof c.body!="string")throw new R(2808,!1);return c.body}));case"json":default:return a.pipe(X(c=>c.body))}case"response":return a;default:throw new R(2809,!1)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:new kr().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,i={}){return this.request("PATCH",e,mv(i,r))}post(e,r,i={}){return this.request("POST",e,mv(i,r))}put(e,r,i={}){return this.request("PUT",e,mv(i,r))}static \u0275fac=function(r){return new(r||t)(L(nV))};static \u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var tI=(()=>{class t{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(r){return new(r||t)(L(xe))};static \u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var wv=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=A({token:t,factory:function(r){let i=null;return r?i=new(r||t):i=L(iV),i},providedIn:"root"})}return t})(),iV=(()=>{class t extends wv{_doc;constructor(e){super(),this._doc=e}sanitize(e,r){if(r==null)return null;switch(e){case ht.NONE:return r;case ht.HTML:return Cr(r,"HTML")?Rn(r):My(this._doc,String(r)).toString();case ht.STYLE:return Cr(r,"Style")?Rn(r):r;case ht.SCRIPT:if(Cr(r,"Script"))return Rn(r);throw new R(5200,!1);case ht.URL:return Cr(r,"URL")?Rn(r):Nc(String(r));case ht.RESOURCE_URL:if(Cr(r,"ResourceURL"))return Rn(r);throw new R(5201,!1);default:throw new R(5202,!1)}}bypassSecurityTrustHtml(e){return Cy(e)}bypassSecurityTrustStyle(e){return xy(e)}bypassSecurityTrustScript(e){return Iy(e)}bypassSecurityTrustUrl(e){return Sy(e)}bypassSecurityTrustResourceUrl(e){return Ty(e)}static \u0275fac=function(r){return new(r||t)(L(xe))};static \u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var G="primary",ll=Symbol("RouteTitle"),Iv=class{params;constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){let e=this.params[n];return Array.isArray(e)?e[0]:e}return null}getAll(n){if(this.has(n)){let e=this.params[n];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function Ao(t){return new Iv(t)}function dI(t,n,e){let r=e.path.split("/");if(r.length>t.length||e.pathMatch==="full"&&(n.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Df(t){return new Promise((n,e)=>{t.pipe(gr()).subscribe({next:r=>n(r),error:r=>e(r)})})}function oV(t,n){if(t.length!==n.length)return!1;for(let e=0;e<t.length;++e)if(!Xn(t[e],n[e]))return!1;return!0}function Xn(t,n){let e=t?Sv(t):void 0,r=n?Sv(n):void 0;if(!e||!r||e.length!=r.length)return!1;let i;for(let o=0;o<e.length;o++)if(i=e[o],!fI(t[i],n[i]))return!1;return!0}function Sv(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function fI(t,n){if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return!1;let e=[...t].sort(),r=[...n].sort();return e.every((i,o)=>r[o]===i)}else return t===n}function hI(t){return t.length>0?t[t.length-1]:null}function Ro(t){return Gu(t)?t:ai(t)?ze(Promise.resolve(t)):W(t)}function pI(t){return Gu(t)?Df(t):Promise.resolve(t)}var sV={exact:mI,subset:yI},gI={exact:aV,subset:cV,ignored:()=>!0};function rI(t,n,e){return sV[e.paths](t.root,n.root,e.matrixParams)&&gI[e.queryParams](t.queryParams,n.queryParams)&&!(e.fragment==="exact"&&t.fragment!==n.fragment)}function aV(t,n){return Xn(t,n)}function mI(t,n,e){if(!To(t.segments,n.segments)||!_f(t.segments,n.segments,e)||t.numberOfChildren!==n.numberOfChildren)return!1;for(let r in n.children)if(!t.children[r]||!mI(t.children[r],n.children[r],e))return!1;return!0}function cV(t,n){return Object.keys(n).length<=Object.keys(t).length&&Object.keys(n).every(e=>fI(t[e],n[e]))}function yI(t,n,e){return vI(t,n,n.segments,e)}function vI(t,n,e,r){if(t.segments.length>e.length){let i=t.segments.slice(0,e.length);return!(!To(i,e)||n.hasChildren()||!_f(i,e,r))}else if(t.segments.length===e.length){if(!To(t.segments,e)||!_f(t.segments,e,r))return!1;for(let i in n.children)if(!t.children[i]||!yI(t.children[i],n.children[i],r))return!1;return!0}else{let i=e.slice(0,t.segments.length),o=e.slice(t.segments.length);return!To(t.segments,i)||!_f(t.segments,i,r)||!t.children[G]?!1:vI(t.children[G],n,o,r)}}function _f(t,n,e){return n.every((r,i)=>gI[e](t[i].parameters,r.parameters))}var jn=class{root;queryParams;fragment;_queryParamMap;constructor(n=new ce([],{}),e={},r=null){this.root=n,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ao(this.queryParams),this._queryParamMap}toString(){return dV.serialize(this)}},ce=class{segments;children;parent=null;constructor(n,e){this.segments=n,this.children=e,Object.values(e).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return wf(this)}},hi=class{path;parameters;_parameterMap;constructor(n,e){this.path=n,this.parameters=e}get parameterMap(){return this._parameterMap??=Ao(this.parameters),this._parameterMap}toString(){return _I(this)}};function lV(t,n){return To(t,n)&&t.every((e,r)=>Xn(e.parameters,n[r].parameters))}function To(t,n){return t.length!==n.length?!1:t.every((e,r)=>e.path===n[r].path)}function uV(t,n){let e=[];return Object.entries(t.children).forEach(([r,i])=>{r===G&&(e=e.concat(n(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==G&&(e=e.concat(n(i,r)))}),e}var ul=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=A({token:t,factory:()=>new pi,providedIn:"root"})}return t})(),pi=class{parse(n){let e=new Mv(n);return new jn(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(n){let e=`/${Jc(n.root,!0)}`,r=pV(n.queryParams),i=typeof n.fragment=="string"?`#${fV(n.fragment)}`:"";return`${e}${r}${i}`}},dV=new pi;function wf(t){return t.segments.map(n=>_I(n)).join("/")}function Jc(t,n){if(!t.hasChildren())return wf(t);if(n){let e=t.children[G]?Jc(t.children[G],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==G&&r.push(`${i}:${Jc(o,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}else{let e=uV(t,(r,i)=>i===G?[Jc(t.children[G],!1)]:[`${i}:${Jc(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[G]!=null?`${wf(t)}/${e[0]}`:`${wf(t)}/(${e.join("//")})`}}function bI(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function vf(t){return bI(t).replace(/%3B/gi,";")}function fV(t){return encodeURI(t)}function Tv(t){return bI(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ef(t){return decodeURIComponent(t)}function iI(t){return Ef(t.replace(/\+/g,"%20"))}function _I(t){return`${Tv(t.path)}${hV(t.parameters)}`}function hV(t){return Object.entries(t).map(([n,e])=>`;${Tv(n)}=${Tv(e)}`).join("")}function pV(t){let n=Object.entries(t).map(([e,r])=>Array.isArray(r)?r.map(i=>`${vf(e)}=${vf(i)}`).join("&"):`${vf(e)}=${vf(r)}`).filter(e=>e);return n.length?`?${n.join("&")}`:""}var gV=/^[^\/()?;#]+/;function Ev(t){let n=t.match(gV);return n?n[0]:""}var mV=/^[^\/()?;=#]+/;function yV(t){let n=t.match(mV);return n?n[0]:""}var vV=/^[^=?&#]+/;function bV(t){let n=t.match(vV);return n?n[0]:""}var _V=/^[^&#]+/;function wV(t){let n=t.match(_V);return n?n[0]:""}var Mv=class{url;remaining;constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ce([],{}):new ce([],this.parseChildren())}parseQueryParams(){let n={};if(this.consumeOptional("?"))do this.parseQueryParam(n);while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(e).length>0)&&(r[G]=new ce(n,e)),r}parseSegment(){let n=Ev(this.remaining);if(n===""&&this.peekStartsWith(";"))throw new R(4009,!1);return this.capture(n),new hi(Ef(n),this.parseMatrixParams())}parseMatrixParams(){let n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){let e=yV(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){let i=Ev(this.remaining);i&&(r=i,this.capture(r))}n[Ef(e)]=Ef(r)}parseQueryParam(n){let e=bV(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){let s=wV(this.remaining);s&&(r=s,this.capture(r))}let i=iI(e),o=iI(r);if(n.hasOwnProperty(i)){let s=n[i];Array.isArray(s)||(s=[s],n[i]=s),s.push(o)}else n[i]=o}parseParens(n){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Ev(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new R(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):n&&(o=G);let s=this.parseChildren();e[o??G]=Object.keys(s).length===1&&s[G]?s[G]:new ce([],s),this.consumeOptional("//")}return e}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return this.peekStartsWith(n)?(this.remaining=this.remaining.substring(n.length),!0):!1}capture(n){if(!this.consumeOptional(n))throw new R(4011,!1)}};function wI(t){return t.segments.length>0?new ce([],{[G]:t}):t}function EI(t){let n={};for(let[r,i]of Object.entries(t.children)){let o=EI(i);if(r===G&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))n[s]=a;else(o.segments.length>0||o.hasChildren())&&(n[r]=o)}let e=new ce(t.segments,n);return EV(e)}function EV(t){if(t.numberOfChildren===1&&t.children[G]){let n=t.children[G];return new ce(t.segments.concat(n.segments),n.children)}return t}function gi(t){return t instanceof jn}function DI(t,n,e=null,r=null,i=new pi){let o=CI(t);return xI(o,n,e,r,i)}function CI(t){let n;function e(o){let s={};for(let c of o.children){let l=e(c);s[c.outlet]=l}let a=new ce(o.url,s);return o===t&&(n=a),a}let r=e(t.root),i=wI(r);return n??i}function xI(t,n,e,r,i){let o=t;for(;o.parent;)o=o.parent;if(n.length===0)return Dv(o,o,o,e,r,i);let s=DV(n);if(s.toRoot())return Dv(o,o,new ce([],{}),e,r,i);let a=CV(s,o,t),c=a.processChildren?Xc(a.segmentGroup,a.index,s.commands):SI(a.segmentGroup,a.index,s.commands);return Dv(o,a.segmentGroup,c,e,r,i)}function Cf(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function nl(t){return typeof t=="object"&&t!=null&&t.outlets}function oI(t,n,e){t||="\u0275";let r=new jn;return r.queryParams={[t]:n},e.parse(e.serialize(r)).queryParams[t]}function Dv(t,n,e,r,i,o){let s={};for(let[l,u]of Object.entries(r??{}))s[l]=Array.isArray(u)?u.map(d=>oI(l,d,o)):oI(l,u,o);let a;t===n?a=e:a=II(t,n,e);let c=wI(EI(a));return new jn(c,s,i)}function II(t,n,e){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===n?r[i]=e:r[i]=II(o,n,e)}),new ce(t.segments,r)}var xf=class{isAbsolute;numberOfDoubleDots;commands;constructor(n,e,r){if(this.isAbsolute=n,this.numberOfDoubleDots=e,this.commands=r,n&&r.length>0&&Cf(r[0]))throw new R(4003,!1);let i=r.find(nl);if(i&&i!==hI(r))throw new R(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function DV(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new xf(!0,0,t);let n=0,e=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?e=!0:a===".."?n++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new xf(e,n,r)}var js=class{segmentGroup;processChildren;index;constructor(n,e,r){this.segmentGroup=n,this.processChildren=e,this.index=r}};function CV(t,n,e){if(t.isAbsolute)return new js(n,!0,0);if(!e)return new js(n,!1,NaN);if(e.parent===null)return new js(e,!0,0);let r=Cf(t.commands[0])?0:1,i=e.segments.length-1+r;return xV(e,i,t.numberOfDoubleDots)}function xV(t,n,e){let r=t,i=n,o=e;for(;o>i;){if(o-=i,r=r.parent,!r)throw new R(4005,!1);i=r.segments.length}return new js(r,!1,i-o)}function IV(t){return nl(t[0])?t[0].outlets:{[G]:t}}function SI(t,n,e){if(t??=new ce([],{}),t.segments.length===0&&t.hasChildren())return Xc(t,n,e);let r=SV(t,n,e),i=e.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new ce(t.segments.slice(0,r.pathIndex),{});return o.children[G]=new ce(t.segments.slice(r.pathIndex),t.children),Xc(o,0,i)}else return r.match&&i.length===0?new ce(t.segments,{}):r.match&&!t.hasChildren()?Av(t,n,e):r.match?Xc(t,0,i):Av(t,n,e)}function Xc(t,n,e){if(e.length===0)return new ce(t.segments,{});{let r=IV(e),i={};if(Object.keys(r).some(o=>o!==G)&&t.children[G]&&t.numberOfChildren===1&&t.children[G].segments.length===0){let o=Xc(t.children[G],n,e);return new ce(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=SI(t.children[o],n,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new ce(t.segments,i)}}function SV(t,n,e){let r=0,i=n,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=e.length)return o;let s=t.segments[i],a=e[r];if(nl(a))break;let c=`${a}`,l=r<e.length-1?e[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!aI(c,l,s))return o;r+=2}else{if(!aI(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Av(t,n,e){let r=t.segments.slice(0,n),i=0;for(;i<e.length;){let o=e[i];if(nl(o)){let c=TV(o.outlets);return new ce(r,c)}if(i===0&&Cf(e[0])){let c=t.segments[n];r.push(new hi(c.path,sI(e[0]))),i++;continue}let s=nl(o)?o.outlets[G]:`${o}`,a=i<e.length-1?e[i+1]:null;s&&a&&Cf(a)?(r.push(new hi(s,sI(a))),i+=2):(r.push(new hi(s,{})),i++)}return new ce(r,{})}function TV(t){let n={};return Object.entries(t).forEach(([e,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(n[e]=Av(new ce([],{}),0,r))}),n}function sI(t){let n={};return Object.entries(t).forEach(([e,r])=>n[e]=`${r}`),n}function aI(t,n,e){return t==e.path&&Xn(n,e.parameters)}var el="imperative",it=(function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t})(it||{}),Xt=class{id;url;constructor(n,e){this.id=n,this.url=e}},ko=class extends Xt{type=it.NavigationStart;navigationTrigger;restoredState;constructor(n,e,r="imperative",i=null){super(n,e),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},tr=class extends Xt{urlAfterRedirects;type=it.NavigationEnd;constructor(n,e,r){super(n,e),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},At=(function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t[t.Aborted=4]="Aborted",t})(At||{}),rl=(function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t})(rl||{}),er=class extends Xt{reason;code;type=it.NavigationCancel;constructor(n,e,r,i){super(n,e),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Rr=class extends Xt{reason;code;type=it.NavigationSkipped;constructor(n,e,r,i){super(n,e),this.reason=r,this.code=i}},Bs=class extends Xt{error;target;type=it.NavigationError;constructor(n,e,r,i){super(n,e),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},il=class extends Xt{urlAfterRedirects;state;type=it.RoutesRecognized;constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},If=class extends Xt{urlAfterRedirects;state;type=it.GuardsCheckStart;constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Sf=class extends Xt{urlAfterRedirects;state;shouldActivate;type=it.GuardsCheckEnd;constructor(n,e,r,i,o){super(n,e),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Tf=class extends Xt{urlAfterRedirects;state;type=it.ResolveStart;constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Mf=class extends Xt{urlAfterRedirects;state;type=it.ResolveEnd;constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Af=class{route;type=it.RouteConfigLoadStart;constructor(n){this.route=n}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},kf=class{route;type=it.RouteConfigLoadEnd;constructor(n){this.route=n}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Rf=class{snapshot;type=it.ChildActivationStart;constructor(n){this.snapshot=n}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Of=class{snapshot;type=it.ChildActivationEnd;constructor(n){this.snapshot=n}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Nf=class{snapshot;type=it.ActivationStart;constructor(n){this.snapshot=n}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Pf=class{snapshot;type=it.ActivationEnd;constructor(n){this.snapshot=n}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var ol=class{},Us=class{url;navigationBehaviorOptions;constructor(n,e){this.url=n,this.navigationBehaviorOptions=e}};function MV(t){return!(t instanceof ol)&&!(t instanceof Us)}function AV(t,n){return t.providers&&!t._injector&&(t._injector=jc(t.providers,n,`Route: ${t.path}`)),t._injector??n}function Ln(t){return t.outlet||G}function kV(t,n){let e=t.filter(r=>Ln(r)===n);return e.push(...t.filter(r=>Ln(r)!==n)),e}function zs(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let n=t.parent;n;n=n.parent){let e=n.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var Ff=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return zs(this.route?.snapshot)??this.rootInjector}constructor(n){this.rootInjector=n,this.children=new Ws(this.rootInjector)}},Ws=(()=>{class t{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,r){let i=this.getOrCreateContext(e);i.outlet=r,this.contexts.set(e,i)}onChildOutletDestroyed(e){let r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new Ff(this.rootInjector),this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(r){return new(r||t)(L(Ne))};static \u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Lf=class{_root;constructor(n){this._root=n}get root(){return this._root.value}parent(n){let e=this.pathFromRoot(n);return e.length>1?e[e.length-2]:null}children(n){let e=kv(n,this._root);return e?e.children.map(r=>r.value):[]}firstChild(n){let e=kv(n,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(n){let e=Rv(n,this._root);return e.length<2?[]:e[e.length-2].children.map(i=>i.value).filter(i=>i!==n)}pathFromRoot(n){return Rv(n,this._root).map(e=>e.value)}};function kv(t,n){if(t===n.value)return n;for(let e of n.children){let r=kv(t,e);if(r)return r}return null}function Rv(t,n){if(t===n.value)return[n];for(let e of n.children){let r=Rv(t,e);if(r.length)return r.unshift(n),r}return[]}var Qt=class{value;children;constructor(n,e){this.value=n,this.children=e}toString(){return`TreeNode(${this.value})`}};function Ls(t){let n={};return t&&t.children.forEach(e=>n[e.value.outlet]=e),n}var sl=class extends Lf{snapshot;constructor(n,e){super(n),this.snapshot=e,jv(this,n)}toString(){return this.snapshot.toString()}};function TI(t){let n=RV(t),e=new Ze([new hi("",{})]),r=new Ze({}),i=new Ze({}),o=new Ze({}),s=new Ze(""),a=new Or(e,r,o,s,i,G,t,n.root);return a.snapshot=n.root,new sl(new Qt(a,[]),n)}function RV(t){let n={},e={},r={},o=new Mo([],n,r,"",e,G,t,null,{});return new al("",new Qt(o,[]))}var Or=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(n,e,r,i,o,s,a,c){this.urlSubject=n,this.paramsSubject=e,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(X(l=>l[ll]))??W(void 0),this.url=n,this.params=e,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(X(n=>Ao(n))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(X(n=>Ao(n))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function jf(t,n,e="emptyOnly"){let r,{routeConfig:i}=t;return n!==null&&(e==="always"||i?.path===""||!n.component&&!n.routeConfig?.loadComponent)?r={params:I(I({},n.params),t.params),data:I(I({},n.data),t.data),resolve:I(I(I(I({},t.data),n.data),i?.data),t._resolvedData)}:r={params:I({},t.params),data:I({},t.data),resolve:I(I({},t.data),t._resolvedData??{})},i&&AI(i)&&(r.resolve[ll]=i.title),r}var Mo=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[ll]}constructor(n,e,r,i,o,s,a,c,l){this.url=n,this.params=e,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ao(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ao(this.queryParams),this._queryParamMap}toString(){let n=this.url.map(r=>r.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${n}', path:'${e}')`}},al=class extends Lf{url;constructor(n,e){super(e),this.url=n,jv(this,e)}toString(){return MI(this._root)}};function jv(t,n){n.value._routerState=t,n.children.forEach(e=>jv(t,e))}function MI(t){let n=t.children.length>0?` { ${t.children.map(MI).join(", ")} } `:"";return`${t.value}${n}`}function Cv(t){if(t.snapshot){let n=t.snapshot,e=t._futureSnapshot;t.snapshot=e,Xn(n.queryParams,e.queryParams)||t.queryParamsSubject.next(e.queryParams),n.fragment!==e.fragment&&t.fragmentSubject.next(e.fragment),Xn(n.params,e.params)||t.paramsSubject.next(e.params),oV(n.url,e.url)||t.urlSubject.next(e.url),Xn(n.data,e.data)||t.dataSubject.next(e.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Ov(t,n){let e=Xn(t.params,n.params)&&lV(t.url,n.url),r=!t.parent!=!n.parent;return e&&!r&&(!t.parent||Ov(t.parent,n.parent))}function AI(t){return typeof t.title=="string"||t.title===null}var kI=new k(""),dl=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=G;activateEvents=new De;deactivateEvents=new De;attachEvents=new De;detachEvents=new De;routerOutletData=Sx();parentContexts=E(Ws);location=E(Tr);changeDetector=E(Qe);inputBinder=E($f,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){let{firstChange:r,previousValue:i}=e.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new R(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new R(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new R(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new R(4013,!1);this._activatedRoute=e;let i=this.location,s=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new Nv(e,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=Fe({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[ln]})}return t})(),Nv=class{route;childContexts;parent;outletData;constructor(n,e,r,i){this.route=n,this.childContexts=e,this.parent=r,this.outletData=i}get(n,e){return n===Or?this.route:n===Ws?this.childContexts:n===kI?this.outletData:this.parent.get(n,e)}},$f=new k("");var Vv=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=me({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&We(0,"router-outlet")},dependencies:[dl],encapsulation:2})}return t})();function Bv(t){let n=t.children&&t.children.map(Bv),e=n?Q(I({},t),{children:n}):I({},t);return!e.component&&!e.loadComponent&&(n||e.loadChildren)&&e.outlet&&e.outlet!==G&&(e.component=Vv),e}function OV(t,n,e){let r=cl(t,n._root,e?e._root:void 0);return new sl(r,n)}function cl(t,n,e){if(e&&t.shouldReuseRoute(n.value,e.value.snapshot)){let r=e.value;r._futureSnapshot=n.value;let i=NV(t,n,e);return new Qt(r,i)}else{if(t.shouldAttach(n.value)){let o=t.retrieve(n.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=n.value,s.children=n.children.map(a=>cl(t,a)),s}}let r=PV(n.value),i=n.children.map(o=>cl(t,o));return new Qt(r,i)}}function NV(t,n,e){return n.children.map(r=>{for(let i of e.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return cl(t,r,i);return cl(t,r)})}function PV(t){return new Or(new Ze(t.url),new Ze(t.params),new Ze(t.queryParams),new Ze(t.fragment),new Ze(t.data),t.outlet,t.component,t)}var $s=class{redirectTo;navigationBehaviorOptions;constructor(n,e){this.redirectTo=n,this.navigationBehaviorOptions=e}},RI="ngNavigationCancelingError";function Vf(t,n){let{redirectTo:e,navigationBehaviorOptions:r}=gi(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,i=OI(!1,At.Redirect);return i.url=e,i.navigationBehaviorOptions=r,i}function OI(t,n){let e=new Error(`NavigationCancelingError: ${t||""}`);return e[RI]=!0,e.cancellationCode=n,e}function FV(t){return NI(t)&&gi(t.url)}function NI(t){return!!t&&t[RI]}var LV=(t,n,e,r)=>X(i=>(new Pv(n,i.targetRouterState,i.currentRouterState,e,r).activate(t),i)),Pv=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(n,e,r,i,o){this.routeReuseStrategy=n,this.futureState=e,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(n){let e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,n),Cv(this.futureState.root),this.activateChildRoutes(e,r,n)}deactivateChildRoutes(n,e,r){let i=Ls(e);n.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(n,e,r){let i=n.value,o=e?e.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(n,e,s.children)}else this.deactivateChildRoutes(n,e,r);else o&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(n,e){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,e):this.deactivateRouteAndOutlet(n,e)}detachAndStoreRouteSubtree(n,e){let r=e.getContext(n.value.outlet),i=r&&n.value.component?r.children:e,o=Ls(n);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:s,route:n,contexts:a})}}deactivateRouteAndOutlet(n,e){let r=e.getContext(n.value.outlet),i=r&&n.value.component?r.children:e,o=Ls(n);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(n,e,r){let i=Ls(e);n.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Pf(o.value.snapshot))}),n.children.length&&this.forwardEvent(new Of(n.value.snapshot))}activateRoutes(n,e,r){let i=n.value,o=e?e.value:null;if(Cv(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(n,e,s.children)}else this.activateChildRoutes(n,e,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Cv(a.route.value),this.activateChildRoutes(n,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(n,null,s.children)}else this.activateChildRoutes(n,null,r)}},Bf=class{path;route;constructor(n){this.path=n,this.route=this.path[this.path.length-1]}},Vs=class{component;route;constructor(n,e){this.component=n,this.route=e}};function jV(t,n,e){let r=t._root,i=n?n._root:null;return Qc(r,i,e,[r.value])}function VV(t){let n=t.routeConfig?t.routeConfig.canActivateChild:null;return!n||n.length===0?null:{node:t,guards:n}}function Gs(t,n){let e=Symbol(),r=n.get(t,e);return r===e?typeof t=="function"&&!$g(t)?t:n.get(t):r}function Qc(t,n,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Ls(n);return t.children.forEach(s=>{BV(s,o[s.value.outlet],e,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>tl(a,e.getContext(s),i)),i}function BV(t,n,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=n?n.value:null,a=e?e.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=UV(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Bf(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Qc(t,n,a?a.children:null,r,i):Qc(t,n,e,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Vs(a.outlet.component,s))}else s&&tl(n,a,i),i.canActivateChecks.push(new Bf(r)),o.component?Qc(t,null,a?a.children:null,r,i):Qc(t,null,e,r,i);return i}function UV(t,n,e){if(typeof e=="function")return e(t,n);switch(e){case"pathParamsChange":return!To(t.url,n.url);case"pathParamsOrQueryParamsChange":return!To(t.url,n.url)||!Xn(t.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ov(t,n)||!Xn(t.queryParams,n.queryParams);case"paramsChange":default:return!Ov(t,n)}}function tl(t,n,e){let r=Ls(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?n?tl(s,n.children.getContext(o),e):tl(s,null,e):tl(s,n,e)}),i.component?n&&n.outlet&&n.outlet.isActivated?e.canDeactivateChecks.push(new Vs(n.outlet.component,i)):e.canDeactivateChecks.push(new Vs(null,i)):e.canDeactivateChecks.push(new Vs(null,i))}function fl(t){return typeof t=="function"}function $V(t){return typeof t=="boolean"}function HV(t){return t&&fl(t.canLoad)}function zV(t){return t&&fl(t.canActivate)}function WV(t){return t&&fl(t.canActivateChild)}function GV(t){return t&&fl(t.canDeactivate)}function qV(t){return t&&fl(t.canMatch)}function PI(t){return t instanceof Qi||t?.name==="EmptyError"}var bf=Symbol("INITIAL_VALUE");function Hs(){return rn(t=>_g(t.map(n=>n.pipe(Cn(1),xg(bf)))).pipe(X(n=>{for(let e of n)if(e!==!0){if(e===bf)return bf;if(e===!1||KV(e))return e}return!0}),nn(n=>n!==bf),Cn(1)))}function KV(t){return gi(t)||t instanceof $s}function FI(t){return t.aborted?W(void 0).pipe(Cn(1)):new ne(n=>{let e=()=>{n.next(),n.complete()};return t.addEventListener("abort",e),()=>t.removeEventListener("abort",e)})}function LI(t){return cc(FI(t))}function YV(t,n){return xt(e=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return s.length===0&&o.length===0?W(Q(I({},e),{guardsResult:!0})):ZV(s,r,i,t).pipe(xt(a=>a&&$V(a)?JV(r,o,t,n):W(a)),X(a=>Q(I({},e),{guardsResult:a})))})}function ZV(t,n,e,r){return ze(t).pipe(xt(i=>nB(i.component,i.route,e,n,r)),gr(i=>i!==!0,!0))}function JV(t,n,e,r){return ze(n).pipe(fs(i=>ds(XV(i.route.parent,r),QV(i.route,r),tB(t,i.path,e),eB(t,i.route,e))),gr(i=>i!==!0,!0))}function QV(t,n){return t!==null&&n&&n(new Nf(t)),W(!0)}function XV(t,n){return t!==null&&n&&n(new Rf(t)),W(!0)}function eB(t,n,e){let r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||r.length===0)return W(!0);let i=r.map(o=>sc(()=>{let s=zs(n)??e,a=Gs(o,s),c=zV(a)?a.canActivate(n,t):dt(s,()=>a(n,t));return Ro(c).pipe(gr())}));return W(i).pipe(Hs())}function tB(t,n,e){let r=n[n.length-1],o=n.slice(0,n.length-1).reverse().map(s=>VV(s)).filter(s=>s!==null).map(s=>sc(()=>{let a=s.guards.map(c=>{let l=zs(s.node)??e,u=Gs(c,l),d=WV(u)?u.canActivateChild(r,t):dt(l,()=>u(r,t));return Ro(d).pipe(gr())});return W(a).pipe(Hs())}));return W(o).pipe(Hs())}function nB(t,n,e,r,i){let o=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!o||o.length===0)return W(!0);let s=o.map(a=>{let c=zs(n)??i,l=Gs(a,c),u=GV(l)?l.canDeactivate(t,n,e,r):dt(c,()=>l(t,n,e,r));return Ro(u).pipe(gr())});return W(s).pipe(Hs())}function rB(t,n,e,r,i){let o=n.canLoad;if(o===void 0||o.length===0)return W(!0);let s=o.map(a=>{let c=Gs(a,t),l=HV(c)?c.canLoad(n,e):dt(t,()=>c(n,e)),u=Ro(l);return i?u.pipe(LI(i)):u});return W(s).pipe(Hs(),jI(r))}function jI(t){return pg(Je(n=>{if(typeof n!="boolean")throw Vf(t,n)}),X(n=>n===!0))}function iB(t,n,e,r,i){let o=n.canMatch;if(!o||o.length===0)return W(!0);let s=o.map(a=>{let c=Gs(a,t),l=qV(c)?c.canMatch(n,e):dt(t,()=>c(n,e)),u=Ro(l);return i?u.pipe(LI(i)):u});return W(s).pipe(Hs(),jI(r))}var So=class VI extends Error{segmentGroup;constructor(n){super(),this.segmentGroup=n||null,Object.setPrototypeOf(this,VI.prototype)}},Fv=class BI extends Error{urlTree;constructor(n){super(),this.urlTree=n,Object.setPrototypeOf(this,BI.prototype)}};function oB(t){throw new R(4e3,!1)}function sB(t){throw OI(!1,At.GuardRejected)}var aB=class{urlSerializer;urlTree;constructor(n,e){this.urlSerializer=n,this.urlTree=e}async lineralizeSegments(n,e){let r=[],i=e.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return r;if(i.numberOfChildren>1||!i.children[G])throw oB(`${n.redirectTo}`);i=i.children[G]}}async applyRedirectCommands(n,e,r,i,o){let s=await cB(e,i,o);if(s instanceof jn)throw new Fv(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),n,r);if(s[0]==="/")throw new Fv(a);return a}applyRedirectCreateUrlTree(n,e,r,i){let o=this.createSegmentGroup(n,e.root,r,i);return new jn(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(n,e){let r={};return Object.entries(n).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=e[a]}else r[i]=o}),r}createSegmentGroup(n,e,r,i){let o=this.createSegments(n,e.segments,r,i),s={};return Object.entries(e.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(n,c,r,i)}),new ce(o,s)}createSegments(n,e,r,i){return e.map(o=>o.path[0]===":"?this.findPosParam(n,o,i):this.findOrReturn(o,r))}findPosParam(n,e,r){let i=r[e.path.substring(1)];if(!i)throw new R(4001,!1);return i}findOrReturn(n,e){let r=0;for(let i of e){if(i.path===n.path)return e.splice(r),i;r++}return n}};function cB(t,n,e){if(typeof t=="string")return Promise.resolve(t);let r=t,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,params:l,data:u,title:d}=n;return Df(Ro(dt(e,()=>r({params:l,data:u,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,title:d}))))}var Lv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function lB(t,n,e,r,i,o){let s=UI(t,n,e);return s.matched?(r=AV(n,r),iB(r,n,e,i,o).pipe(X(a=>a===!0?s:I({},Lv)))):W(s)}function UI(t,n,e){if(n.path==="**")return uB(e);if(n.path==="")return n.pathMatch==="full"&&(t.hasChildren()||e.length>0)?I({},Lv):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let i=(n.matcher||dI)(e,t,n);if(!i)return I({},Lv);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?I(I({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:e.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function uB(t){return{matched:!0,parameters:t.length>0?hI(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function cI(t,n,e,r){return e.length>0&&hB(t,e,r)?{segmentGroup:new ce(n,fB(r,new ce(e,t.children))),slicedSegments:[]}:e.length===0&&pB(t,e,r)?{segmentGroup:new ce(t.segments,dB(t,e,r,t.children)),slicedSegments:e}:{segmentGroup:new ce(t.segments,t.children),slicedSegments:e}}function dB(t,n,e,r){let i={};for(let o of e)if(Hf(t,n,o)&&!r[Ln(o)]){let s=new ce([],{});i[Ln(o)]=s}return I(I({},r),i)}function fB(t,n){let e={};e[G]=n;for(let r of t)if(r.path===""&&Ln(r)!==G){let i=new ce([],{});e[Ln(r)]=i}return e}function hB(t,n,e){return e.some(r=>Hf(t,n,r)&&Ln(r)!==G)}function pB(t,n,e){return e.some(r=>Hf(t,n,r))}function Hf(t,n,e){return(t.hasChildren()||n.length>0)&&e.pathMatch==="full"?!1:e.path===""}function gB(t,n,e){return n.length===0&&!t.children[e]}var mB=class{};async function yB(t,n,e,r,i,o,s="emptyOnly",a){return new bB(t,n,e,r,i,s,o,a).recognize()}var vB=31,bB=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;abortSignal;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(n,e,r,i,o,s,a,c){this.injector=n,this.configLoader=e,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.abortSignal=c,this.applyRedirects=new aB(this.urlSerializer,this.urlTree)}noMatchError(n){return new R(4002,`'${n.segmentGroup}'`)}async recognize(){let n=cI(this.urlTree.root,[],[],this.config).segmentGroup,{children:e,rootSnapshot:r}=await this.match(n),i=new Qt(r,e),o=new al("",i),s=DI(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}async match(n){let e=new Mo([],Object.freeze({}),Object.freeze(I({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),G,this.rootComponentType,null,{});try{return{children:await this.processSegmentGroup(this.injector,this.config,n,G,e),rootSnapshot:e}}catch(r){if(r instanceof Fv)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof So?this.noMatchError(r):r}}async processSegmentGroup(n,e,r,i,o){if(r.segments.length===0&&r.hasChildren())return this.processChildren(n,e,r,o);let s=await this.processSegment(n,e,r,r.segments,i,!0,o);return s instanceof Qt?[s]:[]}async processChildren(n,e,r,i){let o=[];for(let c of Object.keys(r.children))c==="primary"?o.unshift(c):o.push(c);let s=[];for(let c of o){let l=r.children[c],u=kV(e,c),d=await this.processSegmentGroup(n,u,l,c,i);s.push(...d)}let a=$I(s);return _B(a),a}async processSegment(n,e,r,i,o,s,a){for(let c of e)try{return await this.processSegmentAgainstRoute(c._injector??n,e,c,r,i,o,s,a)}catch(l){if(l instanceof So||PI(l))continue;throw l}if(gB(r,i,o))return new mB;throw new So(r)}async processSegmentAgainstRoute(n,e,r,i,o,s,a,c){if(Ln(r)!==s&&(s===G||!Hf(i,o,r)))throw new So(i);if(r.redirectTo===void 0)return this.matchSegmentAgainstRoute(n,i,r,o,s,c);if(this.allowRedirects&&a)return this.expandSegmentAgainstRouteUsingRedirect(n,i,e,r,o,s,c);throw new So(i)}async expandSegmentAgainstRouteUsingRedirect(n,e,r,i,o,s,a){let{matched:c,parameters:l,consumedSegments:u,positionalParamSegments:d,remainingSegments:f}=UI(e,i,o);if(!c)throw new So(e);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>vB&&(this.allowRedirects=!1));let h=new Mo(o,l,Object.freeze(I({},this.urlTree.queryParams)),this.urlTree.fragment,lI(i),Ln(i),i.component??i._loadedComponent??null,i,uI(i)),p=jf(h,a,this.paramsInheritanceStrategy);if(h.params=Object.freeze(p.params),h.data=Object.freeze(p.data),this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let g=await this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,h,n),m=await this.applyRedirects.lineralizeSegments(i,g);return this.processSegment(n,r,e,m.concat(f),s,!1,a)}async matchSegmentAgainstRoute(n,e,r,i,o,s){if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let a=await Df(lB(e,r,i,n,this.urlSerializer,this.abortSignal));if(r.path==="**"&&(e.children={}),!a?.matched)throw new So(e);n=r._injector??n;let{routes:c}=await this.getChildConfig(n,r,i),l=r._loadedInjector??n,{parameters:u,consumedSegments:d,remainingSegments:f}=a,h=new Mo(d,u,Object.freeze(I({},this.urlTree.queryParams)),this.urlTree.fragment,lI(r),Ln(r),r.component??r._loadedComponent??null,r,uI(r)),p=jf(h,s,this.paramsInheritanceStrategy);h.params=Object.freeze(p.params),h.data=Object.freeze(p.data);let{segmentGroup:g,slicedSegments:m}=cI(e,d,f,c);if(m.length===0&&g.hasChildren()){let _=await this.processChildren(l,c,g,h);return new Qt(h,_)}if(c.length===0&&m.length===0)return new Qt(h,[]);let y=Ln(r)===o,v=await this.processSegment(l,c,g,m,y?G:o,!0,h);return new Qt(h,v instanceof Qt?[v]:[])}async getChildConfig(n,e,r){if(e.children)return{routes:e.children,injector:n};if(e.loadChildren){if(e._loadedRoutes!==void 0)return{routes:e._loadedRoutes,injector:e._loadedInjector};if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);if(await Df(rB(n,e,r,this.urlSerializer,this.abortSignal))){let o=await this.configLoader.loadChildren(n,e);return e._loadedRoutes=o.routes,e._loadedInjector=o.injector,o}throw sB(e)}return{routes:[],injector:n}}};function _B(t){t.sort((n,e)=>n.value.outlet===G?-1:e.value.outlet===G?1:n.value.outlet.localeCompare(e.value.outlet))}function wB(t){let n=t.value.routeConfig;return n&&n.path===""}function $I(t){let n=[],e=new Set;for(let r of t){if(!wB(r)){n.push(r);continue}let i=n.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),e.add(i)):n.push(r)}for(let r of e){let i=$I(r.children);n.push(new Qt(r.value,i))}return n.filter(r=>!e.has(r))}function lI(t){return t.data||{}}function uI(t){return t.resolve||{}}var EB=new k("",{factory:()=>yB});function DB(t,n,e,r,i,o,s){let a=t.get(EB);return xt(c=>W(c).pipe(rn(l=>a(t,n,e,r,l.extractedUrl,i,o,s)),X(({state:l,tree:u})=>Q(I({},c),{targetSnapshot:l,urlAfterRedirects:u}))))}function CB(t,n){return xt(e=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=e;if(!i.length)return W(e);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of HI(c))s.add(l);let a=0;return ze(s).pipe(fs(c=>o.has(c)?xB(c,r,t,n):(c.data=jf(c,c.parent,t).resolve,W(void 0))),Je(()=>a++),Zu(1),xt(c=>a===s.size?W(e):Ot))})}function HI(t){let n=t.children.map(e=>HI(e)).flat();return[t,...n]}function xB(t,n,e,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!AI(i)&&(o[ll]=i.title),sc(()=>(t.data=jf(t,t.parent,e).resolve,IB(o,t,n,r).pipe(X(s=>(t._resolvedData=s,t.data=I(I({},t.data),s),null)))))}function IB(t,n,e,r){let i=Sv(t);if(i.length===0)return W({});let o={};return ze(i).pipe(xt(s=>SB(t[s],n,e,r).pipe(gr(),Je(a=>{if(a instanceof $s)throw Vf(new pi,a);o[s]=a}))),Zu(1),X(()=>o),Xi(s=>PI(s)?Ot:oc(s)))}function SB(t,n,e,r){let i=zs(n)??r,o=Gs(t,i),s=o.resolve?o.resolve(n,e):dt(i,()=>o(n,e));return Ro(s)}function xv(t){return rn(n=>{let e=t(n);return e?ze(e).pipe(X(()=>n)):W(n)})}var Uv=(()=>{class t{buildTitle(e){let r,i=e.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===G);return r}getResolvedTitleForRoute(e){return e.data[ll]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=A({token:t,factory:()=>E(zI),providedIn:"root"})}return t})(),zI=(()=>{class t extends Uv{title;constructor(e){super(),this.title=e}updateTitle(e){let r=this.buildTitle(e);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)(L(tI))};static \u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),qs=new k("",{factory:()=>({})}),hl=new k(""),WI=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=E(Xy);async loadComponent(e,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Promise.resolve(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let o=await pI(dt(e,()=>r.loadComponent())),s=await KI(qI(o));return this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s,s}finally{this.componentLoaders.delete(r)}})();return this.componentLoaders.set(r,i),i}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Promise.resolve({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let o=await GI(r,this.compiler,e,this.onLoadEndListener);return r._loadedRoutes=o.routes,r._loadedInjector=o.injector,o}finally{this.childrenLoaders.delete(r)}})();return this.childrenLoaders.set(r,i),i}static \u0275fac=function(r){return new(r||t)};static \u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();async function GI(t,n,e,r){let i=await pI(dt(e,()=>t.loadChildren())),o=await KI(qI(i)),s;o instanceof ef||Array.isArray(o)?s=o:s=await n.compileModuleAsync(o),r&&r(t);let a,c,l=!1;return Array.isArray(s)?(c=s,l=!0):(a=s.create(e).injector,c=a.get(hl,[],{optional:!0,self:!0}).flat()),{routes:c.map(Bv),injector:a}}function TB(t){return t&&typeof t=="object"&&"default"in t}function qI(t){return TB(t)?t.default:t}async function KI(t){return t}var zf=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=A({token:t,factory:()=>E(MB),providedIn:"root"})}return t})(),MB=(()=>{class t{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,r){return e}static \u0275fac=function(r){return new(r||t)};static \u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),YI=new k("");var AB=()=>{},ZI=new k(""),JI=(()=>{class t{currentNavigation=Yt(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=Yt(null);events=new Ve;transitionAbortWithErrorSubject=new Ve;configLoader=E(WI);environmentInjector=E(Ne);destroyRef=E(Tn);urlSerializer=E(ul);rootContexts=E(Ws);location=E(Ns);inputBindingEnabled=E($f,{optional:!0})!==null;titleStrategy=E(Uv);options=E(qs,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=E(zf);createViewTransition=E(YI,{optional:!0});navigationErrorHandler=E(ZI,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>W(void 0);rootComponentType=null;destroyed=!1;constructor(){let e=i=>this.events.next(new Af(i)),r=i=>this.events.next(new kf(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=e,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(e){let r=++this.navigationId;rt(()=>{this.transitions?.next(Q(I({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))})}setupNavigations(e){return this.transitions=new Ze(null),this.transitions.pipe(nn(r=>r!==null),rn(r=>{let i=!1,o=new AbortController;return W(r).pipe(rn(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",At.SupersededByNewNavigation),Ot;this.currentTransition=r;let a=this.lastSuccessfulNavigation();this.currentNavigation.set({id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:a?Q(I({},a),{previousNavigation:null}):null,abort:()=>o.abort()});let c=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),l=s.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!c&&l!=="reload")return this.events.next(new Rr(s.id,this.urlSerializer.serialize(s.rawUrl),"",rl.IgnoredSameUrlNavigation)),s.resolve(!1),Ot;if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return W(s).pipe(rn(u=>(this.events.next(new ko(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?Ot:Promise.resolve(u))),DB(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy,o.signal),Je(u=>{r.targetSnapshot=u.targetSnapshot,r.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation.update(f=>(f.finalUrl=u.urlAfterRedirects,f));let d=new il(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:u,extractedUrl:d,source:f,restoredState:h,extras:p}=s,g=new ko(u,this.urlSerializer.serialize(d),f,h);this.events.next(g);let m=TI(this.rootComponentType).snapshot;return this.currentTransition=r=Q(I({},s),{targetSnapshot:m,urlAfterRedirects:d,extras:Q(I({},p),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(y=>(y.finalUrl=d,y)),W(r)}else return this.events.next(new Rr(s.id,this.urlSerializer.serialize(s.extractedUrl),"",rl.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Ot}),Je(s=>{let a=new If(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),X(s=>(this.currentTransition=r=Q(I({},s),{guards:jV(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),YV(this.environmentInjector,s=>this.events.next(s)),Je(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw Vf(this.urlSerializer,s.guardsResult);let a=new Sf(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),nn(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",At.GuardRejected),!1)),xv(s=>{if(s.guards.canActivateChecks.length!==0)return W(s).pipe(Je(a=>{let c=new Tf(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}),rn(a=>{let c=!1;return W(a).pipe(CB(this.paramsInheritanceStrategy,this.environmentInjector),Je({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(a,"",At.NoDataFromResolver)}}))}),Je(a=>{let c=new Mf(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}))}),xv(s=>{let a=l=>{let u=[];if(l.routeConfig?._loadedComponent)l.component=l.routeConfig?._loadedComponent;else if(l.routeConfig?.loadComponent){let d=zs(l)??this.environmentInjector;u.push(this.configLoader.loadComponent(d,l.routeConfig).then(f=>{l.component=f}))}for(let d of l.children)u.push(...a(d));return u},c=a(s.targetSnapshot.root);return c.length===0?W(s):ze(Promise.all(c).then(()=>s))}),xv(()=>this.afterPreactivation()),rn(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,c=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return c?ze(c).pipe(X(()=>r)):W(r)}),X(s=>{let a=OV(e.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=Q(I({},s),{targetRouterState:a}),this.currentNavigation.update(c=>(c.targetRouterState=a,c)),r}),Je(()=>{this.events.next(new ol)}),LV(this.rootContexts,e.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),Cn(1),cc(FI(o.signal).pipe(nn(()=>!i&&!r.targetRouterState),Je(()=>{this.cancelNavigationTransition(r,o.signal.reason+"",At.Aborted)}))),Je({next:s=>{i=!0,this.currentNavigation.update(a=>(a.abort=AB,a)),this.lastSuccessfulNavigation.set(rt(this.currentNavigation)),this.events.next(new tr(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),cc(this.transitionAbortWithErrorSubject.pipe(Je(s=>{throw s}))),eo(()=>{o.abort(),i||this.cancelNavigationTransition(r,"",At.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),Xi(s=>{if(this.destroyed)return r.resolve(!1),Ot;if(i=!0,NI(s))this.events.next(new er(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),FV(s)?this.events.next(new Us(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new Bs(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let c=dt(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(c instanceof $s){let{message:l,cancellationCode:u}=Vf(this.urlSerializer,c);this.events.next(new er(r.id,this.urlSerializer.serialize(r.extractedUrl),l,u)),this.events.next(new Us(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(c){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(c)}}return Ot}))}))}cancelNavigationTransition(e,r,i){let o=new er(e.id,this.urlSerializer.serialize(e.extractedUrl),r,i);this.events.next(o),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=rt(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return e.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function kB(t){return t!==el}var QI=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=A({token:t,factory:()=>E(RB),providedIn:"root"})}return t})(),Uf=class{shouldDetach(n){return!1}store(n,e){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,e){return n.routeConfig===e.routeConfig}},RB=(()=>{class t extends Uf{static \u0275fac=(()=>{let e;return function(i){return(e||(e=Zn(t)))(i||t)}})();static \u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),$v=(()=>{class t{urlSerializer=E(ul);options=E(qs,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=E(Ns);urlHandlingStrategy=E(zf);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new jn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:e,initialUrl:r,targetBrowserUrl:i}){let o=e!==void 0?this.urlHandlingStrategy.merge(e,r):r,s=i??o;return s instanceof jn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:e,finalUrl:r,initialUrl:i}){r&&e?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=e):this.rawUrlTree=i}routerState=TI(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:e}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e??this.rawUrlTree)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=A({token:t,factory:()=>E(XI),providedIn:"root"})}return t})(),XI=(()=>{class t extends $v{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{e(r.url,r.state,"popstate")})})}handleRouterEvent(e,r){e instanceof ko?this.updateStateMemento():e instanceof Rr?this.commitTransition(r):e instanceof il?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):e instanceof ol?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):e instanceof er&&e.code!==At.SupersededByNewNavigation&&e.code!==At.Redirect?this.restoreHistory(r):e instanceof Bs?this.restoreHistory(r,!0):e instanceof tr&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(e)||o){let a=this.browserPageId,c=I(I({},s),this.generateNgRouterState(i,a));this.location.replaceState(e,"",c)}else{let a=I(I({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(e,"",a)}}restoreHistory(e,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===e.finalUrl&&o===0&&(this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,r){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(i){return(e||(e=Zn(t)))(i||t)}})();static \u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Hv(t,n){t.events.pipe(nn(e=>e instanceof tr||e instanceof er||e instanceof Bs||e instanceof Rr),X(e=>e instanceof tr||e instanceof Rr?0:(e instanceof er?e.code===At.Redirect||e.code===At.SupersededByNewNavigation:!1)?2:1),nn(e=>e!==2),Cn(1)).subscribe(()=>{n()})}var OB={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},NB={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Nr=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=E(tf);stateManager=E($v);options=E(qs,{optional:!0})||{};pendingTasks=E(wr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=E(JI);urlSerializer=E(ul);location=E(Ns);urlHandlingStrategy=E(zf);injector=E(Ne);_events=new Ve;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=E(QI);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=E(hl,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!E($f,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Ye;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=rt(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof er&&r.code!==At.Redirect&&r.code!==At.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof tr)this.navigated=!0;else if(r instanceof Us){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=I({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||kB(i.source)},s);this.scheduleNavigation(a,el,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}MV(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),el,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,r,i)=>{this.navigateToSyncWithBrowser(e,i,r)})}navigateToSyncWithBrowser(e,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=I({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(e);this.scheduleNavigation(a,r,s,o).catch(c=>{this.disposed||this.injector.get(Kt)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return rt(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(Bv),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=I(I({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let f=i?i.snapshot:this.routerState.snapshot.root;d=CI(f)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),d=this.currentUrlTree.root}return xI(d,e,u,l??null,this.urlSerializer)}navigateByUrl(e,r={skipLocationChange:!1}){let i=gi(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,el,null,r)}navigate(e,r={skipLocationChange:!1}){return PB(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.console.warn(Zr(4018,!1)),this.urlSerializer.parse("/")}}isActive(e,r){let i;if(r===!0?i=I({},OB):r===!1?i=I({},NB):i=r,gi(e))return rI(this.currentUrlTree,e,i);let o=this.parseUrl(e);return rI(this.currentUrlTree,o,i)}removeEmptyProps(e){return Object.entries(e).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(e,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((d,f)=>{a=d,c=f});let u=this.pendingTasks.add();return Hv(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function PB(t){for(let n=0;n<t.length;n++)if(t[n]==null)throw new R(4008,!1)}var Wf=(()=>{class t{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=Yt(null);get href(){return rt(this.reactiveHref)}set href(e){this.reactiveHref.set(e)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Ve;applicationErrorHandler=E(Kt);options=E(qs,{optional:!0});constructor(e,r,i,o,s,a){this.router=e,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(E(new li("href"),{optional:!0}));let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area"||!!(typeof customElements=="object"&&customElements.get(c)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let e=this.preserveFragment,r=i=>i==="merge"||i==="preserve";e||=r(this.queryParamsHandling),e||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),e&&(this.subscription=this.router.events.subscribe(i=>{i instanceof tr&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(gi(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(e!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c)?.catch(l=>{this.applicationErrorHandler(l)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.reactiveHref.set(e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e))??"":null)}applyAttributeValue(e,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,e,r):i.removeAttribute(o,e)}get urlTree(){return this.routerLinkInput===null?null:gi(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||t)(j(Nr),j(Or),Oc("tabindex"),j(Sr),j(Pe),j(Os))};static \u0275dir=Fe({type:t,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&fe("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Qn("href",i.reactiveHref(),Ay)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",_t],skipLocationChange:[2,"skipLocationChange","skipLocationChange",_t],replaceUrl:[2,"replaceUrl","replaceUrl",_t],routerLink:"routerLink"},features:[ln]})}return t})();var LB=new k("");function zv(t,...n){return br([{provide:hl,multi:!0,useValue:t},[],{provide:Or,useFactory:jB},{provide:nf,multi:!0,useFactory:VB},n.map(e=>e.\u0275providers)])}function jB(){return E(Nr).routerState.root}function VB(){let t=E(ut);return n=>{let e=t.get(On);if(n!==e.components[0])return;let r=t.get(Nr),i=t.get(BB);t.get(UB)===1&&r.initialNavigation(),t.get($B,null,{optional:!0})?.setUpPreloading(),t.get(LB,null,{optional:!0})?.init(),r.resetRootComponentType(e.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var BB=new k("",{factory:()=>new Ve}),UB=new k("",{factory:()=>1});var $B=new k("");function ml(t){return t+.5|0}var mi=(t,n,e)=>Math.max(Math.min(t,e),n);function pl(t){return mi(ml(t*2.55),0,255)}function yi(t){return mi(ml(t*255),0,255)}function Pr(t){return mi(ml(t/2.55)/100,0,1)}function tS(t){return mi(ml(t*100),0,100)}var mn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Gv=[..."0123456789ABCDEF"],HB=t=>Gv[t&15],zB=t=>Gv[(t&240)>>4]+Gv[t&15],Gf=t=>(t&240)>>4===(t&15),WB=t=>Gf(t.r)&&Gf(t.g)&&Gf(t.b)&&Gf(t.a);function GB(t){var n=t.length,e;return t[0]==="#"&&(n===4||n===5?e={r:255&mn[t[1]]*17,g:255&mn[t[2]]*17,b:255&mn[t[3]]*17,a:n===5?mn[t[4]]*17:255}:(n===7||n===9)&&(e={r:mn[t[1]]<<4|mn[t[2]],g:mn[t[3]]<<4|mn[t[4]],b:mn[t[5]]<<4|mn[t[6]],a:n===9?mn[t[7]]<<4|mn[t[8]]:255})),e}var qB=(t,n)=>t<255?n(t):"";function KB(t){var n=WB(t)?HB:zB;return t?"#"+n(t.r)+n(t.g)+n(t.b)+qB(t.a,n):void 0}var YB=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function oS(t,n,e){let r=n*Math.min(e,1-e),i=(o,s=(o+t/30)%12)=>e-r*Math.max(Math.min(s-3,9-s,1),-1);return[i(0),i(8),i(4)]}function ZB(t,n,e){let r=(i,o=(i+t/60)%6)=>e-e*n*Math.max(Math.min(o,4-o,1),0);return[r(5),r(3),r(1)]}function JB(t,n,e){let r=oS(t,1,.5),i;for(n+e>1&&(i=1/(n+e),n*=i,e*=i),i=0;i<3;i++)r[i]*=1-n-e,r[i]+=n;return r}function QB(t,n,e,r,i){return t===i?(n-e)/r+(n<e?6:0):n===i?(e-t)/r+2:(t-n)/r+4}function qv(t){let e=t.r/255,r=t.g/255,i=t.b/255,o=Math.max(e,r,i),s=Math.min(e,r,i),a=(o+s)/2,c,l,u;return o!==s&&(u=o-s,l=a>.5?u/(2-o-s):u/(o+s),c=QB(e,r,i,u,o),c=c*60+.5),[c|0,l||0,a]}function Kv(t,n,e,r){return(Array.isArray(n)?t(n[0],n[1],n[2]):t(n,e,r)).map(yi)}function Yv(t,n,e){return Kv(oS,t,n,e)}function XB(t,n,e){return Kv(JB,t,n,e)}function e2(t,n,e){return Kv(ZB,t,n,e)}function sS(t){return(t%360+360)%360}function t2(t){let n=YB.exec(t),e=255,r;if(!n)return;n[5]!==r&&(e=n[6]?pl(+n[5]):yi(+n[5]));let i=sS(+n[2]),o=+n[3]/100,s=+n[4]/100;return n[1]==="hwb"?r=XB(i,o,s):n[1]==="hsv"?r=e2(i,o,s):r=Yv(i,o,s),{r:r[0],g:r[1],b:r[2],a:e}}function n2(t,n){var e=qv(t);e[0]=sS(e[0]+n),e=Yv(e),t.r=e[0],t.g=e[1],t.b=e[2]}function r2(t){if(!t)return;let n=qv(t),e=n[0],r=tS(n[1]),i=tS(n[2]);return t.a<255?`hsla(${e}, ${r}%, ${i}%, ${Pr(t.a)})`:`hsl(${e}, ${r}%, ${i}%)`}var nS={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},rS={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function i2(){let t={},n=Object.keys(rS),e=Object.keys(nS),r,i,o,s,a;for(r=0;r<n.length;r++){for(s=a=n[r],i=0;i<e.length;i++)o=e[i],a=a.replace(o,nS[o]);o=parseInt(rS[s],16),t[a]=[o>>16&255,o>>8&255,o&255]}return t}var qf;function o2(t){qf||(qf=i2(),qf.transparent=[0,0,0,0]);let n=qf[t.toLowerCase()];return n&&{r:n[0],g:n[1],b:n[2],a:n.length===4?n[3]:255}}var s2=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function a2(t){let n=s2.exec(t),e=255,r,i,o;if(n){if(n[7]!==r){let s=+n[7];e=n[8]?pl(s):mi(s*255,0,255)}return r=+n[1],i=+n[3],o=+n[5],r=255&(n[2]?pl(r):mi(r,0,255)),i=255&(n[4]?pl(i):mi(i,0,255)),o=255&(n[6]?pl(o):mi(o,0,255)),{r,g:i,b:o,a:e}}}function c2(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Pr(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}var Wv=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Ks=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function l2(t,n,e){let r=Ks(Pr(t.r)),i=Ks(Pr(t.g)),o=Ks(Pr(t.b));return{r:yi(Wv(r+e*(Ks(Pr(n.r))-r))),g:yi(Wv(i+e*(Ks(Pr(n.g))-i))),b:yi(Wv(o+e*(Ks(Pr(n.b))-o))),a:t.a+e*(n.a-t.a)}}function Kf(t,n,e){if(t){let r=qv(t);r[n]=Math.max(0,Math.min(r[n]+r[n]*e,n===0?360:1)),r=Yv(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function aS(t,n){return t&&Object.assign(n||{},t)}function iS(t){var n={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(n={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(n.a=yi(t[3]))):(n=aS(t,{r:0,g:0,b:0,a:1}),n.a=yi(n.a)),n}function u2(t){return t.charAt(0)==="r"?a2(t):t2(t)}var gl=class t{constructor(n){if(n instanceof t)return n;let e=typeof n,r;e==="object"?r=iS(n):e==="string"&&(r=GB(n)||o2(n)||u2(n)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var n=aS(this._rgb);return n&&(n.a=Pr(n.a)),n}set rgb(n){this._rgb=iS(n)}rgbString(){return this._valid?c2(this._rgb):void 0}hexString(){return this._valid?KB(this._rgb):void 0}hslString(){return this._valid?r2(this._rgb):void 0}mix(n,e){if(n){let r=this.rgb,i=n.rgb,o,s=e===o?.5:e,a=2*s-1,c=r.a-i.a,l=((a*c===-1?a:(a+c)/(1+a*c))+1)/2;o=1-l,r.r=255&l*r.r+o*i.r+.5,r.g=255&l*r.g+o*i.g+.5,r.b=255&l*r.b+o*i.b+.5,r.a=s*r.a+(1-s)*i.a,this.rgb=r}return this}interpolate(n,e){return n&&(this._rgb=l2(this._rgb,n._rgb,e)),this}clone(){return new t(this.rgb)}alpha(n){return this._rgb.a=yi(n),this}clearer(n){let e=this._rgb;return e.a*=1-n,this}greyscale(){let n=this._rgb,e=ml(n.r*.3+n.g*.59+n.b*.11);return n.r=n.g=n.b=e,this}opaquer(n){let e=this._rgb;return e.a*=1+n,this}negate(){let n=this._rgb;return n.r=255-n.r,n.g=255-n.g,n.b=255-n.b,this}lighten(n){return Kf(this._rgb,2,n),this}darken(n){return Kf(this._rgb,2,-n),this}saturate(n){return Kf(this._rgb,1,n),this}desaturate(n){return Kf(this._rgb,1,-n),this}rotate(n){return n2(this._rgb,n),this}};function ir(){}var vS=(()=>{let t=0;return()=>t++})();function J(t){return t==null}function _e(t){if(Array.isArray&&Array.isArray(t))return!0;let n=Object.prototype.toString.call(t);return n.slice(0,7)==="[object"&&n.slice(-6)==="Array]"}function ee(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Le(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function jt(t,n){return Le(t)?t:n}function z(t,n){return typeof t>"u"?n:t}var bS=(t,n)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/n,Xv=(t,n)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*n:+t;function ve(t,n,e){if(t&&typeof t.call=="function")return t.apply(e,n)}function de(t,n,e,r){let i,o,s;if(_e(t))if(o=t.length,r)for(i=o-1;i>=0;i--)n.call(e,t[i],i);else for(i=0;i<o;i++)n.call(e,t[i],i);else if(ee(t))for(s=Object.keys(t),o=s.length,i=0;i<o;i++)n.call(e,t[s[i]],s[i])}function bl(t,n){let e,r,i,o;if(!t||!n||t.length!==n.length)return!1;for(e=0,r=t.length;e<r;++e)if(i=t[e],o=n[e],i.datasetIndex!==o.datasetIndex||i.index!==o.index)return!1;return!0}function Qf(t){if(_e(t))return t.map(Qf);if(ee(t)){let n=Object.create(null),e=Object.keys(t),r=e.length,i=0;for(;i<r;++i)n[e[i]]=Qf(t[e[i]]);return n}return t}function _S(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function d2(t,n,e,r){if(!_S(t))return;let i=n[t],o=e[t];ee(i)&&ee(o)?Zs(i,o,r):n[t]=Qf(o)}function Zs(t,n,e){let r=_e(n)?n:[n],i=r.length;if(!ee(t))return t;e=e||{};let o=e.merger||d2,s;for(let a=0;a<i;++a){if(s=r[a],!ee(s))continue;let c=Object.keys(s);for(let l=0,u=c.length;l<u;++l)o(c[l],t,s,e)}return t}function Qs(t,n){return Zs(t,n,{merger:f2})}function f2(t,n,e){if(!_S(t))return;let r=n[t],i=e[t];ee(r)&&ee(i)?Qs(r,i):Object.prototype.hasOwnProperty.call(n,t)||(n[t]=Qf(i))}var cS={"":t=>t,x:t=>t.x,y:t=>t.y};function h2(t){let n=t.split("."),e=[],r="";for(let i of n)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(e.push(r),r="");return e}function p2(t){let n=h2(t);return e=>{for(let r of n){if(r==="")break;e=e&&e[r]}return e}}function jr(t,n){return(cS[n]||(cS[n]=p2(n)))(t)}function nh(t){return t.charAt(0).toUpperCase()+t.slice(1)}var Xs=t=>typeof t<"u",Fr=t=>typeof t=="function",eb=(t,n)=>{if(t.size!==n.size)return!1;for(let e of t)if(!n.has(e))return!1;return!0};function wS(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}var se=Math.PI,we=2*se,g2=we+se,Xf=Number.POSITIVE_INFINITY,m2=se/180,$e=se/2,Oo=se/4,lS=se*2/3,Lr=Math.log10,Vn=Math.sign;function ea(t,n,e){return Math.abs(t-n)<e}function tb(t){let n=Math.round(t);t=ea(t,n,t/1e3)?n:t;let e=Math.pow(10,Math.floor(Lr(t))),r=t/e;return(r<=1?1:r<=2?2:r<=5?5:10)*e}function ES(t){let n=[],e=Math.sqrt(t),r;for(r=1;r<e;r++)t%r===0&&(n.push(r),n.push(t/r));return e===(e|0)&&n.push(e),n.sort((i,o)=>i-o).pop(),n}function y2(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Fo(t){return!y2(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function DS(t,n){let e=Math.round(t);return e-n<=t&&e+n>=t}function nb(t,n,e){let r,i,o;for(r=0,i=t.length;r<i;r++)o=t[r][e],isNaN(o)||(n.min=Math.min(n.min,o),n.max=Math.max(n.max,o))}function yn(t){return t*(se/180)}function rh(t){return t*(180/se)}function rb(t){if(!Le(t))return;let n=1,e=0;for(;Math.round(t*n)/n!==t;)n*=10,e++;return e}function ib(t,n){let e=n.x-t.x,r=n.y-t.y,i=Math.sqrt(e*e+r*r),o=Math.atan2(r,e);return o<-.5*se&&(o+=we),{angle:o,distance:i}}function eh(t,n){return Math.sqrt(Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2))}function v2(t,n){return(t-n+g2)%we-se}function pt(t){return(t%we+we)%we}function ta(t,n,e,r){let i=pt(t),o=pt(n),s=pt(e),a=pt(o-i),c=pt(s-i),l=pt(i-o),u=pt(i-s);return i===o||i===s||r&&o===s||a>c&&l<u}function Xe(t,n,e){return Math.max(n,Math.min(e,t))}function CS(t){return Xe(t,-32768,32767)}function or(t,n,e,r=1e-6){return t>=Math.min(n,e)-r&&t<=Math.max(n,e)+r}function ih(t,n,e){e=e||(s=>t[s]<n);let r=t.length-1,i=0,o;for(;r-i>1;)o=i+r>>1,e(o)?i=o:r=o;return{lo:i,hi:r}}var nr=(t,n,e,r)=>ih(t,e,r?i=>{let o=t[i][n];return o<e||o===e&&t[i+1][n]===e}:i=>t[i][n]<e),xS=(t,n,e)=>ih(t,e,r=>t[r][n]>=e);function IS(t,n,e){let r=0,i=t.length;for(;r<i&&t[r]<n;)r++;for(;i>r&&t[i-1]>e;)i--;return r>0||i<t.length?t.slice(r,i):t}var SS=["push","pop","shift","splice","unshift"];function TS(t,n){if(t._chartjs){t._chartjs.listeners.push(n);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[n]}}),SS.forEach(e=>{let r="_onData"+nh(e),i=t[e];Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value(...o){let s=i.apply(this,o);return t._chartjs.listeners.forEach(a=>{typeof a[r]=="function"&&a[r](...o)}),s}})})}function ob(t,n){let e=t._chartjs;if(!e)return;let r=e.listeners,i=r.indexOf(n);i!==-1&&r.splice(i,1),!(r.length>0)&&(SS.forEach(o=>{delete t[o]}),delete t._chartjs)}function sb(t){let n=new Set(t);return n.size===t.length?t:Array.from(n)}var ab=(function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame})();function cb(t,n){let e=[],r=!1;return function(...i){e=i,r||(r=!0,ab.call(window,()=>{r=!1,t.apply(n,e)}))}}function MS(t,n){let e;return function(...r){return n?(clearTimeout(e),e=setTimeout(t,n,r)):t.apply(this,r),n}}var oh=t=>t==="start"?"left":t==="end"?"right":"center",gt=(t,n,e)=>t==="start"?n:t==="end"?e:(n+e)/2,AS=(t,n,e,r)=>t===(r?"left":"right")?e:t==="center"?(n+e)/2:n;function lb(t,n,e){let r=n.length,i=0,o=r;if(t._sorted){let{iScale:s,vScale:a,_parsed:c}=t,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,u=s.axis,{min:d,max:f,minDefined:h,maxDefined:p}=s.getUserBounds();if(h){if(i=Math.min(nr(c,u,d).lo,e?r:nr(n,u,s.getPixelForValue(d)).lo),l){let g=c.slice(0,i+1).reverse().findIndex(m=>!J(m[a.axis]));i-=Math.max(0,g)}i=Xe(i,0,r-1)}if(p){let g=Math.max(nr(c,s.axis,f,!0).hi+1,e?0:nr(n,u,s.getPixelForValue(f),!0).hi+1);if(l){let m=c.slice(g-1).findIndex(y=>!J(y[a.axis]));g+=Math.max(0,m)}o=Xe(g,i,r)-i}else o=r-i}return{start:i,count:o}}function ub(t){let{xScale:n,yScale:e,_scaleRanges:r}=t,i={xmin:n.min,xmax:n.max,ymin:e.min,ymax:e.max};if(!r)return t._scaleRanges=i,!0;let o=r.xmin!==n.min||r.xmax!==n.max||r.ymin!==e.min||r.ymax!==e.max;return Object.assign(r,i),o}var Yf=t=>t===0||t===1,uS=(t,n,e)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-n)*we/e)),dS=(t,n,e)=>Math.pow(2,-10*t)*Math.sin((t-n)*we/e)+1,Ys={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*$e)+1,easeOutSine:t=>Math.sin(t*$e),easeInOutSine:t=>-.5*(Math.cos(se*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Yf(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Yf(t)?t:uS(t,.075,.3),easeOutElastic:t=>Yf(t)?t:dS(t,.075,.3),easeInOutElastic(t){return Yf(t)?t:t<.5?.5*uS(t*2,.1125,.45):.5+.5*dS(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let n=1.70158;return(t/=.5)<1?.5*(t*t*(((n*=1.525)+1)*t-n)):.5*((t-=2)*t*(((n*=1.525)+1)*t+n)+2)},easeInBounce:t=>1-Ys.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Ys.easeInBounce(t*2)*.5:Ys.easeOutBounce(t*2-1)*.5+.5};function db(t){if(t&&typeof t=="object"){let n=t.toString();return n==="[object CanvasPattern]"||n==="[object CanvasGradient]"}return!1}function fb(t){return db(t)?t:new gl(t)}function Zv(t){return db(t)?t:new gl(t).saturate(.5).darken(.1).hexString()}var b2=["x","y","borderWidth","radius","tension"],_2=["color","borderColor","backgroundColor"];function w2(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:n=>n!=="onProgress"&&n!=="onComplete"&&n!=="fn"}),t.set("animations",{colors:{type:"color",properties:_2},numbers:{type:"number",properties:b2}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:n=>n|0}}}})}function E2(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}var fS=new Map;function D2(t,n){n=n||{};let e=t+JSON.stringify(n),r=fS.get(e);return r||(r=new Intl.NumberFormat(t,n),fS.set(e,r)),r}function na(t,n,e){return D2(n,e).format(t)}var kS={values(t){return _e(t)?t:""+t},numeric(t,n,e){if(t===0)return"0";let r=this.chart.options.locale,i,o=t;if(e.length>1){let l=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(l<1e-4||l>1e15)&&(i="scientific"),o=C2(t,e)}let s=Lr(Math.abs(o)),a=isNaN(s)?1:Math.max(Math.min(-1*Math.floor(s),20),0),c={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(c,this.options.ticks.format),na(t,r,c)},logarithmic(t,n,e){if(t===0)return"0";let r=e[n].significand||t/Math.pow(10,Math.floor(Lr(t)));return[1,2,3,5,10,15].includes(r)||n>.8*e.length?kS.numeric.call(this,t,n,e):""}};function C2(t,n){let e=n.length>3?n[2].value-n[1].value:n[1].value-n[0].value;return Math.abs(e)>=1&&t!==Math.floor(t)&&(e=t-Math.floor(t)),e}var _l={formatters:kS};function x2(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(n,e)=>e.lineWidth,tickColor:(n,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:_l.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:n=>!n.startsWith("before")&&!n.startsWith("after")&&n!=="callback"&&n!=="parser",_indexable:n=>n!=="borderDash"&&n!=="tickBorderDash"&&n!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:n=>n!=="backdropPadding"&&n!=="callback",_indexable:n=>n!=="backdropPadding"})}var _i=Object.create(null),sh=Object.create(null);function yl(t,n){if(!n)return t;let e=n.split(".");for(let r=0,i=e.length;r<i;++r){let o=e[r];t=t[o]||(t[o]=Object.create(null))}return t}function Jv(t,n,e){return typeof n=="string"?Zs(yl(t,n),e):Zs(yl(t,""),n)}var Qv=class{constructor(n,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>Zv(i.backgroundColor),this.hoverBorderColor=(r,i)=>Zv(i.borderColor),this.hoverColor=(r,i)=>Zv(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(n),this.apply(e)}set(n,e){return Jv(this,n,e)}get(n){return yl(this,n)}describe(n,e){return Jv(sh,n,e)}override(n,e){return Jv(_i,n,e)}route(n,e,r,i){let o=yl(this,n),s=yl(this,r),a="_"+e;Object.defineProperties(o,{[a]:{value:o[e],writable:!0},[e]:{enumerable:!0,get(){let c=this[a],l=s[i];return ee(c)?Object.assign({},l,c):z(c,l)},set(c){this[a]=c}}})}apply(n){n.forEach(e=>e(this))}},be=new Qv({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[w2,E2,x2]);function I2(t){return!t||J(t.size)||J(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function vl(t,n,e,r,i){let o=n[i];return o||(o=n[i]=t.measureText(i).width,e.push(i)),o>r&&(r=o),r}function RS(t,n,e,r){r=r||{};let i=r.data=r.data||{},o=r.garbageCollect=r.garbageCollect||[];r.font!==n&&(i=r.data={},o=r.garbageCollect=[],r.font=n),t.save(),t.font=n;let s=0,a=e.length,c,l,u,d,f;for(c=0;c<a;c++)if(d=e[c],d!=null&&!_e(d))s=vl(t,i,o,s,d);else if(_e(d))for(l=0,u=d.length;l<u;l++)f=d[l],f!=null&&!_e(f)&&(s=vl(t,i,o,s,f));t.restore();let h=o.length/2;if(h>e.length){for(c=0;c<h;c++)delete i[o[c]];o.splice(0,h)}return s}function wi(t,n,e){let r=t.currentDevicePixelRatio,i=e!==0?Math.max(e/2,.5):0;return Math.round((n-i)*r)/r+i}function hb(t,n){!n&&!t||(n=n||t.getContext("2d"),n.save(),n.resetTransform(),n.clearRect(0,0,t.width,t.height),n.restore())}function ah(t,n,e,r){pb(t,n,e,r,null)}function pb(t,n,e,r,i){let o,s,a,c,l,u,d,f,h=n.pointStyle,p=n.rotation,g=n.radius,m=(p||0)*m2;if(h&&typeof h=="object"&&(o=h.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){t.save(),t.translate(e,r),t.rotate(m),t.drawImage(h,-h.width/2,-h.height/2,h.width,h.height),t.restore();return}if(!(isNaN(g)||g<=0)){switch(t.beginPath(),h){default:i?t.ellipse(e,r,i/2,g,0,0,we):t.arc(e,r,g,0,we),t.closePath();break;case"triangle":u=i?i/2:g,t.moveTo(e+Math.sin(m)*u,r-Math.cos(m)*g),m+=lS,t.lineTo(e+Math.sin(m)*u,r-Math.cos(m)*g),m+=lS,t.lineTo(e+Math.sin(m)*u,r-Math.cos(m)*g),t.closePath();break;case"rectRounded":l=g*.516,c=g-l,s=Math.cos(m+Oo)*c,d=Math.cos(m+Oo)*(i?i/2-l:c),a=Math.sin(m+Oo)*c,f=Math.sin(m+Oo)*(i?i/2-l:c),t.arc(e-d,r-a,l,m-se,m-$e),t.arc(e+f,r-s,l,m-$e,m),t.arc(e+d,r+a,l,m,m+$e),t.arc(e-f,r+s,l,m+$e,m+se),t.closePath();break;case"rect":if(!p){c=Math.SQRT1_2*g,u=i?i/2:c,t.rect(e-u,r-c,2*u,2*c);break}m+=Oo;case"rectRot":d=Math.cos(m)*(i?i/2:g),s=Math.cos(m)*g,a=Math.sin(m)*g,f=Math.sin(m)*(i?i/2:g),t.moveTo(e-d,r-a),t.lineTo(e+f,r-s),t.lineTo(e+d,r+a),t.lineTo(e-f,r+s),t.closePath();break;case"crossRot":m+=Oo;case"cross":d=Math.cos(m)*(i?i/2:g),s=Math.cos(m)*g,a=Math.sin(m)*g,f=Math.sin(m)*(i?i/2:g),t.moveTo(e-d,r-a),t.lineTo(e+d,r+a),t.moveTo(e+f,r-s),t.lineTo(e-f,r+s);break;case"star":d=Math.cos(m)*(i?i/2:g),s=Math.cos(m)*g,a=Math.sin(m)*g,f=Math.sin(m)*(i?i/2:g),t.moveTo(e-d,r-a),t.lineTo(e+d,r+a),t.moveTo(e+f,r-s),t.lineTo(e-f,r+s),m+=Oo,d=Math.cos(m)*(i?i/2:g),s=Math.cos(m)*g,a=Math.sin(m)*g,f=Math.sin(m)*(i?i/2:g),t.moveTo(e-d,r-a),t.lineTo(e+d,r+a),t.moveTo(e+f,r-s),t.lineTo(e-f,r+s);break;case"line":s=i?i/2:Math.cos(m)*g,a=Math.sin(m)*g,t.moveTo(e-s,r-a),t.lineTo(e+s,r+a);break;case"dash":t.moveTo(e,r),t.lineTo(e+Math.cos(m)*(i?i/2:g),r+Math.sin(m)*g);break;case!1:t.closePath();break}t.fill(),n.borderWidth>0&&t.stroke()}}function rr(t,n,e){return e=e||.5,!n||t&&t.x>n.left-e&&t.x<n.right+e&&t.y>n.top-e&&t.y<n.bottom+e}function wl(t,n){t.save(),t.beginPath(),t.rect(n.left,n.top,n.right-n.left,n.bottom-n.top),t.clip()}function El(t){t.restore()}function OS(t,n,e,r,i){if(!n)return t.lineTo(e.x,e.y);if(i==="middle"){let o=(n.x+e.x)/2;t.lineTo(o,n.y),t.lineTo(o,e.y)}else i==="after"!=!!r?t.lineTo(n.x,e.y):t.lineTo(e.x,n.y);t.lineTo(e.x,e.y)}function NS(t,n,e,r){if(!n)return t.lineTo(e.x,e.y);t.bezierCurveTo(r?n.cp1x:n.cp2x,r?n.cp1y:n.cp2y,r?e.cp2x:e.cp1x,r?e.cp2y:e.cp1y,e.x,e.y)}function S2(t,n){n.translation&&t.translate(n.translation[0],n.translation[1]),J(n.rotation)||t.rotate(n.rotation),n.color&&(t.fillStyle=n.color),n.textAlign&&(t.textAlign=n.textAlign),n.textBaseline&&(t.textBaseline=n.textBaseline)}function T2(t,n,e,r,i){if(i.strikethrough||i.underline){let o=t.measureText(r),s=n-o.actualBoundingBoxLeft,a=n+o.actualBoundingBoxRight,c=e-o.actualBoundingBoxAscent,l=e+o.actualBoundingBoxDescent,u=i.strikethrough?(c+l)/2:l;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(s,u),t.lineTo(a,u),t.stroke()}}function M2(t,n){let e=t.fillStyle;t.fillStyle=n.color,t.fillRect(n.left,n.top,n.width,n.height),t.fillStyle=e}function Ei(t,n,e,r,i,o={}){let s=_e(n)?n:[n],a=o.strokeWidth>0&&o.strokeColor!=="",c,l;for(t.save(),t.font=i.string,S2(t,o),c=0;c<s.length;++c)l=s[c],o.backdrop&&M2(t,o.backdrop),a&&(o.strokeColor&&(t.strokeStyle=o.strokeColor),J(o.strokeWidth)||(t.lineWidth=o.strokeWidth),t.strokeText(l,e,r,o.maxWidth)),t.fillText(l,e,r,o.maxWidth),T2(t,e,r,l,o),r+=Number(i.lineHeight);t.restore()}function ra(t,n){let{x:e,y:r,w:i,h:o,radius:s}=n;t.arc(e+s.topLeft,r+s.topLeft,s.topLeft,1.5*se,se,!0),t.lineTo(e,r+o-s.bottomLeft),t.arc(e+s.bottomLeft,r+o-s.bottomLeft,s.bottomLeft,se,$e,!0),t.lineTo(e+i-s.bottomRight,r+o),t.arc(e+i-s.bottomRight,r+o-s.bottomRight,s.bottomRight,$e,0,!0),t.lineTo(e+i,r+s.topRight),t.arc(e+i-s.topRight,r+s.topRight,s.topRight,0,-$e,!0),t.lineTo(e+s.topLeft,r)}var A2=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,k2=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function R2(t,n){let e=(""+t).match(A2);if(!e||e[1]==="normal")return n*1.2;switch(t=+e[2],e[3]){case"px":return t;case"%":t/=100;break}return n*t}var O2=t=>+t||0;function ch(t,n){let e={},r=ee(n),i=r?Object.keys(n):n,o=ee(t)?r?s=>z(t[s],t[n[s]]):s=>t[s]:()=>t;for(let s of i)e[s]=O2(o(s));return e}function gb(t){return ch(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Di(t){return ch(t,["topLeft","topRight","bottomLeft","bottomRight"])}function mt(t){let n=gb(t);return n.width=n.left+n.right,n.height=n.top+n.bottom,n}function qe(t,n){t=t||{},n=n||be.font;let e=z(t.size,n.size);typeof e=="string"&&(e=parseInt(e,10));let r=z(t.style,n.style);r&&!(""+r).match(k2)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);let i={family:z(t.family,n.family),lineHeight:R2(z(t.lineHeight,n.lineHeight),e),size:e,style:r,weight:z(t.weight,n.weight),string:""};return i.string=I2(i),i}function ia(t,n,e,r){let i=!0,o,s,a;for(o=0,s=t.length;o<s;++o)if(a=t[o],a!==void 0&&(n!==void 0&&typeof a=="function"&&(a=a(n),i=!1),e!==void 0&&_e(a)&&(a=a[e%a.length],i=!1),a!==void 0))return r&&!i&&(r.cacheable=!1),a}function PS(t,n,e){let{min:r,max:i}=t,o=Xv(n,(i-r)/2),s=(a,c)=>e&&a===0?0:a+c;return{min:s(r,-Math.abs(o)),max:s(i,o)}}function Vr(t,n){return Object.assign(Object.create(t),n)}function lh(t,n=[""],e,r,i=()=>t[0]){let o=e||t;typeof r>"u"&&(r=jS("_fallback",t));let s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:o,_fallback:r,_getTarget:i,override:a=>lh([a,...t],n,o,r)};return new Proxy(s,{deleteProperty(a,c){return delete a[c],delete a._keys,delete t[0][c],!0},get(a,c){return FS(a,c,()=>U2(c,n,t,a))},getOwnPropertyDescriptor(a,c){return Reflect.getOwnPropertyDescriptor(a._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,c){return pS(a).includes(c)},ownKeys(a){return pS(a)},set(a,c,l){let u=a._storage||(a._storage=i());return a[c]=u[c]=l,delete a._keys,!0}})}function Po(t,n,e,r){let i={_cacheable:!1,_proxy:t,_context:n,_subProxy:e,_stack:new Set,_descriptors:mb(t,r),setContext:o=>Po(t,o,e,r),override:o=>Po(t.override(o),n,e,r)};return new Proxy(i,{deleteProperty(o,s){return delete o[s],delete t[s],!0},get(o,s,a){return FS(o,s,()=>P2(o,s,a))},getOwnPropertyDescriptor(o,s){return o._descriptors.allKeys?Reflect.has(t,s)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,s)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(o,s){return Reflect.has(t,s)},ownKeys(){return Reflect.ownKeys(t)},set(o,s,a){return t[s]=a,delete o[s],!0}})}function mb(t,n={scriptable:!0,indexable:!0}){let{_scriptable:e=n.scriptable,_indexable:r=n.indexable,_allKeys:i=n.allKeys}=t;return{allKeys:i,scriptable:e,indexable:r,isScriptable:Fr(e)?e:()=>e,isIndexable:Fr(r)?r:()=>r}}var N2=(t,n)=>t?t+nh(n):n,yb=(t,n)=>ee(n)&&t!=="adapters"&&(Object.getPrototypeOf(n)===null||n.constructor===Object);function FS(t,n,e){if(Object.prototype.hasOwnProperty.call(t,n)||n==="constructor")return t[n];let r=e();return t[n]=r,r}function P2(t,n,e){let{_proxy:r,_context:i,_subProxy:o,_descriptors:s}=t,a=r[n];return Fr(a)&&s.isScriptable(n)&&(a=F2(n,a,t,e)),_e(a)&&a.length&&(a=L2(n,a,t,s.isIndexable)),yb(n,a)&&(a=Po(a,i,o&&o[n],s)),a}function F2(t,n,e,r){let{_proxy:i,_context:o,_subProxy:s,_stack:a}=e;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let c=n(o,s||r);return a.delete(t),yb(t,c)&&(c=vb(i._scopes,i,t,c)),c}function L2(t,n,e,r){let{_proxy:i,_context:o,_subProxy:s,_descriptors:a}=e;if(typeof o.index<"u"&&r(t))return n[o.index%n.length];if(ee(n[0])){let c=n,l=i._scopes.filter(u=>u!==c);n=[];for(let u of c){let d=vb(l,i,t,u);n.push(Po(d,o,s&&s[t],a))}}return n}function LS(t,n,e){return Fr(t)?t(n,e):t}var j2=(t,n)=>t===!0?n:typeof t=="string"?jr(n,t):void 0;function V2(t,n,e,r,i){for(let o of n){let s=j2(e,o);if(s){t.add(s);let a=LS(s._fallback,e,i);if(typeof a<"u"&&a!==e&&a!==r)return a}else if(s===!1&&typeof r<"u"&&e!==r)return null}return!1}function vb(t,n,e,r){let i=n._rootScopes,o=LS(n._fallback,e,r),s=[...t,...i],a=new Set;a.add(r);let c=hS(a,s,e,o||e,r);return c===null||typeof o<"u"&&o!==e&&(c=hS(a,s,o,c,r),c===null)?!1:lh(Array.from(a),[""],i,o,()=>B2(n,e,r))}function hS(t,n,e,r,i){for(;e;)e=V2(t,n,e,r,i);return e}function B2(t,n,e){let r=t._getTarget();n in r||(r[n]={});let i=r[n];return _e(i)&&ee(e)?e:i||{}}function U2(t,n,e,r){let i;for(let o of n)if(i=jS(N2(o,t),e),typeof i<"u")return yb(t,i)?vb(e,r,t,i):i}function jS(t,n){for(let e of n){if(!e)continue;let r=e[t];if(typeof r<"u")return r}}function pS(t){let n=t._keys;return n||(n=t._keys=$2(t._scopes)),n}function $2(t){let n=new Set;for(let e of t)for(let r of Object.keys(e).filter(i=>!i.startsWith("_")))n.add(r);return Array.from(n)}function bb(t,n,e,r){let{iScale:i}=t,{key:o="r"}=this._parsing,s=new Array(r),a,c,l,u;for(a=0,c=r;a<c;++a)l=a+e,u=n[l],s[a]={r:i.parse(jr(u,o),l)};return s}var H2=Number.EPSILON||1e-14,Js=(t,n)=>n<t.length&&!t[n].skip&&t[n],VS=t=>t==="x"?"y":"x";function z2(t,n,e,r){let i=t.skip?n:t,o=n,s=e.skip?n:e,a=eh(o,i),c=eh(s,o),l=a/(a+c),u=c/(a+c);l=isNaN(l)?0:l,u=isNaN(u)?0:u;let d=r*l,f=r*u;return{previous:{x:o.x-d*(s.x-i.x),y:o.y-d*(s.y-i.y)},next:{x:o.x+f*(s.x-i.x),y:o.y+f*(s.y-i.y)}}}function W2(t,n,e){let r=t.length,i,o,s,a,c,l=Js(t,0);for(let u=0;u<r-1;++u)if(c=l,l=Js(t,u+1),!(!c||!l)){if(ea(n[u],0,H2)){e[u]=e[u+1]=0;continue}i=e[u]/n[u],o=e[u+1]/n[u],a=Math.pow(i,2)+Math.pow(o,2),!(a<=9)&&(s=3/Math.sqrt(a),e[u]=i*s*n[u],e[u+1]=o*s*n[u])}}function G2(t,n,e="x"){let r=VS(e),i=t.length,o,s,a,c=Js(t,0);for(let l=0;l<i;++l){if(s=a,a=c,c=Js(t,l+1),!a)continue;let u=a[e],d=a[r];s&&(o=(u-s[e])/3,a[`cp1${e}`]=u-o,a[`cp1${r}`]=d-o*n[l]),c&&(o=(c[e]-u)/3,a[`cp2${e}`]=u+o,a[`cp2${r}`]=d+o*n[l])}}function q2(t,n="x"){let e=VS(n),r=t.length,i=Array(r).fill(0),o=Array(r),s,a,c,l=Js(t,0);for(s=0;s<r;++s)if(a=c,c=l,l=Js(t,s+1),!!c){if(l){let u=l[n]-c[n];i[s]=u!==0?(l[e]-c[e])/u:0}o[s]=a?l?Vn(i[s-1])!==Vn(i[s])?0:(i[s-1]+i[s])/2:i[s-1]:i[s]}W2(t,i,o),G2(t,o,n)}function Zf(t,n,e){return Math.max(Math.min(t,e),n)}function K2(t,n){let e,r,i,o,s,a=rr(t[0],n);for(e=0,r=t.length;e<r;++e)s=o,o=a,a=e<r-1&&rr(t[e+1],n),o&&(i=t[e],s&&(i.cp1x=Zf(i.cp1x,n.left,n.right),i.cp1y=Zf(i.cp1y,n.top,n.bottom)),a&&(i.cp2x=Zf(i.cp2x,n.left,n.right),i.cp2y=Zf(i.cp2y,n.top,n.bottom)))}function BS(t,n,e,r,i){let o,s,a,c;if(n.spanGaps&&(t=t.filter(l=>!l.skip)),n.cubicInterpolationMode==="monotone")q2(t,i);else{let l=r?t[t.length-1]:t[0];for(o=0,s=t.length;o<s;++o)a=t[o],c=z2(l,a,t[Math.min(o+1,s-(r?0:1))%s],n.tension),a.cp1x=c.previous.x,a.cp1y=c.previous.y,a.cp2x=c.next.x,a.cp2y=c.next.y,l=a}n.capBezierPoints&&K2(t,e)}function uh(){return typeof window<"u"&&typeof document<"u"}function dh(t){let n=t.parentNode;return n&&n.toString()==="[object ShadowRoot]"&&(n=n.host),n}function th(t,n,e){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*n.parentNode[e])):r=t,r}var fh=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function Y2(t,n){return fh(t).getPropertyValue(n)}var Z2=["top","right","bottom","left"];function No(t,n,e){let r={};e=e?"-"+e:"";for(let i=0;i<4;i++){let o=Z2[i];r[o]=parseFloat(t[n+"-"+o+e])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}var J2=(t,n,e)=>(t>0||n>0)&&(!e||!e.shadowRoot);function Q2(t,n){let e=t.touches,r=e&&e.length?e[0]:t,{offsetX:i,offsetY:o}=r,s=!1,a,c;if(J2(i,o,t.target))a=i,c=o;else{let l=n.getBoundingClientRect();a=r.clientX-l.left,c=r.clientY-l.top,s=!0}return{x:a,y:c,box:s}}function Ci(t,n){if("native"in t)return t;let{canvas:e,currentDevicePixelRatio:r}=n,i=fh(e),o=i.boxSizing==="border-box",s=No(i,"padding"),a=No(i,"border","width"),{x:c,y:l,box:u}=Q2(t,e),d=s.left+(u&&a.left),f=s.top+(u&&a.top),{width:h,height:p}=n;return o&&(h-=s.width+a.width,p-=s.height+a.height),{x:Math.round((c-d)/h*e.width/r),y:Math.round((l-f)/p*e.height/r)}}function X2(t,n,e){let r,i;if(n===void 0||e===void 0){let o=t&&dh(t);if(!o)n=t.clientWidth,e=t.clientHeight;else{let s=o.getBoundingClientRect(),a=fh(o),c=No(a,"border","width"),l=No(a,"padding");n=s.width-l.width-c.width,e=s.height-l.height-c.height,r=th(a.maxWidth,o,"clientWidth"),i=th(a.maxHeight,o,"clientHeight")}}return{width:n,height:e,maxWidth:r||Xf,maxHeight:i||Xf}}var bi=t=>Math.round(t*10)/10;function US(t,n,e,r){let i=fh(t),o=No(i,"margin"),s=th(i.maxWidth,t,"clientWidth")||Xf,a=th(i.maxHeight,t,"clientHeight")||Xf,c=X2(t,n,e),{width:l,height:u}=c;if(i.boxSizing==="content-box"){let f=No(i,"border","width"),h=No(i,"padding");l-=h.width+f.width,u-=h.height+f.height}return l=Math.max(0,l-o.width),u=Math.max(0,r?l/r:u-o.height),l=bi(Math.min(l,s,c.maxWidth)),u=bi(Math.min(u,a,c.maxHeight)),l&&!u&&(u=bi(l/2)),(n!==void 0||e!==void 0)&&r&&c.height&&u>c.height&&(u=c.height,l=bi(Math.floor(u*r))),{width:l,height:u}}function _b(t,n,e){let r=n||1,i=bi(t.height*r),o=bi(t.width*r);t.height=bi(t.height),t.width=bi(t.width);let s=t.canvas;return s.style&&(e||!s.style.height&&!s.style.width)&&(s.style.height=`${t.height}px`,s.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||s.height!==i||s.width!==o?(t.currentDevicePixelRatio=r,s.height=i,s.width=o,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}var $S=(function(){let t=!1;try{let n={get passive(){return t=!0,!1}};uh()&&(window.addEventListener("test",null,n),window.removeEventListener("test",null,n))}catch{}return t})();function wb(t,n){let e=Y2(t,n),r=e&&e.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function vi(t,n,e,r){return{x:t.x+e*(n.x-t.x),y:t.y+e*(n.y-t.y)}}function HS(t,n,e,r){return{x:t.x+e*(n.x-t.x),y:r==="middle"?e<.5?t.y:n.y:r==="after"?e<1?t.y:n.y:e>0?n.y:t.y}}function zS(t,n,e,r){let i={x:t.cp2x,y:t.cp2y},o={x:n.cp1x,y:n.cp1y},s=vi(t,i,e),a=vi(i,o,e),c=vi(o,n,e),l=vi(s,a,e),u=vi(a,c,e);return vi(l,u,e)}var eU=function(t,n){return{x(e){return t+t+n-e},setWidth(e){n=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,r){return e-r},leftForLtr(e,r){return e-r}}},tU=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,n){return t+n},leftForLtr(t,n){return t}}};function Lo(t,n,e){return t?eU(n,e):tU()}function Eb(t,n){let e,r;(n==="ltr"||n==="rtl")&&(e=t.canvas.style,r=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",n,"important"),t.prevTextDirection=r)}function Db(t,n){n!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",n[0],n[1]))}function WS(t){return t==="angle"?{between:ta,compare:v2,normalize:pt}:{between:or,compare:(n,e)=>n-e,normalize:n=>n}}function gS({start:t,end:n,count:e,loop:r,style:i}){return{start:t%e,end:n%e,loop:r&&(n-t+1)%e===0,style:i}}function nU(t,n,e){let{property:r,start:i,end:o}=e,{between:s,normalize:a}=WS(r),c=n.length,{start:l,end:u,loop:d}=t,f,h;if(d){for(l+=c,u+=c,f=0,h=c;f<h&&s(a(n[l%c][r]),i,o);++f)l--,u--;l%=c,u%=c}return u<l&&(u+=c),{start:l,end:u,loop:d,style:t.style}}function Cb(t,n,e){if(!e)return[t];let{property:r,start:i,end:o}=e,s=n.length,{compare:a,between:c,normalize:l}=WS(r),{start:u,end:d,loop:f,style:h}=nU(t,n,e),p=[],g=!1,m=null,y,v,_,b=()=>c(i,_,y)&&a(i,_)!==0,w=()=>a(o,y)===0||c(o,_,y),D=()=>g||b(),x=()=>!g||w();for(let C=u,N=u;C<=d;++C)v=n[C%s],!v.skip&&(y=l(v[r]),y!==_&&(g=c(y,i,o),m===null&&D()&&(m=a(y,i)===0?C:N),m!==null&&x()&&(p.push(gS({start:m,end:C,loop:f,count:s,style:h})),m=null),N=C,_=y));return m!==null&&p.push(gS({start:m,end:d,loop:f,count:s,style:h})),p}function xb(t,n){let e=[],r=t.segments;for(let i=0;i<r.length;i++){let o=Cb(r[i],t.points,n);o.length&&e.push(...o)}return e}function rU(t,n,e,r){let i=0,o=n-1;if(e&&!r)for(;i<n&&!t[i].skip;)i++;for(;i<n&&t[i].skip;)i++;for(i%=n,e&&(o+=i);o>i&&t[o%n].skip;)o--;return o%=n,{start:i,end:o}}function iU(t,n,e,r){let i=t.length,o=[],s=n,a=t[n],c;for(c=n+1;c<=e;++c){let l=t[c%i];l.skip||l.stop?a.skip||(r=!1,o.push({start:n%i,end:(c-1)%i,loop:r}),n=s=l.stop?c:null):(s=c,a.skip&&(n=c)),a=l}return s!==null&&o.push({start:n%i,end:s%i,loop:r}),o}function GS(t,n){let e=t.points,r=t.options.spanGaps,i=e.length;if(!i)return[];let o=!!t._loop,{start:s,end:a}=rU(e,i,o,r);if(r===!0)return mS(t,[{start:s,end:a,loop:o}],e,n);let c=a<s?a+i:a,l=!!t._fullLoop&&s===0&&a===i-1;return mS(t,iU(e,s,c,l),e,n)}function mS(t,n,e,r){return!r||!r.setContext||!e?n:oU(t,n,e,r)}function oU(t,n,e,r){let i=t._chart.getContext(),o=yS(t.options),{_datasetIndex:s,options:{spanGaps:a}}=t,c=e.length,l=[],u=o,d=n[0].start,f=d;function h(p,g,m,y){let v=a?-1:1;if(p!==g){for(p+=c;e[p%c].skip;)p-=v;for(;e[g%c].skip;)g+=v;p%c!==g%c&&(l.push({start:p%c,end:g%c,loop:m,style:y}),u=y,d=g%c)}}for(let p of n){d=a?d:p.start;let g=e[d%c],m;for(f=d+1;f<=p.end;f++){let y=e[f%c];m=yS(r.setContext(Vr(i,{type:"segment",p0:g,p1:y,p0DataIndex:(f-1)%c,p1DataIndex:f%c,datasetIndex:s}))),sU(m,u)&&h(d,f-1,p.loop,u),g=y,u=m}d<f-1&&h(d,f-1,p.loop,u)}return l}function yS(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function sU(t,n){if(!n)return!1;let e=[],r=function(i,o){return db(o)?(e.includes(o)||e.push(o),e.indexOf(o)):o};return JSON.stringify(t,r)!==JSON.stringify(n,r)}function Jf(t,n,e){return t.options.clip?t[e]:n[e]}function aU(t,n){let{xScale:e,yScale:r}=t;return e&&r?{left:Jf(e,n,"left"),right:Jf(e,n,"right"),top:Jf(r,n,"top"),bottom:Jf(r,n,"bottom")}:n}function Ib(t,n){let e=n._clip;if(e.disabled)return!1;let r=aU(n,t.chartArea);return{left:e.left===!1?0:r.left-(e.left===!0?0:e.left),right:e.right===!1?t.width:r.right+(e.right===!0?0:e.right),top:e.top===!1?0:r.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?t.height:r.bottom+(e.bottom===!0?0:e.bottom)}}var jb=class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(n,e,r,i){let o=e.listeners[i],s=e.duration;o.forEach(a=>a({chart:n,initial:e.initial,numSteps:s,currentStep:Math.min(r-e.start,s)}))}_refresh(){this._request||(this._running=!0,this._request=ab.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(n=Date.now()){let e=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;let o=r.items,s=o.length-1,a=!1,c;for(;s>=0;--s)c=o[s],c._active?(c._total>r.duration&&(r.duration=c._total),c.tick(n),a=!0):(o[s]=o[o.length-1],o.pop());a&&(i.draw(),this._notify(i,r,n,"progress")),o.length||(r.running=!1,this._notify(i,r,n,"complete"),r.initial=!1),e+=o.length}),this._lastDate=n,e===0&&(this._running=!1)}_getAnims(n){let e=this._charts,r=e.get(n);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(n,r)),r}listen(n,e,r){this._getAnims(n).listeners[e].push(r)}add(n,e){!e||!e.length||this._getAnims(n).items.push(...e)}has(n){return this._getAnims(n).items.length>0}start(n){let e=this._charts.get(n);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(n){if(!this._running)return!1;let e=this._charts.get(n);return!(!e||!e.running||!e.items.length)}stop(n){let e=this._charts.get(n);if(!e||!e.items.length)return;let r=e.items,i=r.length-1;for(;i>=0;--i)r[i].cancel();e.items=[],this._notify(n,e,Date.now(),"complete")}remove(n){return this._charts.delete(n)}},Br=new jb,qS="transparent",cU={boolean(t,n,e){return e>.5?n:t},color(t,n,e){let r=fb(t||qS),i=r.valid&&fb(n||qS);return i&&i.valid?i.mix(r,e).hexString():n},number(t,n,e){return t+(n-t)*e}},Vb=class{constructor(n,e,r,i){let o=e[r];i=ia([n.to,i,o,n.from]);let s=ia([n.from,o,i]);this._active=!0,this._fn=n.fn||cU[n.type||typeof s],this._easing=Ys[n.easing]||Ys.linear,this._start=Math.floor(Date.now()+(n.delay||0)),this._duration=this._total=Math.floor(n.duration),this._loop=!!n.loop,this._target=e,this._prop=r,this._from=s,this._to=i,this._promises=void 0}active(){return this._active}update(n,e,r){if(this._active){this._notify(!1);let i=this._target[this._prop],o=r-this._start,s=this._duration-o;this._start=r,this._duration=Math.floor(Math.max(s,n.duration)),this._total+=o,this._loop=!!n.loop,this._to=ia([n.to,e,i,n.from]),this._from=ia([n.from,i,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(n){let e=n-this._start,r=this._duration,i=this._prop,o=this._from,s=this._loop,a=this._to,c;if(this._active=o!==a&&(s||e<r),!this._active){this._target[i]=a,this._notify(!0);return}if(e<0){this._target[i]=o;return}c=e/r%2,c=s&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[i]=this._fn(o,a,c)}wait(){let n=this._promises||(this._promises=[]);return new Promise((e,r)=>{n.push({res:e,rej:r})})}_notify(n){let e=n?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][e]()}},wh=class{constructor(n,e){this._chart=n,this._properties=new Map,this.configure(e)}configure(n){if(!ee(n))return;let e=Object.keys(be.animation),r=this._properties;Object.getOwnPropertyNames(n).forEach(i=>{let o=n[i];if(!ee(o))return;let s={};for(let a of e)s[a]=o[a];(_e(o.properties)&&o.properties||[i]).forEach(a=>{(a===i||!r.has(a))&&r.set(a,s)})})}_animateOptions(n,e){let r=e.options,i=uU(n,r);if(!i)return[];let o=this._createAnimations(i,r);return r.$shared&&lU(n.options.$animations,r).then(()=>{n.options=r},()=>{}),o}_createAnimations(n,e){let r=this._properties,i=[],o=n.$animations||(n.$animations={}),s=Object.keys(e),a=Date.now(),c;for(c=s.length-1;c>=0;--c){let l=s[c];if(l.charAt(0)==="$")continue;if(l==="options"){i.push(...this._animateOptions(n,e));continue}let u=e[l],d=o[l],f=r.get(l);if(d)if(f&&d.active()){d.update(f,u,a);continue}else d.cancel();if(!f||!f.duration){n[l]=u;continue}o[l]=d=new Vb(f,n,l,u),i.push(d)}return i}update(n,e){if(this._properties.size===0){Object.assign(n,e);return}let r=this._createAnimations(n,e);if(r.length)return Br.add(this._chart,r),!0}};function lU(t,n){let e=[],r=Object.keys(n);for(let i=0;i<r.length;i++){let o=t[r[i]];o&&o.active()&&e.push(o.wait())}return Promise.all(e)}function uU(t,n){if(!n)return;let e=t.options;if(!e){t.options=n;return}return e.$shared&&(t.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function KS(t,n){let e=t&&t.options||{},r=e.reverse,i=e.min===void 0?n:0,o=e.max===void 0?n:0;return{start:r?o:i,end:r?i:o}}function dU(t,n,e){if(e===!1)return!1;let r=KS(t,e),i=KS(n,e);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function fU(t){let n,e,r,i;return ee(t)?(n=t.top,e=t.right,r=t.bottom,i=t.left):n=e=r=i=t,{top:n,right:e,bottom:r,left:i,disabled:t===!1}}function qT(t,n){let e=[],r=t._getSortedDatasetMetas(n),i,o;for(i=0,o=r.length;i<o;++i)e.push(r[i].index);return e}function YS(t,n,e,r={}){let i=t.keys,o=r.mode==="single",s,a,c,l;if(n===null)return;let u=!1;for(s=0,a=i.length;s<a;++s){if(c=+i[s],c===e){if(u=!0,r.all)continue;break}l=t.values[c],Le(l)&&(o||n===0||Vn(n)===Vn(l))&&(n+=l)}return!u&&!r.all?0:n}function hU(t,n){let{iScale:e,vScale:r}=n,i=e.axis==="x"?"x":"y",o=r.axis==="x"?"x":"y",s=Object.keys(t),a=new Array(s.length),c,l,u;for(c=0,l=s.length;c<l;++c)u=s[c],a[c]={[i]:u,[o]:t[u]};return a}function Sb(t,n){let e=t&&t.options.stacked;return e||e===void 0&&n.stack!==void 0}function pU(t,n,e){return`${t.id}.${n.id}.${e.stack||e.type}`}function gU(t){let{min:n,max:e,minDefined:r,maxDefined:i}=t.getUserBounds();return{min:r?n:Number.NEGATIVE_INFINITY,max:i?e:Number.POSITIVE_INFINITY}}function mU(t,n,e){let r=t[n]||(t[n]={});return r[e]||(r[e]={})}function ZS(t,n,e,r){for(let i of n.getMatchingVisibleMetas(r).reverse()){let o=t[i.index];if(e&&o>0||!e&&o<0)return i.index}return null}function JS(t,n){let{chart:e,_cachedMeta:r}=t,i=e._stacks||(e._stacks={}),{iScale:o,vScale:s,index:a}=r,c=o.axis,l=s.axis,u=pU(o,s,r),d=n.length,f;for(let h=0;h<d;++h){let p=n[h],{[c]:g,[l]:m}=p,y=p._stacks||(p._stacks={});f=y[l]=mU(i,u,g),f[a]=m,f._top=ZS(f,s,!0,r.type),f._bottom=ZS(f,s,!1,r.type);let v=f._visualValues||(f._visualValues={});v[a]=m}}function Tb(t,n){let e=t.scales;return Object.keys(e).filter(r=>e[r].axis===n).shift()}function yU(t,n){return Vr(t,{active:!1,dataset:void 0,datasetIndex:n,index:n,mode:"default",type:"dataset"})}function vU(t,n,e){return Vr(t,{active:!1,dataIndex:n,parsed:void 0,raw:void 0,element:e,index:n,mode:"default",type:"data"})}function Dl(t,n){let e=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){n=n||t._parsed;for(let i of n){let o=i._stacks;if(!o||o[r]===void 0||o[r][e]===void 0)return;delete o[r][e],o[r]._visualValues!==void 0&&o[r]._visualValues[e]!==void 0&&delete o[r]._visualValues[e]}}}var Mb=t=>t==="reset"||t==="none",QS=(t,n)=>n?t:Object.assign({},t),bU=(t,n,e)=>t&&!n.hidden&&n._stacked&&{keys:qT(e,!0),values:null},Ii=(()=>{class t{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,r){this.chart=e,this._ctx=e.ctx,this.index=r,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){let e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Sb(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Dl(this._cachedMeta),this.index=e}linkScales(){let e=this.chart,r=this._cachedMeta,i=this.getDataset(),o=(f,h,p,g)=>f==="x"?h:f==="r"?g:p,s=r.xAxisID=z(i.xAxisID,Tb(e,"x")),a=r.yAxisID=z(i.yAxisID,Tb(e,"y")),c=r.rAxisID=z(i.rAxisID,Tb(e,"r")),l=r.indexAxis,u=r.iAxisID=o(l,s,a,c),d=r.vAxisID=o(l,a,s,c);r.xScale=this.getScaleForId(s),r.yScale=this.getScaleForId(a),r.rScale=this.getScaleForId(c),r.iScale=this.getScaleForId(u),r.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){let r=this._cachedMeta;return e===r.iScale?r.vScale:r.iScale}reset(){this._update("reset")}_destroy(){let e=this._cachedMeta;this._data&&ob(this._data,this),e._stacked&&Dl(e)}_dataCheck(){let e=this.getDataset(),r=e.data||(e.data=[]),i=this._data;if(ee(r)){let o=this._cachedMeta;this._data=hU(r,o)}else if(i!==r){if(i){ob(i,this);let o=this._cachedMeta;Dl(o),o._parsed=[]}r&&Object.isExtensible(r)&&TS(r,this),this._syncList=[],this._data=r}}addElements(){let e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){let r=this._cachedMeta,i=this.getDataset(),o=!1;this._dataCheck();let s=r._stacked;r._stacked=Sb(r.vScale,r),r.stack!==i.stack&&(o=!0,Dl(r),r.stack=i.stack),this._resyncElements(e),(o||s!==r._stacked)&&(JS(this,r._parsed),r._stacked=Sb(r.vScale,r))}configure(){let e=this.chart.config,r=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),r,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,r){let{_cachedMeta:i,_data:o}=this,{iScale:s,_stacked:a}=i,c=s.axis,l=e===0&&r===o.length?!0:i._sorted,u=e>0&&i._parsed[e-1],d,f,h;if(this._parsing===!1)i._parsed=o,i._sorted=!0,h=o;else{_e(o[e])?h=this.parseArrayData(i,o,e,r):ee(o[e])?h=this.parseObjectData(i,o,e,r):h=this.parsePrimitiveData(i,o,e,r);let p=()=>f[c]===null||u&&f[c]<u[c];for(d=0;d<r;++d)i._parsed[d+e]=f=h[d],l&&(p()&&(l=!1),u=f);i._sorted=l}a&&JS(this,h)}parsePrimitiveData(e,r,i,o){let{iScale:s,vScale:a}=e,c=s.axis,l=a.axis,u=s.getLabels(),d=s===a,f=new Array(o),h,p,g;for(h=0,p=o;h<p;++h)g=h+i,f[h]={[c]:d||s.parse(u[g],g),[l]:a.parse(r[g],g)};return f}parseArrayData(e,r,i,o){let{xScale:s,yScale:a}=e,c=new Array(o),l,u,d,f;for(l=0,u=o;l<u;++l)d=l+i,f=r[d],c[l]={x:s.parse(f[0],d),y:a.parse(f[1],d)};return c}parseObjectData(e,r,i,o){let{xScale:s,yScale:a}=e,{xAxisKey:c="x",yAxisKey:l="y"}=this._parsing,u=new Array(o),d,f,h,p;for(d=0,f=o;d<f;++d)h=d+i,p=r[h],u[d]={x:s.parse(jr(p,c),h),y:a.parse(jr(p,l),h)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,r,i){let o=this.chart,s=this._cachedMeta,a=r[e.axis],c={keys:qT(o,!0),values:r._stacks[e.axis]._visualValues};return YS(c,a,s.index,{mode:i})}updateRangeFromParsed(e,r,i,o){let s=i[r.axis],a=s===null?NaN:s,c=o&&i._stacks[r.axis];o&&c&&(o.values=c,a=YS(o,s,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,r){let i=this._cachedMeta,o=i._parsed,s=i._sorted&&e===i.iScale,a=o.length,c=this._getOtherScale(e),l=bU(r,i,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:f}=gU(c),h,p;function g(){p=o[h];let m=p[c.axis];return!Le(p[e.axis])||d>m||f<m}for(h=0;h<a&&!(!g()&&(this.updateRangeFromParsed(u,e,p,l),s));++h);if(s){for(h=a-1;h>=0;--h)if(!g()){this.updateRangeFromParsed(u,e,p,l);break}}return u}getAllParsedValues(e){let r=this._cachedMeta._parsed,i=[],o,s,a;for(o=0,s=r.length;o<s;++o)a=r[o][e.axis],Le(a)&&i.push(a);return i}getMaxOverflow(){return!1}getLabelAndValue(e){let r=this._cachedMeta,i=r.iScale,o=r.vScale,s=this.getParsed(e);return{label:i?""+i.getLabelForValue(s[i.axis]):"",value:o?""+o.getLabelForValue(s[o.axis]):""}}_update(e){let r=this._cachedMeta;this.update(e||"default"),r._clip=fU(z(this.options.clip,dU(r.xScale,r.yScale,this.getMaxOverflow())))}update(e){}draw(){let e=this._ctx,r=this.chart,i=this._cachedMeta,o=i.data||[],s=r.chartArea,a=[],c=this._drawStart||0,l=this._drawCount||o.length-c,u=this.options.drawActiveElementsOnTop,d;for(i.dataset&&i.dataset.draw(e,s,c,l),d=c;d<c+l;++d){let f=o[d];f.hidden||(f.active&&u?a.push(f):f.draw(e,s))}for(d=0;d<a.length;++d)a[d].draw(e,s)}getStyle(e,r){let i=r?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,r,i){let o=this.getDataset(),s;if(e>=0&&e<this._cachedMeta.data.length){let a=this._cachedMeta.data[e];s=a.$context||(a.$context=vU(this.getContext(),e,a)),s.parsed=this.getParsed(e),s.raw=o.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=yU(this.chart.getContext(),this.index)),s.dataset=o,s.index=s.datasetIndex=this.index;return s.active=!!r,s.mode=i,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,r){return this._resolveElementOptions(this.dataElementType.id,r,e)}_resolveElementOptions(e,r="default",i){let o=r==="active",s=this._cachedDataOpts,a=e+"-"+r,c=s[a],l=this.enableOptionSharing&&Xs(i);if(c)return QS(c,l);let u=this.chart.config,d=u.datasetElementScopeKeys(this._type,e),f=o?[`${e}Hover`,"hover",e,""]:[e,""],h=u.getOptionScopes(this.getDataset(),d),p=Object.keys(be.elements[e]),g=()=>this.getContext(i,o,r),m=u.resolveNamedOptions(h,p,g,f);return m.$shared&&(m.$shared=l,s[a]=Object.freeze(QS(m,l))),m}_resolveAnimations(e,r,i){let o=this.chart,s=this._cachedDataOpts,a=`animation-${r}`,c=s[a];if(c)return c;let l;if(o.options.animation!==!1){let d=this.chart.config,f=d.datasetAnimationScopeKeys(this._type,r),h=d.getOptionScopes(this.getDataset(),f);l=d.createResolver(h,this.getContext(e,i,r))}let u=new wh(o,l&&l.animations);return l&&l._cacheable&&(s[a]=Object.freeze(u)),u}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,r){return!r||Mb(e)||this.chart._animationsDisabled}_getSharedOptions(e,r){let i=this.resolveDataElementOptions(e,r),o=this._sharedOptions,s=this.getSharedOptions(i),a=this.includeOptions(r,s)||s!==o;return this.updateSharedOptions(s,r,i),{sharedOptions:s,includeOptions:a}}updateElement(e,r,i,o){Mb(o)?Object.assign(e,i):this._resolveAnimations(r,o).update(e,i)}updateSharedOptions(e,r,i){e&&!Mb(r)&&this._resolveAnimations(void 0,r).update(e,i)}_setStyle(e,r,i,o){e.active=o;let s=this.getStyle(r,o);this._resolveAnimations(r,i,o).update(e,{options:!o&&this.getSharedOptions(s)||s})}removeHoverStyle(e,r,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,r,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){let e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){let e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){let r=this._data,i=this._cachedMeta.data;for(let[c,l,u]of this._syncList)this[c](l,u);this._syncList=[];let o=i.length,s=r.length,a=Math.min(s,o);a&&this.parse(0,a),s>o?this._insertElements(o,s-o,e):s<o&&this._removeElements(s,o-s)}_insertElements(e,r,i=!0){let o=this._cachedMeta,s=o.data,a=e+r,c,l=u=>{for(u.length+=r,c=u.length-1;c>=a;c--)u[c]=u[c-r]};for(l(s),c=e;c<a;++c)s[c]=new this.dataElementType;this._parsing&&l(o._parsed),this.parse(e,r),i&&this.updateElements(s,e,r,"reset")}updateElements(e,r,i,o){}_removeElements(e,r){let i=this._cachedMeta;if(this._parsing){let o=i._parsed.splice(e,r);i._stacked&&Dl(i,o)}i.data.splice(e,r)}_sync(e){if(this._parsing)this._syncList.push(e);else{let[r,i,o]=e;this[r](i,o)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){let e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,r){r&&this._sync(["_removeElements",e,r]);let i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return t})();function _U(t,n){if(!t._cache.$bar){let e=t.getMatchingVisibleMetas(n),r=[];for(let i=0,o=e.length;i<o;i++)r=r.concat(e[i].controller.getAllParsedValues(t));t._cache.$bar=sb(r.sort((i,o)=>i-o))}return t._cache.$bar}function wU(t){let n=t.iScale,e=_U(n,t.type),r=n._length,i,o,s,a,c=()=>{s===32767||s===-32768||(Xs(a)&&(r=Math.min(r,Math.abs(s-a)||r)),a=s)};for(i=0,o=e.length;i<o;++i)s=n.getPixelForValue(e[i]),c();for(a=void 0,i=0,o=n.ticks.length;i<o;++i)s=n.getPixelForTick(i),c();return r}function EU(t,n,e,r){let i=e.barThickness,o,s;return J(i)?(o=n.min*e.categoryPercentage,s=e.barPercentage):(o=i*r,s=1),{chunk:o/r,ratio:s,start:n.pixels[t]-o/2}}function DU(t,n,e,r){let i=n.pixels,o=i[t],s=t>0?i[t-1]:null,a=t<i.length-1?i[t+1]:null,c=e.categoryPercentage;s===null&&(s=o-(a===null?n.end-n.start:a-o)),a===null&&(a=o+o-s);let l=o-(o-Math.min(s,a))/2*c;return{chunk:Math.abs(a-s)/2*c/r,ratio:e.barPercentage,start:l}}function CU(t,n,e,r){let i=e.parse(t[0],r),o=e.parse(t[1],r),s=Math.min(i,o),a=Math.max(i,o),c=s,l=a;Math.abs(s)>Math.abs(a)&&(c=a,l=s),n[e.axis]=l,n._custom={barStart:c,barEnd:l,start:i,end:o,min:s,max:a}}function KT(t,n,e,r){return _e(t)?CU(t,n,e,r):n[e.axis]=e.parse(t,r),n}function XS(t,n,e,r){let i=t.iScale,o=t.vScale,s=i.getLabels(),a=i===o,c=[],l,u,d,f;for(l=e,u=e+r;l<u;++l)f=n[l],d={},d[i.axis]=a||i.parse(s[l],l),c.push(KT(f,d,o,l));return c}function Ab(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function xU(t,n,e){return t!==0?Vn(t):(n.isHorizontal()?1:-1)*(n.min>=e?1:-1)}function IU(t){let n,e,r,i,o;return t.horizontal?(n=t.base>t.x,e="left",r="right"):(n=t.base<t.y,e="bottom",r="top"),n?(i="end",o="start"):(i="start",o="end"),{start:e,end:r,reverse:n,top:i,bottom:o}}function SU(t,n,e,r){let i=n.borderSkipped,o={};if(!i){t.borderSkipped=o;return}if(i===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}let{start:s,end:a,reverse:c,top:l,bottom:u}=IU(t);i==="middle"&&e&&(t.enableBorderRadius=!0,(e._top||0)===r?i=l:(e._bottom||0)===r?i=u:(o[eT(u,s,a,c)]=!0,i=l)),o[eT(i,s,a,c)]=!0,t.borderSkipped=o}function eT(t,n,e,r){return r?(t=TU(t,n,e),t=tT(t,e,n)):t=tT(t,n,e),t}function TU(t,n,e){return t===n?e:t===e?n:t}function tT(t,n,e){return t==="start"?n:t==="end"?e:t}function MU(t,{inflateAmount:n},e){t.inflateAmount=n==="auto"?e===1?.33:0:n}var AU=(()=>{class t extends Ii{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,r,i,o){return XS(e,r,i,o)}parseArrayData(e,r,i,o){return XS(e,r,i,o)}parseObjectData(e,r,i,o){let{iScale:s,vScale:a}=e,{xAxisKey:c="x",yAxisKey:l="y"}=this._parsing,u=s.axis==="x"?c:l,d=a.axis==="x"?c:l,f=[],h,p,g,m;for(h=i,p=i+o;h<p;++h)m=r[h],g={},g[s.axis]=s.parse(jr(m,u),h),f.push(KT(jr(m,d),g,a,h));return f}updateRangeFromParsed(e,r,i,o){super.updateRangeFromParsed(e,r,i,o);let s=i._custom;s&&r===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){let r=this._cachedMeta,{iScale:i,vScale:o}=r,s=this.getParsed(e),a=s._custom,c=Ab(a)?"["+a.start+", "+a.end+"]":""+o.getLabelForValue(s[o.axis]);return{label:""+i.getLabelForValue(s[i.axis]),value:c}}initialize(){this.enableOptionSharing=!0,super.initialize();let e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){let r=this._cachedMeta;this.updateElements(r.data,0,r.data.length,e)}updateElements(e,r,i,o){let s=o==="reset",{index:a,_cachedMeta:{vScale:c}}=this,l=c.getBasePixel(),u=c.isHorizontal(),d=this._getRuler(),{sharedOptions:f,includeOptions:h}=this._getSharedOptions(r,o);for(let p=r;p<r+i;p++){let g=this.getParsed(p),m=s||J(g[c.axis])?{base:l,head:l}:this._calculateBarValuePixels(p),y=this._calculateBarIndexPixels(p,d),v=(g._stacks||{})[c.axis],_={horizontal:u,base:m.base,enableBorderRadius:!v||Ab(g._custom)||a===v._top||a===v._bottom,x:u?m.head:y.center,y:u?y.center:m.head,height:u?y.size:Math.abs(m.size),width:u?Math.abs(m.size):y.size};h&&(_.options=f||this.resolveDataElementOptions(p,e[p].active?"active":o));let b=_.options||e[p].options;SU(_,b,v,a),MU(_,b,d.ratio),this.updateElement(e[p],p,_,o)}}_getStacks(e,r){let{iScale:i}=this._cachedMeta,o=i.getMatchingVisibleMetas(this._type).filter(d=>d.controller.options.grouped),s=i.options.stacked,a=[],c=this._cachedMeta.controller.getParsed(r),l=c&&c[i.axis],u=d=>{let f=d._parsed.find(p=>p[i.axis]===l),h=f&&f[d.vScale.axis];if(J(h)||isNaN(h))return!0};for(let d of o)if(!(r!==void 0&&u(d))&&((s===!1||a.indexOf(d.stack)===-1||s===void 0&&d.stack===void 0)&&a.push(d.stack),d.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){let e=this.chart.scales,r=this.chart.options.indexAxis;return Object.keys(e).filter(i=>e[i].axis===r).shift()}_getAxis(){let e={},r=this.getFirstScaleIdForIndexAxis();for(let i of this.chart.data.datasets)e[z(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,r)]=!0;return Object.keys(e)}_getStackIndex(e,r,i){let o=this._getStacks(e,i),s=r!==void 0?o.indexOf(r):-1;return s===-1?o.length-1:s}_getRuler(){let e=this.options,r=this._cachedMeta,i=r.iScale,o=[],s,a;for(s=0,a=r.data.length;s<a;++s)o.push(i.getPixelForValue(this.getParsed(s)[i.axis],s));let c=e.barThickness;return{min:c||wU(r),pixels:o,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:c?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){let{_cachedMeta:{vScale:r,_stacked:i,index:o},options:{base:s,minBarLength:a}}=this,c=s||0,l=this.getParsed(e),u=l._custom,d=Ab(u),f=l[r.axis],h=0,p=i?this.applyStack(r,l,i):f,g,m;p!==f&&(h=p-f,p=f),d&&(f=u.barStart,p=u.barEnd-u.barStart,f!==0&&Vn(f)!==Vn(u.barEnd)&&(h=0),h+=f);let y=!J(s)&&!d?s:h,v=r.getPixelForValue(y);if(this.chart.getDataVisibility(e)?g=r.getPixelForValue(h+p):g=v,m=g-v,Math.abs(m)<a){m=xU(m,r,c)*a,f===c&&(v-=m/2);let _=r.getPixelForDecimal(0),b=r.getPixelForDecimal(1),w=Math.min(_,b),D=Math.max(_,b);v=Math.max(Math.min(v,D),w),g=v+m,i&&!d&&(l._stacks[r.axis]._visualValues[o]=r.getValueForPixel(g)-r.getValueForPixel(v))}if(v===r.getPixelForValue(c)){let _=Vn(m)*r.getLineWidthForValue(c)/2;v+=_,m-=_}return{size:m,base:v,head:g,center:g+m/2}}_calculateBarIndexPixels(e,r){let i=r.scale,o=this.options,s=o.skipNull,a=z(o.maxBarThickness,1/0),c,l,u=this._getAxisCount();if(r.grouped){let d=s?this._getStackCount(e):r.stackCount,f=o.barThickness==="flex"?DU(e,r,o,d*u):EU(e,r,o,d*u),h=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,p=this._getAxis().indexOf(z(h,this.getFirstScaleIdForIndexAxis())),g=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0)+p;c=f.start+f.chunk*g+f.chunk/2,l=Math.min(a,f.chunk*f.ratio)}else c=i.getPixelForValue(this.getParsed(e)[i.axis],e),l=Math.min(a,r.min*r.ratio);return{base:c-l/2,head:c+l/2,center:c,size:l}}draw(){let e=this._cachedMeta,r=e.vScale,i=e.data,o=i.length,s=0;for(;s<o;++s)this.getParsed(s)[r.axis]!==null&&!i[s].hidden&&i[s].draw(this._ctx)}}return t})(),kU=(()=>{class t extends Ii{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,r,i,o){let s=super.parsePrimitiveData(e,r,i,o);for(let a=0;a<s.length;a++)s[a]._custom=this.resolveDataElementOptions(a+i).radius;return s}parseArrayData(e,r,i,o){let s=super.parseArrayData(e,r,i,o);for(let a=0;a<s.length;a++){let c=r[i+a];s[a]._custom=z(c[2],this.resolveDataElementOptions(a+i).radius)}return s}parseObjectData(e,r,i,o){let s=super.parseObjectData(e,r,i,o);for(let a=0;a<s.length;a++){let c=r[i+a];s[a]._custom=z(c&&c.r&&+c.r,this.resolveDataElementOptions(a+i).radius)}return s}getMaxOverflow(){let e=this._cachedMeta.data,r=0;for(let i=e.length-1;i>=0;--i)r=Math.max(r,e[i].size(this.resolveDataElementOptions(i))/2);return r>0&&r}getLabelAndValue(e){let r=this._cachedMeta,i=this.chart.data.labels||[],{xScale:o,yScale:s}=r,a=this.getParsed(e),c=o.getLabelForValue(a.x),l=s.getLabelForValue(a.y),u=a._custom;return{label:i[e]||"",value:"("+c+", "+l+(u?", "+u:"")+")"}}update(e){let r=this._cachedMeta.data;this.updateElements(r,0,r.length,e)}updateElements(e,r,i,o){let s=o==="reset",{iScale:a,vScale:c}=this._cachedMeta,{sharedOptions:l,includeOptions:u}=this._getSharedOptions(r,o),d=a.axis,f=c.axis;for(let h=r;h<r+i;h++){let p=e[h],g=!s&&this.getParsed(h),m={},y=m[d]=s?a.getPixelForDecimal(.5):a.getPixelForValue(g[d]),v=m[f]=s?c.getBasePixel():c.getPixelForValue(g[f]);m.skip=isNaN(y)||isNaN(v),u&&(m.options=l||this.resolveDataElementOptions(h,p.active?"active":o),s&&(m.options.radius=0)),this.updateElement(p,h,m,o)}}resolveDataElementOptions(e,r){let i=this.getParsed(e),o=super.resolveDataElementOptions(e,r);o.$shared&&(o=Object.assign({},o,{$shared:!1}));let s=o.radius;return r!=="active"&&(o.radius=0),o.radius+=z(i&&i._custom,s),o}}return t})();function RU(t,n,e){let r=1,i=1,o=0,s=0;if(n<we){let a=t,c=a+n,l=Math.cos(a),u=Math.sin(a),d=Math.cos(c),f=Math.sin(c),h=(_,b,w)=>ta(_,a,c,!0)?1:Math.max(b,b*e,w,w*e),p=(_,b,w)=>ta(_,a,c,!0)?-1:Math.min(b,b*e,w,w*e),g=h(0,l,d),m=h($e,u,f),y=p(se,l,d),v=p(se+$e,u,f);r=(g-y)/2,i=(m-v)/2,o=-(g+y)/2,s=-(m+v)/2}return{ratioX:r,ratioY:i,offsetX:o,offsetY:s}}var o_=(()=>{class t extends Ii{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){let r=e.data,{labels:{pointStyle:i,textAlign:o,color:s,useBorderRadius:a,borderRadius:c}}=e.legend.options;return r.labels.length&&r.datasets.length?r.labels.map((l,u)=>{let f=e.getDatasetMeta(0).controller.getStyle(u);return{text:l,fillStyle:f.backgroundColor,fontColor:s,hidden:!e.getDataVisibility(u),lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:f.borderWidth,strokeStyle:f.borderColor,textAlign:o,pointStyle:i,borderRadius:a&&(c||f.borderRadius),index:u}}):[]}},onClick(e,r,i){i.chart.toggleDataVisibility(r.index),i.chart.update()}}}};constructor(e,r){super(e,r),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,r){let i=this.getDataset().data,o=this._cachedMeta;if(this._parsing===!1)o._parsed=i;else{let s=l=>+i[l];if(ee(i[e])){let{key:l="value"}=this._parsing;s=u=>+jr(i[u],l)}let a,c;for(a=e,c=e+r;a<c;++a)o._parsed[a]=s(a)}}_getRotation(){return yn(this.options.rotation-90)}_getCircumference(){return yn(this.options.circumference)}_getRotationExtents(){let e=we,r=-we;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){let o=this.chart.getDatasetMeta(i).controller,s=o._getRotation(),a=o._getCircumference();e=Math.min(e,s),r=Math.max(r,s+a)}return{rotation:e,circumference:r-e}}update(e){let r=this.chart,{chartArea:i}=r,o=this._cachedMeta,s=o.data,a=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,c=Math.max((Math.min(i.width,i.height)-a)/2,0),l=Math.min(bS(this.options.cutout,c),1),u=this._getRingWeight(this.index),{circumference:d,rotation:f}=this._getRotationExtents(),{ratioX:h,ratioY:p,offsetX:g,offsetY:m}=RU(f,d,l),y=(i.width-a)/h,v=(i.height-a)/p,_=Math.max(Math.min(y,v)/2,0),b=Xv(this.options.radius,_),w=Math.max(b*l,0),D=(b-w)/this._getVisibleDatasetWeightTotal();this.offsetX=g*b,this.offsetY=m*b,o.total=this.calculateTotal(),this.outerRadius=b-D*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-D*u,0),this.updateElements(s,0,s.length,e)}_circumference(e,r){let i=this.options,o=this._cachedMeta,s=this._getCircumference();return r&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||o._parsed[e]===null||o.data[e].hidden?0:this.calculateCircumference(o._parsed[e]*s/we)}updateElements(e,r,i,o){let s=o==="reset",a=this.chart,c=a.chartArea,u=a.options.animation,d=(c.left+c.right)/2,f=(c.top+c.bottom)/2,h=s&&u.animateScale,p=h?0:this.innerRadius,g=h?0:this.outerRadius,{sharedOptions:m,includeOptions:y}=this._getSharedOptions(r,o),v=this._getRotation(),_;for(_=0;_<r;++_)v+=this._circumference(_,s);for(_=r;_<r+i;++_){let b=this._circumference(_,s),w=e[_],D={x:d+this.offsetX,y:f+this.offsetY,startAngle:v,endAngle:v+b,circumference:b,outerRadius:g,innerRadius:p};y&&(D.options=m||this.resolveDataElementOptions(_,w.active?"active":o)),v+=b,this.updateElement(w,_,D,o)}}calculateTotal(){let e=this._cachedMeta,r=e.data,i=0,o;for(o=0;o<r.length;o++){let s=e._parsed[o];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(o)&&!r[o].hidden&&(i+=Math.abs(s))}return i}calculateCircumference(e){let r=this._cachedMeta.total;return r>0&&!isNaN(e)?we*(Math.abs(e)/r):0}getLabelAndValue(e){let r=this._cachedMeta,i=this.chart,o=i.data.labels||[],s=na(r._parsed[e],i.options.locale);return{label:o[e]||"",value:s}}getMaxBorderWidth(e){let r=0,i=this.chart,o,s,a,c,l;if(!e){for(o=0,s=i.data.datasets.length;o<s;++o)if(i.isDatasetVisible(o)){a=i.getDatasetMeta(o),e=a.data,c=a.controller;break}}if(!e)return 0;for(o=0,s=e.length;o<s;++o)l=c.resolveDataElementOptions(o),l.borderAlign!=="inner"&&(r=Math.max(r,l.borderWidth||0,l.hoverBorderWidth||0));return r}getMaxOffset(e){let r=0;for(let i=0,o=e.length;i<o;++i){let s=this.resolveDataElementOptions(i);r=Math.max(r,s.offset||0,s.hoverOffset||0)}return r}_getRingWeightOffset(e){let r=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(r+=this._getRingWeight(i));return r}_getRingWeight(e){return Math.max(z(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return t})(),OU=(()=>{class t extends Ii{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){let r=this._cachedMeta,{dataset:i,data:o=[],_dataset:s}=r,a=this.chart._animationsDisabled,{start:c,count:l}=lb(r,o,a);this._drawStart=c,this._drawCount=l,ub(r)&&(c=0,l=o.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!s._decimated,i.points=o;let u=this.resolveDatasetElementOptions(e);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(i,void 0,{animated:!a,options:u},e),this.updateElements(o,c,l,e)}updateElements(e,r,i,o){let s=o==="reset",{iScale:a,vScale:c,_stacked:l,_dataset:u}=this._cachedMeta,{sharedOptions:d,includeOptions:f}=this._getSharedOptions(r,o),h=a.axis,p=c.axis,{spanGaps:g,segment:m}=this.options,y=Fo(g)?g:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||s||o==="none",_=r+i,b=e.length,w=r>0&&this.getParsed(r-1);for(let D=0;D<b;++D){let x=e[D],C=v?x:{};if(D<r||D>=_){C.skip=!0;continue}let N=this.getParsed(D),B=J(N[p]),K=C[h]=a.getPixelForValue(N[h],D),te=C[p]=s||B?c.getBasePixel():c.getPixelForValue(l?this.applyStack(c,N,l):N[p],D);C.skip=isNaN(K)||isNaN(te)||B,C.stop=D>0&&Math.abs(N[h]-w[h])>y,m&&(C.parsed=N,C.raw=u.data[D]),f&&(C.options=d||this.resolveDataElementOptions(D,x.active?"active":o)),v||this.updateElement(x,D,C,o),w=N}}getMaxOverflow(){let e=this._cachedMeta,r=e.dataset,i=r.options&&r.options.borderWidth||0,o=e.data||[];if(!o.length)return i;let s=o[0].size(this.resolveDataElementOptions(0)),a=o[o.length-1].size(this.resolveDataElementOptions(o.length-1));return Math.max(i,s,a)/2}draw(){let e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}return t})(),YT=(()=>{class t extends Ii{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){let r=e.data;if(r.labels.length&&r.datasets.length){let{labels:{pointStyle:i,color:o}}=e.legend.options;return r.labels.map((s,a)=>{let l=e.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:o,lineWidth:l.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,r,i){i.chart.toggleDataVisibility(r.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(e,r){super(e,r),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){let r=this._cachedMeta,i=this.chart,o=i.data.labels||[],s=na(r._parsed[e].r,i.options.locale);return{label:o[e]||"",value:s}}parseObjectData(e,r,i,o){return bb.bind(this)(e,r,i,o)}update(e){let r=this._cachedMeta.data;this._updateRadius(),this.updateElements(r,0,r.length,e)}getMinMax(){let e=this._cachedMeta,r={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((i,o)=>{let s=this.getParsed(o).r;!isNaN(s)&&this.chart.getDataVisibility(o)&&(s<r.min&&(r.min=s),s>r.max&&(r.max=s))}),r}_updateRadius(){let e=this.chart,r=e.chartArea,i=e.options,o=Math.min(r.right-r.left,r.bottom-r.top),s=Math.max(o/2,0),a=Math.max(i.cutoutPercentage?s/100*i.cutoutPercentage:1,0),c=(s-a)/e.getVisibleDatasetCount();this.outerRadius=s-c*this.index,this.innerRadius=this.outerRadius-c}updateElements(e,r,i,o){let s=o==="reset",a=this.chart,l=a.options.animation,u=this._cachedMeta.rScale,d=u.xCenter,f=u.yCenter,h=u.getIndexAngle(0)-.5*se,p=h,g,m=360/this.countVisibleElements();for(g=0;g<r;++g)p+=this._computeAngle(g,o,m);for(g=r;g<r+i;g++){let y=e[g],v=p,_=p+this._computeAngle(g,o,m),b=a.getDataVisibility(g)?u.getDistanceFromCenterForValue(this.getParsed(g).r):0;p=_,s&&(l.animateScale&&(b=0),l.animateRotate&&(v=_=h));let w={x:d,y:f,innerRadius:0,outerRadius:b,startAngle:v,endAngle:_,options:this.resolveDataElementOptions(g,y.active?"active":o)};this.updateElement(y,g,w,o)}}countVisibleElements(){let e=this._cachedMeta,r=0;return e.data.forEach((i,o)=>{!isNaN(this.getParsed(o).r)&&this.chart.getDataVisibility(o)&&r++}),r}_computeAngle(e,r,i){return this.chart.getDataVisibility(e)?yn(this.resolveDataElementOptions(e,r).angle||i):0}}return t})(),NU=(()=>{class t extends o_{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}return t})(),PU=(()=>{class t extends Ii{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(e){let r=this._cachedMeta.vScale,i=this.getParsed(e);return{label:r.getLabels()[e],value:""+r.getLabelForValue(i[r.axis])}}parseObjectData(e,r,i,o){return bb.bind(this)(e,r,i,o)}update(e){let r=this._cachedMeta,i=r.dataset,o=r.data||[],s=r.iScale.getLabels();if(i.points=o,e!=="resize"){let a=this.resolveDatasetElementOptions(e);this.options.showLine||(a.borderWidth=0);let c={_loop:!0,_fullLoop:s.length===o.length,options:a};this.updateElement(i,void 0,c,e)}this.updateElements(o,0,o.length,e)}updateElements(e,r,i,o){let s=this._cachedMeta.rScale,a=o==="reset";for(let c=r;c<r+i;c++){let l=e[c],u=this.resolveDataElementOptions(c,l.active?"active":o),d=s.getPointPositionForValue(c,this.getParsed(c).r),f=a?s.xCenter:d.x,h=a?s.yCenter:d.y,p={x:f,y:h,angle:d.angle,skip:isNaN(f)||isNaN(h),options:u};this.updateElement(l,c,p,o)}}}return t})(),FU=(()=>{class t extends Ii{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(e){let r=this._cachedMeta,i=this.chart.data.labels||[],{xScale:o,yScale:s}=r,a=this.getParsed(e),c=o.getLabelForValue(a.x),l=s.getLabelForValue(a.y);return{label:i[e]||"",value:"("+c+", "+l+")"}}update(e){let r=this._cachedMeta,{data:i=[]}=r,o=this.chart._animationsDisabled,{start:s,count:a}=lb(r,i,o);if(this._drawStart=s,this._drawCount=a,ub(r)&&(s=0,a=i.length),this.options.showLine){this.datasetElementType||this.addElements();let{dataset:c,_dataset:l}=r;c._chart=this.chart,c._datasetIndex=this.index,c._decimated=!!l._decimated,c.points=i;let u=this.resolveDatasetElementOptions(e);u.segment=this.options.segment,this.updateElement(c,void 0,{animated:!o,options:u},e)}else this.datasetElementType&&(delete r.dataset,this.datasetElementType=!1);this.updateElements(i,s,a,e)}addElements(){let{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,r,i,o){let s=o==="reset",{iScale:a,vScale:c,_stacked:l,_dataset:u}=this._cachedMeta,d=this.resolveDataElementOptions(r,o),f=this.getSharedOptions(d),h=this.includeOptions(o,f),p=a.axis,g=c.axis,{spanGaps:m,segment:y}=this.options,v=Fo(m)?m:Number.POSITIVE_INFINITY,_=this.chart._animationsDisabled||s||o==="none",b=r>0&&this.getParsed(r-1);for(let w=r;w<r+i;++w){let D=e[w],x=this.getParsed(w),C=_?D:{},N=J(x[g]),B=C[p]=a.getPixelForValue(x[p],w),K=C[g]=s||N?c.getBasePixel():c.getPixelForValue(l?this.applyStack(c,x,l):x[g],w);C.skip=isNaN(B)||isNaN(K)||N,C.stop=w>0&&Math.abs(x[p]-b[p])>v,y&&(C.parsed=x,C.raw=u.data[w]),h&&(C.options=f||this.resolveDataElementOptions(w,D.active?"active":o)),_||this.updateElement(D,w,C,o),b=x}this.updateSharedOptions(f,o,d)}getMaxOverflow(){let e=this._cachedMeta,r=e.data||[];if(!this.options.showLine){let c=0;for(let l=r.length-1;l>=0;--l)c=Math.max(c,r[l].size(this.resolveDataElementOptions(l))/2);return c>0&&c}let i=e.dataset,o=i.options&&i.options.borderWidth||0;if(!r.length)return o;let s=r[0].size(this.resolveDataElementOptions(0)),a=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(o,s,a)/2}}return t})(),LU=Object.freeze({__proto__:null,BarController:AU,BubbleController:kU,DoughnutController:o_,LineController:OU,PieController:NU,PolarAreaController:YT,RadarController:PU,ScatterController:FU});function jo(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var Bb=class t{static override(n){Object.assign(t.prototype,n)}options;constructor(n){this.options=n||{}}init(){}formats(){return jo()}parse(){return jo()}format(){return jo()}add(){return jo()}diff(){return jo()}startOf(){return jo()}endOf(){return jo()}},jU={_date:Bb};function VU(t,n,e,r){let{controller:i,data:o,_sorted:s}=t,a=i._cachedMeta.iScale,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(a&&n===a.axis&&n!=="r"&&s&&o.length){let l=a._reversePixels?xS:nr;if(r){if(i._sharedOptions){let u=o[0],d=typeof u.getRange=="function"&&u.getRange(n);if(d){let f=l(o,n,e-d),h=l(o,n,e+d);return{lo:f.lo,hi:h.hi}}}}else{let u=l(o,n,e);if(c){let{vScale:d}=i._cachedMeta,{_parsed:f}=t,h=f.slice(0,u.lo+1).reverse().findIndex(g=>!J(g[d.axis]));u.lo-=Math.max(0,h);let p=f.slice(u.hi).findIndex(g=>!J(g[d.axis]));u.hi+=Math.max(0,p)}return u}}return{lo:0,hi:o.length-1}}function Ol(t,n,e,r,i){let o=t.getSortedVisibleDatasetMetas(),s=e[n];for(let a=0,c=o.length;a<c;++a){let{index:l,data:u}=o[a],{lo:d,hi:f}=VU(o[a],n,s,i);for(let h=d;h<=f;++h){let p=u[h];p.skip||r(p,l,h)}}}function BU(t){let n=t.indexOf("x")!==-1,e=t.indexOf("y")!==-1;return function(r,i){let o=n?Math.abs(r.x-i.x):0,s=e?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(s,2))}}function kb(t,n,e,r,i){let o=[];return!i&&!t.isPointInArea(n)||Ol(t,e,n,function(a,c,l){!i&&!rr(a,t.chartArea,0)||a.inRange(n.x,n.y,r)&&o.push({element:a,datasetIndex:c,index:l})},!0),o}function UU(t,n,e,r){let i=[];function o(s,a,c){let{startAngle:l,endAngle:u}=s.getProps(["startAngle","endAngle"],r),{angle:d}=ib(s,{x:n.x,y:n.y});ta(d,l,u)&&i.push({element:s,datasetIndex:a,index:c})}return Ol(t,e,n,o),i}function $U(t,n,e,r,i,o){let s=[],a=BU(e),c=Number.POSITIVE_INFINITY;function l(u,d,f){let h=u.inRange(n.x,n.y,i);if(r&&!h)return;let p=u.getCenterPoint(i);if(!(!!o||t.isPointInArea(p))&&!h)return;let m=a(n,p);m<c?(s=[{element:u,datasetIndex:d,index:f}],c=m):m===c&&s.push({element:u,datasetIndex:d,index:f})}return Ol(t,e,n,l),s}function Rb(t,n,e,r,i,o){return!o&&!t.isPointInArea(n)?[]:e==="r"&&!r?UU(t,n,e,i):$U(t,n,e,r,i,o)}function nT(t,n,e,r,i){let o=[],s=e==="x"?"inXRange":"inYRange",a=!1;return Ol(t,e,n,(c,l,u)=>{c[s]&&c[s](n[e],i)&&(o.push({element:c,datasetIndex:l,index:u}),a=a||c.inRange(n.x,n.y,i))}),r&&!a?[]:o}var HU={evaluateInteractionItems:Ol,modes:{index(t,n,e,r){let i=Ci(n,t),o=e.axis||"x",s=e.includeInvisible||!1,a=e.intersect?kb(t,i,o,r,s):Rb(t,i,o,!1,r,s),c=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(l=>{let u=a[0].index,d=l.data[u];d&&!d.skip&&c.push({element:d,datasetIndex:l.index,index:u})}),c):[]},dataset(t,n,e,r){let i=Ci(n,t),o=e.axis||"xy",s=e.includeInvisible||!1,a=e.intersect?kb(t,i,o,r,s):Rb(t,i,o,!1,r,s);if(a.length>0){let c=a[0].datasetIndex,l=t.getDatasetMeta(c).data;a=[];for(let u=0;u<l.length;++u)a.push({element:l[u],datasetIndex:c,index:u})}return a},point(t,n,e,r){let i=Ci(n,t),o=e.axis||"xy",s=e.includeInvisible||!1;return kb(t,i,o,r,s)},nearest(t,n,e,r){let i=Ci(n,t),o=e.axis||"xy",s=e.includeInvisible||!1;return Rb(t,i,o,e.intersect,r,s)},x(t,n,e,r){let i=Ci(n,t);return nT(t,i,"x",e.intersect,r)},y(t,n,e,r){let i=Ci(n,t);return nT(t,i,"y",e.intersect,r)}}},ZT=["left","top","right","bottom"];function Cl(t,n){return t.filter(e=>e.pos===n)}function rT(t,n){return t.filter(e=>ZT.indexOf(e.pos)===-1&&e.box.axis===n)}function xl(t,n){return t.sort((e,r)=>{let i=n?r:e,o=n?e:r;return i.weight===o.weight?i.index-o.index:i.weight-o.weight})}function zU(t){let n=[],e,r,i,o,s,a;for(e=0,r=(t||[]).length;e<r;++e)i=t[e],{position:o,options:{stack:s,stackWeight:a=1}}=i,n.push({index:e,box:i,pos:o,horizontal:i.isHorizontal(),weight:i.weight,stack:s&&o+s,stackWeight:a});return n}function WU(t){let n={};for(let e of t){let{stack:r,pos:i,stackWeight:o}=e;if(!r||!ZT.includes(i))continue;let s=n[r]||(n[r]={count:0,placed:0,weight:0,size:0});s.count++,s.weight+=o}return n}function GU(t,n){let e=WU(t),{vBoxMaxWidth:r,hBoxMaxHeight:i}=n,o,s,a;for(o=0,s=t.length;o<s;++o){a=t[o];let{fullSize:c}=a.box,l=e[a.stack],u=l&&a.stackWeight/l.weight;a.horizontal?(a.width=u?u*r:c&&n.availableWidth,a.height=i):(a.width=r,a.height=u?u*i:c&&n.availableHeight)}return e}function qU(t){let n=zU(t),e=xl(n.filter(l=>l.box.fullSize),!0),r=xl(Cl(n,"left"),!0),i=xl(Cl(n,"right")),o=xl(Cl(n,"top"),!0),s=xl(Cl(n,"bottom")),a=rT(n,"x"),c=rT(n,"y");return{fullSize:e,leftAndTop:r.concat(o),rightAndBottom:i.concat(c).concat(s).concat(a),chartArea:Cl(n,"chartArea"),vertical:r.concat(i).concat(c),horizontal:o.concat(s).concat(a)}}function iT(t,n,e,r){return Math.max(t[e],n[e])+Math.max(t[r],n[r])}function JT(t,n){t.top=Math.max(t.top,n.top),t.left=Math.max(t.left,n.left),t.bottom=Math.max(t.bottom,n.bottom),t.right=Math.max(t.right,n.right)}function KU(t,n,e,r){let{pos:i,box:o}=e,s=t.maxPadding;if(!ee(i)){e.size&&(t[i]-=e.size);let d=r[e.stack]||{size:0,count:1};d.size=Math.max(d.size,e.horizontal?o.height:o.width),e.size=d.size/d.count,t[i]+=e.size}o.getPadding&&JT(s,o.getPadding());let a=Math.max(0,n.outerWidth-iT(s,t,"left","right")),c=Math.max(0,n.outerHeight-iT(s,t,"top","bottom")),l=a!==t.w,u=c!==t.h;return t.w=a,t.h=c,e.horizontal?{same:l,other:u}:{same:u,other:l}}function YU(t){let n=t.maxPadding;function e(r){let i=Math.max(n[r]-t[r],0);return t[r]+=i,i}t.y+=e("top"),t.x+=e("left"),e("right"),e("bottom")}function ZU(t,n){let e=n.maxPadding;function r(i){let o={left:0,top:0,right:0,bottom:0};return i.forEach(s=>{o[s]=Math.max(n[s],e[s])}),o}return r(t?["left","right"]:["top","bottom"])}function Tl(t,n,e,r){let i=[],o,s,a,c,l,u;for(o=0,s=t.length,l=0;o<s;++o){a=t[o],c=a.box,c.update(a.width||n.w,a.height||n.h,ZU(a.horizontal,n));let{same:d,other:f}=KU(n,e,a,r);l|=d&&i.length,u=u||f,c.fullSize||i.push(a)}return l&&Tl(i,n,e,r)||u}function hh(t,n,e,r,i){t.top=e,t.left=n,t.right=n+r,t.bottom=e+i,t.width=r,t.height=i}function oT(t,n,e,r){let i=e.padding,{x:o,y:s}=n;for(let a of t){let c=a.box,l=r[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/l.weight||1;if(a.horizontal){let d=n.w*u,f=l.size||c.height;Xs(l.start)&&(s=l.start),c.fullSize?hh(c,i.left,s,e.outerWidth-i.right-i.left,f):hh(c,n.left+l.placed,s,d,f),l.start=s,l.placed+=d,s=c.bottom}else{let d=n.h*u,f=l.size||c.width;Xs(l.start)&&(o=l.start),c.fullSize?hh(c,o,i.top,f,e.outerHeight-i.bottom-i.top):hh(c,o,n.top+l.placed,f,d),l.start=o,l.placed+=d,o=c.right}}n.x=o,n.y=s}var wt={addBox(t,n){t.boxes||(t.boxes=[]),n.fullSize=n.fullSize||!1,n.position=n.position||"top",n.weight=n.weight||0,n._layers=n._layers||function(){return[{z:0,draw(e){n.draw(e)}}]},t.boxes.push(n)},removeBox(t,n){let e=t.boxes?t.boxes.indexOf(n):-1;e!==-1&&t.boxes.splice(e,1)},configure(t,n,e){n.fullSize=e.fullSize,n.position=e.position,n.weight=e.weight},update(t,n,e,r){if(!t)return;let i=mt(t.options.layout.padding),o=Math.max(n-i.width,0),s=Math.max(e-i.height,0),a=qU(t.boxes),c=a.vertical,l=a.horizontal;de(t.boxes,g=>{typeof g.beforeLayout=="function"&&g.beforeLayout()});let u=c.reduce((g,m)=>m.box.options&&m.box.options.display===!1?g:g+1,0)||1,d=Object.freeze({outerWidth:n,outerHeight:e,padding:i,availableWidth:o,availableHeight:s,vBoxMaxWidth:o/2/u,hBoxMaxHeight:s/2}),f=Object.assign({},i);JT(f,mt(r));let h=Object.assign({maxPadding:f,w:o,h:s,x:i.left,y:i.top},i),p=GU(c.concat(l),d);Tl(a.fullSize,h,d,p),Tl(c,h,d,p),Tl(l,h,d,p)&&Tl(c,h,d,p),YU(h),oT(a.leftAndTop,h,d,p),h.x+=h.w,h.y+=h.h,oT(a.rightAndBottom,h,d,p),t.chartArea={left:h.left,top:h.top,right:h.left+h.w,bottom:h.top+h.h,height:h.h,width:h.w},de(a.chartArea,g=>{let m=g.box;Object.assign(m,t.chartArea),m.update(h.w,h.h,{left:0,top:0,right:0,bottom:0})})}},Eh=class{acquireContext(n,e){}releaseContext(n){return!1}addEventListener(n,e,r){}removeEventListener(n,e,r){}getDevicePixelRatio(){return 1}getMaximumSize(n,e,r,i){return e=Math.max(0,e||n.width),r=r||n.height,{width:e,height:Math.max(0,i?Math.floor(e/i):r)}}isAttached(n){return!0}updateConfig(n){}},Ub=class extends Eh{acquireContext(n){return n&&n.getContext&&n.getContext("2d")||null}updateConfig(n){n.options.animation=!1}},bh="$chartjs",JU={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},sT=t=>t===null||t==="";function QU(t,n){let e=t.style,r=t.getAttribute("height"),i=t.getAttribute("width");if(t[bh]={initial:{height:r,width:i,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",sT(i)){let o=wb(t,"width");o!==void 0&&(t.width=o)}if(sT(r))if(t.style.height==="")t.height=t.width/(n||2);else{let o=wb(t,"height");o!==void 0&&(t.height=o)}return t}var QT=$S?{passive:!0}:!1;function XU(t,n,e){t&&t.addEventListener(n,e,QT)}function e$(t,n,e){t&&t.canvas&&t.canvas.removeEventListener(n,e,QT)}function t$(t,n){let e=JU[t.type]||t.type,{x:r,y:i}=Ci(t,n);return{type:e,chart:n,native:t,x:r!==void 0?r:null,y:i!==void 0?i:null}}function Dh(t,n){for(let e of t)if(e===n||e.contains(n))return!0}function n$(t,n,e){let r=t.canvas,i=new MutationObserver(o=>{let s=!1;for(let a of o)s=s||Dh(a.addedNodes,r),s=s&&!Dh(a.removedNodes,r);s&&e()});return i.observe(document,{childList:!0,subtree:!0}),i}function r$(t,n,e){let r=t.canvas,i=new MutationObserver(o=>{let s=!1;for(let a of o)s=s||Dh(a.removedNodes,r),s=s&&!Dh(a.addedNodes,r);s&&e()});return i.observe(document,{childList:!0,subtree:!0}),i}var Al=new Map,aT=0;function XT(){let t=window.devicePixelRatio;t!==aT&&(aT=t,Al.forEach((n,e)=>{e.currentDevicePixelRatio!==t&&n()}))}function i$(t,n){Al.size||window.addEventListener("resize",XT),Al.set(t,n)}function o$(t){Al.delete(t),Al.size||window.removeEventListener("resize",XT)}function s$(t,n,e){let r=t.canvas,i=r&&dh(r);if(!i)return;let o=cb((a,c)=>{let l=i.clientWidth;e(a,c),l<i.clientWidth&&e()},window),s=new ResizeObserver(a=>{let c=a[0],l=c.contentRect.width,u=c.contentRect.height;l===0&&u===0||o(l,u)});return s.observe(i),i$(t,o),s}function Ob(t,n,e){e&&e.disconnect(),n==="resize"&&o$(t)}function a$(t,n,e){let r=t.canvas,i=cb(o=>{t.ctx!==null&&e(t$(o,t))},t);return XU(r,n,i),i}var $b=class extends Eh{acquireContext(n,e){let r=n&&n.getContext&&n.getContext("2d");return r&&r.canvas===n?(QU(n,e),r):null}releaseContext(n){let e=n.canvas;if(!e[bh])return!1;let r=e[bh].initial;["height","width"].forEach(o=>{let s=r[o];J(s)?e.removeAttribute(o):e.setAttribute(o,s)});let i=r.style||{};return Object.keys(i).forEach(o=>{e.style[o]=i[o]}),e.width=e.width,delete e[bh],!0}addEventListener(n,e,r){this.removeEventListener(n,e);let i=n.$proxies||(n.$proxies={}),s={attach:n$,detach:r$,resize:s$}[e]||a$;i[e]=s(n,e,r)}removeEventListener(n,e){let r=n.$proxies||(n.$proxies={}),i=r[e];if(!i)return;({attach:Ob,detach:Ob,resize:Ob}[e]||e$)(n,e,i),r[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(n,e,r,i){return US(n,e,r,i)}isAttached(n){let e=n&&dh(n);return!!(e&&e.isConnected)}};function c$(t){return!uh()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?Ub:$b}var Bn=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(n){let{x:e,y:r}=this.getProps(["x","y"],n);return{x:e,y:r}}hasValue(){return Fo(this.x)&&Fo(this.y)}getProps(n,e){let r=this.$animations;if(!e||!r)return this;let i={};return n.forEach(o=>{i[o]=r[o]&&r[o].active()?r[o]._to:this[o]}),i}};function l$(t,n){let e=t.options.ticks,r=u$(t),i=Math.min(e.maxTicksLimit||r,r),o=e.major.enabled?f$(n):[],s=o.length,a=o[0],c=o[s-1],l=[];if(s>i)return h$(n,l,o,s/i),l;let u=d$(o,n,i);if(s>0){let d,f,h=s>1?Math.round((c-a)/(s-1)):null;for(ph(n,l,u,J(h)?0:a-h,a),d=0,f=s-1;d<f;d++)ph(n,l,u,o[d],o[d+1]);return ph(n,l,u,c,J(h)?n.length:c+h),l}return ph(n,l,u),l}function u$(t){let n=t.options.offset,e=t._tickSize(),r=t._length/e+(n?0:1),i=t._maxLength/e;return Math.floor(Math.min(r,i))}function d$(t,n,e){let r=p$(t),i=n.length/e;if(!r)return Math.max(i,1);let o=ES(r);for(let s=0,a=o.length-1;s<a;s++){let c=o[s];if(c>i)return c}return Math.max(i,1)}function f$(t){let n=[],e,r;for(e=0,r=t.length;e<r;e++)t[e].major&&n.push(e);return n}function h$(t,n,e,r){let i=0,o=e[0],s;for(r=Math.ceil(r),s=0;s<t.length;s++)s===o&&(n.push(t[s]),i++,o=e[i*r])}function ph(t,n,e,r,i){let o=z(r,0),s=Math.min(z(i,t.length),t.length),a=0,c,l,u;for(e=Math.ceil(e),i&&(c=i-r,e=c/Math.floor(c/e)),u=o;u<0;)a++,u=Math.round(o+a*e);for(l=Math.max(o,0);l<s;l++)l===u&&(n.push(t[l]),a++,u=Math.round(o+a*e))}function p$(t){let n=t.length,e,r;if(n<2)return!1;for(r=t[0],e=1;e<n;++e)if(t[e]-t[e-1]!==r)return!1;return r}var g$=t=>t==="left"?"right":t==="right"?"left":t,cT=(t,n,e)=>n==="top"||n==="left"?t[n]+e:t[n]-e,lT=(t,n)=>Math.min(n||t,t);function uT(t,n){let e=[],r=t.length/n,i=t.length,o=0;for(;o<i;o+=r)e.push(t[Math.floor(o)]);return e}function m$(t,n,e){let r=t.ticks.length,i=Math.min(n,r-1),o=t._startPixel,s=t._endPixel,a=1e-6,c=t.getPixelForTick(i),l;if(!(e&&(r===1?l=Math.max(c-o,s-c):n===0?l=(t.getPixelForTick(1)-c)/2:l=(c-t.getPixelForTick(i-1))/2,c+=i<n?l:-l,c<o-a||c>s+a)))return c}function y$(t,n){de(t,e=>{let r=e.gc,i=r.length/2,o;if(i>n){for(o=0;o<i;++o)delete e.data[r[o]];r.splice(0,i)}})}function Il(t){return t.drawTicks?t.tickLength:0}function dT(t,n){if(!t.display)return 0;let e=qe(t.font,n),r=mt(t.padding);return(_e(t.text)?t.text.length:1)*e.lineHeight+r.height}function v$(t,n){return Vr(t,{scale:n,type:"scale"})}function b$(t,n,e){return Vr(t,{tick:e,index:n,type:"tick"})}function _$(t,n,e){let r=oh(t);return(e&&n!=="right"||!e&&n==="right")&&(r=g$(r)),r}function w$(t,n,e,r){let{top:i,left:o,bottom:s,right:a,chart:c}=t,{chartArea:l,scales:u}=c,d=0,f,h,p,g=s-i,m=a-o;if(t.isHorizontal()){if(h=gt(r,o,a),ee(e)){let y=Object.keys(e)[0],v=e[y];p=u[y].getPixelForValue(v)+g-n}else e==="center"?p=(l.bottom+l.top)/2+g-n:p=cT(t,e,n);f=a-o}else{if(ee(e)){let y=Object.keys(e)[0],v=e[y];h=u[y].getPixelForValue(v)-m+n}else e==="center"?h=(l.left+l.right)/2-m+n:h=cT(t,e,n);p=gt(r,s,i),d=e==="left"?-$e:$e}return{titleX:h,titleY:p,maxWidth:f,rotation:d}}var Bo=class t extends Bn{constructor(n){super(),this.id=n.id,this.type=n.type,this.options=void 0,this.ctx=n.ctx,this.chart=n.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(n){this.options=n.setContext(this.getContext()),this.axis=n.axis,this._userMin=this.parse(n.min),this._userMax=this.parse(n.max),this._suggestedMin=this.parse(n.suggestedMin),this._suggestedMax=this.parse(n.suggestedMax)}parse(n,e){return n}getUserBounds(){let{_userMin:n,_userMax:e,_suggestedMin:r,_suggestedMax:i}=this;return n=jt(n,Number.POSITIVE_INFINITY),e=jt(e,Number.NEGATIVE_INFINITY),r=jt(r,Number.POSITIVE_INFINITY),i=jt(i,Number.NEGATIVE_INFINITY),{min:jt(n,r),max:jt(e,i),minDefined:Le(n),maxDefined:Le(e)}}getMinMax(n){let{min:e,max:r,minDefined:i,maxDefined:o}=this.getUserBounds(),s;if(i&&o)return{min:e,max:r};let a=this.getMatchingVisibleMetas();for(let c=0,l=a.length;c<l;++c)s=a[c].controller.getMinMax(this,n),i||(e=Math.min(e,s.min)),o||(r=Math.max(r,s.max));return e=o&&e>r?r:e,r=i&&e>r?e:r,{min:jt(e,jt(r,e)),max:jt(r,jt(e,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let n=this.chart.data;return this.options.labels||(this.isHorizontal()?n.xLabels:n.yLabels)||n.labels||[]}getLabelItems(n=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(n))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ve(this.options.beforeUpdate,[this])}update(n,e,r){let{beginAtZero:i,grace:o,ticks:s}=this.options,a=s.sampleSize;this.beforeUpdate(),this.maxWidth=n,this.maxHeight=e,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=PS(this,o,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let c=a<this.ticks.length;this._convertTicksToLabels(c?uT(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),s.display&&(s.autoSkip||s.source==="auto")&&(this.ticks=l$(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let n=this.options.reverse,e,r;this.isHorizontal()?(e=this.left,r=this.right):(e=this.top,r=this.bottom,n=!n),this._startPixel=e,this._endPixel=r,this._reversePixels=n,this._length=r-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ve(this.options.afterUpdate,[this])}beforeSetDimensions(){ve(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ve(this.options.afterSetDimensions,[this])}_callHooks(n){this.chart.notifyPlugins(n,this.getContext()),ve(this.options[n],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ve(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(n){let e=this.options.ticks,r,i,o;for(r=0,i=n.length;r<i;r++)o=n[r],o.label=ve(e.callback,[o.value,r,n],this)}afterTickToLabelConversion(){ve(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ve(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let n=this.options,e=n.ticks,r=lT(this.ticks.length,n.ticks.maxTicksLimit),i=e.minRotation||0,o=e.maxRotation,s=i,a,c,l;if(!this._isVisible()||!e.display||i>=o||r<=1||!this.isHorizontal()){this.labelRotation=i;return}let u=this._getLabelSizes(),d=u.widest.width,f=u.highest.height,h=Xe(this.chart.width-d,0,this.maxWidth);a=n.offset?this.maxWidth/r:h/(r-1),d+6>a&&(a=h/(r-(n.offset?.5:1)),c=this.maxHeight-Il(n.grid)-e.padding-dT(n.title,this.chart.options.font),l=Math.sqrt(d*d+f*f),s=rh(Math.min(Math.asin(Xe((u.highest.height+6)/a,-1,1)),Math.asin(Xe(c/l,-1,1))-Math.asin(Xe(f/l,-1,1)))),s=Math.max(i,Math.min(o,s))),this.labelRotation=s}afterCalculateLabelRotation(){ve(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ve(this.options.beforeFit,[this])}fit(){let n={width:0,height:0},{chart:e,options:{ticks:r,title:i,grid:o}}=this,s=this._isVisible(),a=this.isHorizontal();if(s){let c=dT(i,e.options.font);if(a?(n.width=this.maxWidth,n.height=Il(o)+c):(n.height=this.maxHeight,n.width=Il(o)+c),r.display&&this.ticks.length){let{first:l,last:u,widest:d,highest:f}=this._getLabelSizes(),h=r.padding*2,p=yn(this.labelRotation),g=Math.cos(p),m=Math.sin(p);if(a){let y=r.mirror?0:m*d.width+g*f.height;n.height=Math.min(this.maxHeight,n.height+y+h)}else{let y=r.mirror?0:g*d.width+m*f.height;n.width=Math.min(this.maxWidth,n.width+y+h)}this._calculatePadding(l,u,m,g)}}this._handleMargins(),a?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=n.height):(this.width=n.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(n,e,r,i){let{ticks:{align:o,padding:s},position:a}=this.options,c=this.labelRotation!==0,l=a!=="top"&&this.axis==="x";if(this.isHorizontal()){let u=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1),f=0,h=0;c?l?(f=i*n.width,h=r*e.height):(f=r*n.height,h=i*e.width):o==="start"?h=e.width:o==="end"?f=n.width:o!=="inner"&&(f=n.width/2,h=e.width/2),this.paddingLeft=Math.max((f-u+s)*this.width/(this.width-u),0),this.paddingRight=Math.max((h-d+s)*this.width/(this.width-d),0)}else{let u=e.height/2,d=n.height/2;o==="start"?(u=0,d=n.height):o==="end"&&(u=e.height,d=0),this.paddingTop=u+s,this.paddingBottom=d+s}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ve(this.options.afterFit,[this])}isHorizontal(){let{axis:n,position:e}=this.options;return e==="top"||e==="bottom"||n==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(n){this.beforeTickToLabelConversion(),this.generateTickLabels(n);let e,r;for(e=0,r=n.length;e<r;e++)J(n[e].label)&&(n.splice(e,1),r--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let n=this._labelSizes;if(!n){let e=this.options.ticks.sampleSize,r=this.ticks;e<r.length&&(r=uT(r,e)),this._labelSizes=n=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return n}_computeLabelSizes(n,e,r){let{ctx:i,_longestTextCache:o}=this,s=[],a=[],c=Math.floor(e/lT(e,r)),l=0,u=0,d,f,h,p,g,m,y,v,_,b,w;for(d=0;d<e;d+=c){if(p=n[d].label,g=this._resolveTickFontOptions(d),i.font=m=g.string,y=o[m]=o[m]||{data:{},gc:[]},v=g.lineHeight,_=b=0,!J(p)&&!_e(p))_=vl(i,y.data,y.gc,_,p),b=v;else if(_e(p))for(f=0,h=p.length;f<h;++f)w=p[f],!J(w)&&!_e(w)&&(_=vl(i,y.data,y.gc,_,w),b+=v);s.push(_),a.push(b),l=Math.max(_,l),u=Math.max(b,u)}y$(o,e);let D=s.indexOf(l),x=a.indexOf(u),C=N=>({width:s[N]||0,height:a[N]||0});return{first:C(0),last:C(e-1),widest:C(D),highest:C(x),widths:s,heights:a}}getLabelForValue(n){return n}getPixelForValue(n,e){return NaN}getValueForPixel(n){}getPixelForTick(n){let e=this.ticks;return n<0||n>e.length-1?null:this.getPixelForValue(e[n].value)}getPixelForDecimal(n){this._reversePixels&&(n=1-n);let e=this._startPixel+n*this._length;return CS(this._alignToPixels?wi(this.chart,e,0):e)}getDecimalForPixel(n){let e=(n-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:n,max:e}=this;return n<0&&e<0?e:n>0&&e>0?n:0}getContext(n){let e=this.ticks||[];if(n>=0&&n<e.length){let r=e[n];return r.$context||(r.$context=b$(this.getContext(),n,r))}return this.$context||(this.$context=v$(this.chart.getContext(),this))}_tickSize(){let n=this.options.ticks,e=yn(this.labelRotation),r=Math.abs(Math.cos(e)),i=Math.abs(Math.sin(e)),o=this._getLabelSizes(),s=n.autoSkipPadding||0,a=o?o.widest.width+s:0,c=o?o.highest.height+s:0;return this.isHorizontal()?c*r>a*i?a/r:c/i:c*i<a*r?c/r:a/i}_isVisible(){let n=this.options.display;return n!=="auto"?!!n:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(n){let e=this.axis,r=this.chart,i=this.options,{grid:o,position:s,border:a}=i,c=o.offset,l=this.isHorizontal(),d=this.ticks.length+(c?1:0),f=Il(o),h=[],p=a.setContext(this.getContext()),g=p.display?p.width:0,m=g/2,y=function(Te){return wi(r,Te,g)},v,_,b,w,D,x,C,N,B,K,te,ct;if(s==="top")v=y(this.bottom),x=this.bottom-f,N=v-m,K=y(n.top)+m,ct=n.bottom;else if(s==="bottom")v=y(this.top),K=n.top,ct=y(n.bottom)-m,x=v+m,N=this.top+f;else if(s==="left")v=y(this.right),D=this.right-f,C=v-m,B=y(n.left)+m,te=n.right;else if(s==="right")v=y(this.left),B=n.left,te=y(n.right)-m,D=v+m,C=this.left+f;else if(e==="x"){if(s==="center")v=y((n.top+n.bottom)/2+.5);else if(ee(s)){let Te=Object.keys(s)[0],He=s[Te];v=y(this.chart.scales[Te].getPixelForValue(He))}K=n.top,ct=n.bottom,x=v+m,N=x+f}else if(e==="y"){if(s==="center")v=y((n.left+n.right)/2);else if(ee(s)){let Te=Object.keys(s)[0],He=s[Te];v=y(this.chart.scales[Te].getPixelForValue(He))}D=v-m,C=D-f,B=n.left,te=n.right}let Ht=z(i.ticks.maxTicksLimit,d),pe=Math.max(1,Math.ceil(d/Ht));for(_=0;_<d;_+=pe){let Te=this.getContext(_),He=o.setContext(Te),En=a.setContext(Te),yt=He.lineWidth,is=He.color,gu=En.dash||[],os=En.dashOffset,Ka=He.tickWidth,qi=He.tickColor,Ya=He.tickBorderDash||[],Ki=He.tickBorderDashOffset;b=m$(this,_,c),b!==void 0&&(w=wi(r,b,yt),l?D=C=B=te=w:x=N=K=ct=w,h.push({tx1:D,ty1:x,tx2:C,ty2:N,x1:B,y1:K,x2:te,y2:ct,width:yt,color:is,borderDash:gu,borderDashOffset:os,tickWidth:Ka,tickColor:qi,tickBorderDash:Ya,tickBorderDashOffset:Ki}))}return this._ticksLength=d,this._borderValue=v,h}_computeLabelItems(n){let e=this.axis,r=this.options,{position:i,ticks:o}=r,s=this.isHorizontal(),a=this.ticks,{align:c,crossAlign:l,padding:u,mirror:d}=o,f=Il(r.grid),h=f+u,p=d?-u:h,g=-yn(this.labelRotation),m=[],y,v,_,b,w,D,x,C,N,B,K,te,ct="middle";if(i==="top")D=this.bottom-p,x=this._getXAxisLabelAlignment();else if(i==="bottom")D=this.top+p,x=this._getXAxisLabelAlignment();else if(i==="left"){let pe=this._getYAxisLabelAlignment(f);x=pe.textAlign,w=pe.x}else if(i==="right"){let pe=this._getYAxisLabelAlignment(f);x=pe.textAlign,w=pe.x}else if(e==="x"){if(i==="center")D=(n.top+n.bottom)/2+h;else if(ee(i)){let pe=Object.keys(i)[0],Te=i[pe];D=this.chart.scales[pe].getPixelForValue(Te)+h}x=this._getXAxisLabelAlignment()}else if(e==="y"){if(i==="center")w=(n.left+n.right)/2-h;else if(ee(i)){let pe=Object.keys(i)[0],Te=i[pe];w=this.chart.scales[pe].getPixelForValue(Te)}x=this._getYAxisLabelAlignment(f).textAlign}e==="y"&&(c==="start"?ct="top":c==="end"&&(ct="bottom"));let Ht=this._getLabelSizes();for(y=0,v=a.length;y<v;++y){_=a[y],b=_.label;let pe=o.setContext(this.getContext(y));C=this.getPixelForTick(y)+o.labelOffset,N=this._resolveTickFontOptions(y),B=N.lineHeight,K=_e(b)?b.length:1;let Te=K/2,He=pe.color,En=pe.textStrokeColor,yt=pe.textStrokeWidth,is=x;s?(w=C,x==="inner"&&(y===v-1?is=this.options.reverse?"left":"right":y===0?is=this.options.reverse?"right":"left":is="center"),i==="top"?l==="near"||g!==0?te=-K*B+B/2:l==="center"?te=-Ht.highest.height/2-Te*B+B:te=-Ht.highest.height+B/2:l==="near"||g!==0?te=B/2:l==="center"?te=Ht.highest.height/2-Te*B:te=Ht.highest.height-K*B,d&&(te*=-1),g!==0&&!pe.showLabelBackdrop&&(w+=B/2*Math.sin(g))):(D=C,te=(1-K)*B/2);let gu;if(pe.showLabelBackdrop){let os=mt(pe.backdropPadding),Ka=Ht.heights[y],qi=Ht.widths[y],Ya=te-os.top,Ki=0-os.left;switch(ct){case"middle":Ya-=Ka/2;break;case"bottom":Ya-=Ka;break}switch(x){case"center":Ki-=qi/2;break;case"right":Ki-=qi;break;case"inner":y===v-1?Ki-=qi:y>0&&(Ki-=qi/2);break}gu={left:Ki,top:Ya,width:qi+os.width,height:Ka+os.height,color:pe.backdropColor}}m.push({label:b,font:N,textOffset:te,options:{rotation:g,color:He,strokeColor:En,strokeWidth:yt,textAlign:is,textBaseline:ct,translation:[w,D],backdrop:gu}})}return m}_getXAxisLabelAlignment(){let{position:n,ticks:e}=this.options;if(-yn(this.labelRotation))return n==="top"?"left":"right";let i="center";return e.align==="start"?i="left":e.align==="end"?i="right":e.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(n){let{position:e,ticks:{crossAlign:r,mirror:i,padding:o}}=this.options,s=this._getLabelSizes(),a=n+o,c=s.widest.width,l,u;return e==="left"?i?(u=this.right+o,r==="near"?l="left":r==="center"?(l="center",u+=c/2):(l="right",u+=c)):(u=this.right-a,r==="near"?l="right":r==="center"?(l="center",u-=c/2):(l="left",u=this.left)):e==="right"?i?(u=this.left+o,r==="near"?l="right":r==="center"?(l="center",u-=c/2):(l="left",u-=c)):(u=this.left+a,r==="near"?l="left":r==="center"?(l="center",u+=c/2):(l="right",u=this.right)):l="right",{textAlign:l,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;let n=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:n.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:n.width}}drawBackground(){let{ctx:n,options:{backgroundColor:e},left:r,top:i,width:o,height:s}=this;e&&(n.save(),n.fillStyle=e,n.fillRect(r,i,o,s),n.restore())}getLineWidthForValue(n){let e=this.options.grid;if(!this._isVisible()||!e.display)return 0;let i=this.ticks.findIndex(o=>o.value===n);return i>=0?e.setContext(this.getContext(i)).lineWidth:0}drawGrid(n){let e=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(n)),o,s,a=(c,l,u)=>{!u.width||!u.color||(r.save(),r.lineWidth=u.width,r.strokeStyle=u.color,r.setLineDash(u.borderDash||[]),r.lineDashOffset=u.borderDashOffset,r.beginPath(),r.moveTo(c.x,c.y),r.lineTo(l.x,l.y),r.stroke(),r.restore())};if(e.display)for(o=0,s=i.length;o<s;++o){let c=i[o];e.drawOnChartArea&&a({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),e.drawTicks&&a({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){let{chart:n,ctx:e,options:{border:r,grid:i}}=this,o=r.setContext(this.getContext()),s=r.display?o.width:0;if(!s)return;let a=i.setContext(this.getContext(0)).lineWidth,c=this._borderValue,l,u,d,f;this.isHorizontal()?(l=wi(n,this.left,s)-s/2,u=wi(n,this.right,a)+a/2,d=f=c):(d=wi(n,this.top,s)-s/2,f=wi(n,this.bottom,a)+a/2,l=u=c),e.save(),e.lineWidth=o.width,e.strokeStyle=o.color,e.beginPath(),e.moveTo(l,d),e.lineTo(u,f),e.stroke(),e.restore()}drawLabels(n){if(!this.options.ticks.display)return;let r=this.ctx,i=this._computeLabelArea();i&&wl(r,i);let o=this.getLabelItems(n);for(let s of o){let a=s.options,c=s.font,l=s.label,u=s.textOffset;Ei(r,l,0,u,c,a)}i&&El(r)}drawTitle(){let{ctx:n,options:{position:e,title:r,reverse:i}}=this;if(!r.display)return;let o=qe(r.font),s=mt(r.padding),a=r.align,c=o.lineHeight/2;e==="bottom"||e==="center"||ee(e)?(c+=s.bottom,_e(r.text)&&(c+=o.lineHeight*(r.text.length-1))):c+=s.top;let{titleX:l,titleY:u,maxWidth:d,rotation:f}=w$(this,c,e,a);Ei(n,r.text,0,0,o,{color:r.color,maxWidth:d,rotation:f,textAlign:_$(a,e,i),textBaseline:"middle",translation:[l,u]})}draw(n){this._isVisible()&&(this.drawBackground(),this.drawGrid(n),this.drawBorder(),this.drawTitle(),this.drawLabels(n))}_layers(){let n=this.options,e=n.ticks&&n.ticks.z||0,r=z(n.grid&&n.grid.z,-1),i=z(n.border&&n.border.z,0);return!this._isVisible()||this.draw!==t.prototype.draw?[{z:e,draw:o=>{this.draw(o)}}]:[{z:r,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:e,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(n){let e=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[],o,s;for(o=0,s=e.length;o<s;++o){let a=e[o];a[r]===this.id&&(!n||a.type===n)&&i.push(a)}return i}_resolveTickFontOptions(n){let e=this.options.ticks.setContext(this.getContext(n));return qe(e.font)}_maxDigits(){let n=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/n}},sa=class{constructor(n,e,r){this.type=n,this.scope=e,this.override=r,this.items=Object.create(null)}isForType(n){return Object.prototype.isPrototypeOf.call(this.type.prototype,n.prototype)}register(n){let e=Object.getPrototypeOf(n),r;C$(e)&&(r=this.register(e));let i=this.items,o=n.id,s=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+n);return o in i||(i[o]=n,E$(n,s,r),this.override&&be.override(n.id,n.overrides)),s}get(n){return this.items[n]}unregister(n){let e=this.items,r=n.id,i=this.scope;r in e&&delete e[r],i&&r in be[i]&&(delete be[i][r],this.override&&delete _i[r])}};function E$(t,n,e){let r=Zs(Object.create(null),[e?be.get(e):{},be.get(n),t.defaults]);be.set(n,r),t.defaultRoutes&&D$(n,t.defaultRoutes),t.descriptors&&be.describe(n,t.descriptors)}function D$(t,n){Object.keys(n).forEach(e=>{let r=e.split("."),i=r.pop(),o=[t].concat(r).join("."),s=n[e].split("."),a=s.pop(),c=s.join(".");be.route(o,i,c,a)})}function C$(t){return"id"in t&&"defaults"in t}var Hb=class{constructor(){this.controllers=new sa(Ii,"datasets",!0),this.elements=new sa(Bn,"elements"),this.plugins=new sa(Object,"plugins"),this.scales=new sa(Bo,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...n){this._each("register",n)}remove(...n){this._each("unregister",n)}addControllers(...n){this._each("register",n,this.controllers)}addElements(...n){this._each("register",n,this.elements)}addPlugins(...n){this._each("register",n,this.plugins)}addScales(...n){this._each("register",n,this.scales)}getController(n){return this._get(n,this.controllers,"controller")}getElement(n){return this._get(n,this.elements,"element")}getPlugin(n){return this._get(n,this.plugins,"plugin")}getScale(n){return this._get(n,this.scales,"scale")}removeControllers(...n){this._each("unregister",n,this.controllers)}removeElements(...n){this._each("unregister",n,this.elements)}removePlugins(...n){this._each("unregister",n,this.plugins)}removeScales(...n){this._each("unregister",n,this.scales)}_each(n,e,r){[...e].forEach(i=>{let o=r||this._getRegistryForType(i);r||o.isForType(i)||o===this.plugins&&i.id?this._exec(n,o,i):de(i,s=>{let a=r||this._getRegistryForType(s);this._exec(n,a,s)})})}_exec(n,e,r){let i=nh(n);ve(r["before"+i],[],r),e[n](r),ve(r["after"+i],[],r)}_getRegistryForType(n){for(let e=0;e<this._typedRegistries.length;e++){let r=this._typedRegistries[e];if(r.isForType(n))return r}return this.plugins}_get(n,e,r){let i=e.get(n);if(i===void 0)throw new Error('"'+n+'" is not a registered '+r+".");return i}},ar=new Hb,zb=class{constructor(){this._init=void 0}notify(n,e,r,i){if(e==="beforeInit"&&(this._init=this._createDescriptors(n,!0),this._notify(this._init,n,"install")),this._init===void 0)return;let o=i?this._descriptors(n).filter(i):this._descriptors(n),s=this._notify(o,n,e,r);return e==="afterDestroy"&&(this._notify(o,n,"stop"),this._notify(this._init,n,"uninstall"),this._init=void 0),s}_notify(n,e,r,i){i=i||{};for(let o of n){let s=o.plugin,a=s[r],c=[e,i,o.options];if(ve(a,c,s)===!1&&i.cancelable)return!1}return!0}invalidate(){J(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(n){if(this._cache)return this._cache;let e=this._cache=this._createDescriptors(n);return this._notifyStateChanges(n),e}_createDescriptors(n,e){let r=n&&n.config,i=z(r.options&&r.options.plugins,{}),o=x$(r);return i===!1&&!e?[]:S$(n,o,i,e)}_notifyStateChanges(n){let e=this._oldCache||[],r=this._cache,i=(o,s)=>o.filter(a=>!s.some(c=>a.plugin.id===c.plugin.id));this._notify(i(e,r),n,"stop"),this._notify(i(r,e),n,"start")}};function x$(t){let n={},e=[],r=Object.keys(ar.plugins.items);for(let o=0;o<r.length;o++)e.push(ar.getPlugin(r[o]));let i=t.plugins||[];for(let o=0;o<i.length;o++){let s=i[o];e.indexOf(s)===-1&&(e.push(s),n[s.id]=!0)}return{plugins:e,localIds:n}}function I$(t,n){return!n&&t===!1?null:t===!0?{}:t}function S$(t,{plugins:n,localIds:e},r,i){let o=[],s=t.getContext();for(let a of n){let c=a.id,l=I$(r[c],i);l!==null&&o.push({plugin:a,options:T$(t.config,{plugin:a,local:e[c]},l,s)})}return o}function T$(t,{plugin:n,local:e},r,i){let o=t.pluginScopeKeys(n),s=t.getOptionScopes(r,o);return e&&n.defaults&&s.push(n.defaults),t.createResolver(s,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Wb(t,n){let e=be.datasets[t]||{};return((n.datasets||{})[t]||{}).indexAxis||n.indexAxis||e.indexAxis||"x"}function M$(t,n){let e=t;return t==="_index_"?e=n:t==="_value_"&&(e=n==="x"?"y":"x"),e}function A$(t,n){return t===n?"_index_":"_value_"}function fT(t){if(t==="x"||t==="y"||t==="r")return t}function k$(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Gb(t,...n){if(fT(t))return t;for(let e of n){let r=e.axis||k$(e.position)||t.length>1&&fT(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function hT(t,n,e){if(e[n+"AxisID"]===t)return{axis:n}}function R$(t,n){if(n.data&&n.data.datasets){let e=n.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(e.length)return hT(t,"x",e[0])||hT(t,"y",e[0])}return{}}function O$(t,n){let e=_i[t.type]||{scales:{}},r=n.scales||{},i=Wb(t.type,n),o=Object.create(null);return Object.keys(r).forEach(s=>{let a=r[s];if(!ee(a))return console.error(`Invalid scale configuration for scale: ${s}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${s}`);let c=Gb(s,a,R$(s,t),be.scales[a.type]),l=A$(c,i),u=e.scales||{};o[s]=Qs(Object.create(null),[{axis:c},a,u[c],u[l]])}),t.data.datasets.forEach(s=>{let a=s.type||t.type,c=s.indexAxis||Wb(a,n),u=(_i[a]||{}).scales||{};Object.keys(u).forEach(d=>{let f=M$(d,c),h=s[f+"AxisID"]||f;o[h]=o[h]||Object.create(null),Qs(o[h],[{axis:f},r[h],u[d]])})}),Object.keys(o).forEach(s=>{let a=o[s];Qs(a,[be.scales[a.type],be.scale])}),o}function eM(t){let n=t.options||(t.options={});n.plugins=z(n.plugins,{}),n.scales=O$(t,n)}function tM(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function N$(t){return t=t||{},t.data=tM(t.data),eM(t),t}var pT=new Map,nM=new Set;function gh(t,n){let e=pT.get(t);return e||(e=n(),pT.set(t,e),nM.add(e)),e}var Sl=(t,n,e)=>{let r=jr(n,e);r!==void 0&&t.add(r)},qb=class{constructor(n){this._config=N$(n),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(n){this._config.type=n}get data(){return this._config.data}set data(n){this._config.data=tM(n)}get options(){return this._config.options}set options(n){this._config.options=n}get plugins(){return this._config.plugins}update(){let n=this._config;this.clearCache(),eM(n)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(n){return gh(n,()=>[[`datasets.${n}`,""]])}datasetAnimationScopeKeys(n,e){return gh(`${n}.transition.${e}`,()=>[[`datasets.${n}.transitions.${e}`,`transitions.${e}`],[`datasets.${n}`,""]])}datasetElementScopeKeys(n,e){return gh(`${n}-${e}`,()=>[[`datasets.${n}.elements.${e}`,`datasets.${n}`,`elements.${e}`,""]])}pluginScopeKeys(n){let e=n.id,r=this.type;return gh(`${r}-plugin-${e}`,()=>[[`plugins.${e}`,...n.additionalOptionScopes||[]]])}_cachedScopes(n,e){let r=this._scopeCache,i=r.get(n);return(!i||e)&&(i=new Map,r.set(n,i)),i}getOptionScopes(n,e,r){let{options:i,type:o}=this,s=this._cachedScopes(n,r),a=s.get(e);if(a)return a;let c=new Set;e.forEach(u=>{n&&(c.add(n),u.forEach(d=>Sl(c,n,d))),u.forEach(d=>Sl(c,i,d)),u.forEach(d=>Sl(c,_i[o]||{},d)),u.forEach(d=>Sl(c,be,d)),u.forEach(d=>Sl(c,sh,d))});let l=Array.from(c);return l.length===0&&l.push(Object.create(null)),nM.has(e)&&s.set(e,l),l}chartOptionScopes(){let{options:n,type:e}=this;return[n,_i[e]||{},be.datasets[e]||{},{type:e},be,sh]}resolveNamedOptions(n,e,r,i=[""]){let o={$shared:!0},{resolver:s,subPrefixes:a}=gT(this._resolverCache,n,i),c=s;if(F$(s,e)){o.$shared=!1,r=Fr(r)?r():r;let l=this.createResolver(n,r,a);c=Po(s,r,l)}for(let l of e)o[l]=c[l];return o}createResolver(n,e,r=[""],i){let{resolver:o}=gT(this._resolverCache,n,r);return ee(e)?Po(o,e,void 0,i):o}};function gT(t,n,e){let r=t.get(n);r||(r=new Map,t.set(n,r));let i=e.join(),o=r.get(i);return o||(o={resolver:lh(n,e),subPrefixes:e.filter(a=>!a.toLowerCase().includes("hover"))},r.set(i,o)),o}var P$=t=>ee(t)&&Object.getOwnPropertyNames(t).some(n=>Fr(t[n]));function F$(t,n){let{isScriptable:e,isIndexable:r}=mb(t);for(let i of n){let o=e(i),s=r(i),a=(s||o)&&t[i];if(o&&(Fr(a)||P$(a))||s&&_e(a))return!0}return!1}var L$="4.5.1",j$=["top","bottom","left","right","chartArea"];function mT(t,n){return t==="top"||t==="bottom"||j$.indexOf(t)===-1&&n==="x"}function yT(t,n){return function(e,r){return e[t]===r[t]?e[n]-r[n]:e[t]-r[t]}}function vT(t){let n=t.chart,e=n.options.animation;n.notifyPlugins("afterRender"),ve(e&&e.onComplete,[t],n)}function V$(t){let n=t.chart,e=n.options.animation;ve(e&&e.onProgress,[t],n)}function rM(t){return uh()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}var _h={},bT=t=>{let n=rM(t);return Object.values(_h).filter(e=>e.canvas===n).pop()};function B$(t,n,e){let r=Object.keys(t);for(let i of r){let o=+i;if(o>=n){let s=t[i];delete t[i],(e>0||o>n)&&(t[o+e]=s)}}}function U$(t,n,e,r){return!e||t.type==="mouseout"?null:r?n:t}var Nl=(()=>{class t{static defaults=be;static instances=_h;static overrides=_i;static registry=ar;static version=L$;static getChart=bT;static register(...e){ar.add(...e),_T()}static unregister(...e){ar.remove(...e),_T()}constructor(e,r){let i=this.config=new qb(r),o=rM(e),s=bT(o);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");let a=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||c$(o)),this.platform.updateConfig(i);let c=this.platform.acquireContext(o,a.aspectRatio),l=c&&c.canvas,u=l&&l.height,d=l&&l.width;if(this.id=vS(),this.ctx=c,this.canvas=l,this.width=d,this.height=u,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new zb,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=MS(f=>this.update(f),a.resizeDelay||0),this._dataChanges=[],_h[this.id]=this,!c||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Br.listen(this,"complete",vT),Br.listen(this,"progress",V$),this._initialize(),this.attached&&this.update()}get aspectRatio(){let{options:{aspectRatio:e,maintainAspectRatio:r},width:i,height:o,_aspectRatio:s}=this;return J(e)?r&&s?s:o?i/o:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return ar}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():_b(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return hb(this.canvas,this.ctx),this}stop(){return Br.stop(this),this}resize(e,r){Br.running(this)?this._resizeBeforeDraw={width:e,height:r}:this._resize(e,r)}_resize(e,r){let i=this.options,o=this.canvas,s=i.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(o,e,r,s),c=i.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,_b(this,c,!0)&&(this.notifyPlugins("resize",{size:a}),ve(i.onResize,[this,a],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){let r=this.options.scales||{};de(r,(i,o)=>{i.id=o})}buildOrUpdateScales(){let e=this.options,r=e.scales,i=this.scales,o=Object.keys(i).reduce((a,c)=>(a[c]=!1,a),{}),s=[];r&&(s=s.concat(Object.keys(r).map(a=>{let c=r[a],l=Gb(a,c),u=l==="r",d=l==="x";return{options:c,dposition:u?"chartArea":d?"bottom":"left",dtype:u?"radialLinear":d?"category":"linear"}}))),de(s,a=>{let c=a.options,l=c.id,u=Gb(l,c),d=z(c.type,a.dtype);(c.position===void 0||mT(c.position,u)!==mT(a.dposition))&&(c.position=a.dposition),o[l]=!0;let f=null;if(l in i&&i[l].type===d)f=i[l];else{let h=ar.getScale(d);f=new h({id:l,type:d,ctx:this.ctx,chart:this}),i[f.id]=f}f.init(c,e)}),de(o,(a,c)=>{a||delete i[c]}),de(i,a=>{wt.configure(this,a,a.options),wt.addBox(this,a)})}_updateMetasets(){let e=this._metasets,r=this.data.datasets.length,i=e.length;if(e.sort((o,s)=>o.index-s.index),i>r){for(let o=r;o<i;++o)this._destroyDatasetMeta(o);e.splice(r,i-r)}this._sortedMetasets=e.slice(0).sort(yT("order","index"))}_removeUnreferencedMetasets(){let{_metasets:e,data:{datasets:r}}=this;e.length>r.length&&delete this._stacks,e.forEach((i,o)=>{r.filter(s=>s===i._dataset).length===0&&this._destroyDatasetMeta(o)})}buildOrUpdateControllers(){let e=[],r=this.data.datasets,i,o;for(this._removeUnreferencedMetasets(),i=0,o=r.length;i<o;i++){let s=r[i],a=this.getDatasetMeta(i),c=s.type||this.config.type;if(a.type&&a.type!==c&&(this._destroyDatasetMeta(i),a=this.getDatasetMeta(i)),a.type=c,a.indexAxis=s.indexAxis||Wb(c,this.options),a.order=s.order||0,a.index=i,a.label=""+s.label,a.visible=this.isDatasetVisible(i),a.controller)a.controller.updateIndex(i),a.controller.linkScales();else{let l=ar.getController(c),{datasetElementType:u,dataElementType:d}=be.datasets[c];Object.assign(l,{dataElementType:ar.getElement(d),datasetElementType:u&&ar.getElement(u)}),a.controller=new l(this,i),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){de(this.data.datasets,(e,r)=>{this.getDatasetMeta(r).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){let r=this.config;r.update();let i=this._options=r.createResolver(r.chartOptionScopes(),this.getContext()),o=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;let s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let u=0,d=this.data.datasets.length;u<d;u++){let{controller:f}=this.getDatasetMeta(u),h=!o&&s.indexOf(f)===-1;f.buildOrUpdateElements(h),a=Math.max(+f.getMaxOverflow(),a)}a=this._minPadding=i.layout.autoPadding?a:0,this._updateLayout(a),o||de(s,u=>{u.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(yT("z","_idx"));let{_active:c,_lastEvent:l}=this;l?this._eventHandler(l,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){de(this.scales,e=>{wt.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let e=this.options,r=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!eb(r,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:e}=this,r=this._getUniformDataChanges()||[];for(let{method:i,start:o,count:s}of r){let a=i==="_removeElements"?-s:s;B$(e,o,a)}}_getUniformDataChanges(){let e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];let r=this.data.datasets.length,i=s=>new Set(e.filter(a=>a[0]===s).map((a,c)=>c+","+a.splice(1).join(","))),o=i(0);for(let s=1;s<r;s++)if(!eb(o,i(s)))return;return Array.from(o).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;wt.update(this,this.width,this.height,e);let r=this.chartArea,i=r.width<=0||r.height<=0;this._layers=[],de(this.boxes,o=>{i&&o.position==="chartArea"||(o.configure&&o.configure(),this._layers.push(...o._layers()))},this),this._layers.forEach((o,s)=>{o._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let r=0,i=this.data.datasets.length;r<i;++r)this.getDatasetMeta(r).controller.configure();for(let r=0,i=this.data.datasets.length;r<i;++r)this._updateDataset(r,Fr(e)?e({datasetIndex:r}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,r){let i=this.getDatasetMeta(e),o={meta:i,index:e,mode:r,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",o)!==!1&&(i.controller._update(r),o.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",o))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Br.has(this)?this.attached&&!Br.running(this)&&Br.start(this):(this.draw(),vT({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){let{width:i,height:o}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,o)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;let r=this._layers;for(e=0;e<r.length&&r[e].z<=0;++e)r[e].draw(this.chartArea);for(this._drawDatasets();e<r.length;++e)r[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){let r=this._sortedMetasets,i=[],o,s;for(o=0,s=r.length;o<s;++o){let a=r[o];(!e||a.visible)&&i.push(a)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;let e=this.getSortedVisibleDatasetMetas();for(let r=e.length-1;r>=0;--r)this._drawDataset(e[r]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){let r=this.ctx,i={meta:e,index:e.index,cancelable:!0},o=Ib(this,e);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(o&&wl(r,o),e.controller.draw(),o&&El(r),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return rr(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,r,i,o){let s=HU.modes[r];return typeof s=="function"?s(this,e,i,o):[]}getDatasetMeta(e){let r=this.data.datasets[e],i=this._metasets,o=i.filter(s=>s&&s._dataset===r).pop();return o||(o={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:r&&r.order||0,index:e,_dataset:r,_parsed:[],_sorted:!1},i.push(o)),o}getContext(){return this.$context||(this.$context=Vr(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){let r=this.data.datasets[e];if(!r)return!1;let i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!r.hidden}setDatasetVisibility(e,r){let i=this.getDatasetMeta(e);i.hidden=!r}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,r,i){let o=i?"show":"hide",s=this.getDatasetMeta(e),a=s.controller._resolveAnimations(void 0,o);Xs(r)?(s.data[r].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),a.update(s,{visible:i}),this.update(c=>c.datasetIndex===e?o:void 0))}hide(e,r){this._updateVisibility(e,r,!1)}show(e,r){this._updateVisibility(e,r,!0)}_destroyDatasetMeta(e){let r=this._metasets[e];r&&r.controller&&r.controller._destroy(),delete this._metasets[e]}_stop(){let e,r;for(this.stop(),Br.remove(this),e=0,r=this.data.datasets.length;e<r;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:e,ctx:r}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),hb(e,r),this.platform.releaseContext(r),this.canvas=null,this.ctx=null),delete _h[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let e=this._listeners,r=this.platform,i=(s,a)=>{r.addEventListener(this,s,a),e[s]=a},o=(s,a,c)=>{s.offsetX=a,s.offsetY=c,this._eventHandler(s)};de(this.options.events,s=>i(s,o))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});let e=this._responsiveListeners,r=this.platform,i=(l,u)=>{r.addEventListener(this,l,u),e[l]=u},o=(l,u)=>{e[l]&&(r.removeEventListener(this,l,u),delete e[l])},s=(l,u)=>{this.canvas&&this.resize(l,u)},a,c=()=>{o("attach",c),this.attached=!0,this.resize(),i("resize",s),i("detach",a)};a=()=>{this.attached=!1,o("resize",s),this._stop(),this._resize(0,0),i("attach",c)},r.isAttached(this.canvas)?c():a()}unbindEvents(){de(this._listeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._listeners={},de(this._responsiveListeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,r,i){let o=i?"set":"remove",s,a,c,l;for(r==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+o+"DatasetHoverStyle"]()),c=0,l=e.length;c<l;++c){a=e[c];let u=a&&this.getDatasetMeta(a.datasetIndex).controller;u&&u[o+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){let r=this._active||[],i=e.map(({datasetIndex:s,index:a})=>{let c=this.getDatasetMeta(s);if(!c)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:c.data[a],index:a}});!bl(i,r)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,r))}notifyPlugins(e,r,i){return this._plugins.notify(this,e,r,i)}isPluginEnabled(e){return this._plugins._cache.filter(r=>r.plugin.id===e).length===1}_updateHoverStyles(e,r,i){let o=this.options.hover,s=(l,u)=>l.filter(d=>!u.some(f=>d.datasetIndex===f.datasetIndex&&d.index===f.index)),a=s(r,e),c=i?e:s(e,r);a.length&&this.updateHoverStyle(a,o.mode,!1),c.length&&o.mode&&this.updateHoverStyle(c,o.mode,!0)}_eventHandler(e,r){let i={event:e,replay:r,cancelable:!0,inChartArea:this.isPointInArea(e)},o=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,o)===!1)return;let s=this._handleEvent(e,r,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,o),(s||i.changed)&&this.render(),this}_handleEvent(e,r,i){let{_active:o=[],options:s}=this,a=r,c=this._getActiveElements(e,o,i,a),l=wS(e),u=U$(e,this._lastEvent,i,l);i&&(this._lastEvent=null,ve(s.onHover,[e,c,this],this),l&&ve(s.onClick,[e,c,this],this));let d=!bl(c,o);return(d||r)&&(this._active=c,this._updateHoverStyles(c,o,r)),this._lastEvent=u,d}_getActiveElements(e,r,i,o){if(e.type==="mouseout")return[];if(!i)return r;let s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,o)}}return t})();function _T(){return de(Nl.instances,t=>t._plugins.invalidate())}function $$(t,n,e){let{startAngle:r,x:i,y:o,outerRadius:s,innerRadius:a,options:c}=n,{borderWidth:l,borderJoinStyle:u}=c,d=Math.min(l/s,pt(r-e));if(t.beginPath(),t.arc(i,o,s-l/2,r+d/2,e-d/2),a>0){let f=Math.min(l/a,pt(r-e));t.arc(i,o,a+l/2,e-f/2,r+f/2,!0)}else{let f=Math.min(l/2,s*pt(r-e));if(u==="round")t.arc(i,o,f,e-se/2,r+se/2,!0);else if(u==="bevel"){let h=2*f*f,p=-h*Math.cos(e+se/2)+i,g=-h*Math.sin(e+se/2)+o,m=h*Math.cos(r+se/2)+i,y=h*Math.sin(r+se/2)+o;t.lineTo(p,g),t.lineTo(m,y)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function H$(t,n,e){let{startAngle:r,pixelMargin:i,x:o,y:s,outerRadius:a,innerRadius:c}=n,l=i/a;t.beginPath(),t.arc(o,s,a,r-l,e+l),c>i?(l=i/c,t.arc(o,s,c,e+l,r-l,!0)):t.arc(o,s,i,e+$e,r-$e),t.closePath(),t.clip()}function z$(t){return ch(t,["outerStart","outerEnd","innerStart","innerEnd"])}function W$(t,n,e,r){let i=z$(t.options.borderRadius),o=(e-n)/2,s=Math.min(o,r*n/2),a=c=>{let l=(e-Math.min(o,c))*r/2;return Xe(c,0,Math.min(o,l))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:Xe(i.innerStart,0,s),innerEnd:Xe(i.innerEnd,0,s)}}function oa(t,n,e,r){return{x:e+t*Math.cos(n),y:r+t*Math.sin(n)}}function Ch(t,n,e,r,i,o){let{x:s,y:a,startAngle:c,pixelMargin:l,innerRadius:u}=n,d=Math.max(n.outerRadius+r+e-l,0),f=u>0?u+r+e+l:0,h=0,p=i-c;if(r){let pe=u>0?u-r:0,Te=d>0?d-r:0,He=(pe+Te)/2,En=He!==0?p*He/(He+r):p;h=(p-En)/2}let g=Math.max(.001,p*d-e/se)/d,m=(p-g)/2,y=c+m+h,v=i-m-h,{outerStart:_,outerEnd:b,innerStart:w,innerEnd:D}=W$(n,f,d,v-y),x=d-_,C=d-b,N=y+_/x,B=v-b/C,K=f+w,te=f+D,ct=y+w/K,Ht=v-D/te;if(t.beginPath(),o){let pe=(N+B)/2;if(t.arc(s,a,d,N,pe),t.arc(s,a,d,pe,B),b>0){let yt=oa(C,B,s,a);t.arc(yt.x,yt.y,b,B,v+$e)}let Te=oa(te,v,s,a);if(t.lineTo(Te.x,Te.y),D>0){let yt=oa(te,Ht,s,a);t.arc(yt.x,yt.y,D,v+$e,Ht+Math.PI)}let He=(v-D/f+(y+w/f))/2;if(t.arc(s,a,f,v-D/f,He,!0),t.arc(s,a,f,He,y+w/f,!0),w>0){let yt=oa(K,ct,s,a);t.arc(yt.x,yt.y,w,ct+Math.PI,y-$e)}let En=oa(x,y,s,a);if(t.lineTo(En.x,En.y),_>0){let yt=oa(x,N,s,a);t.arc(yt.x,yt.y,_,y-$e,N)}}else{t.moveTo(s,a);let pe=Math.cos(N)*d+s,Te=Math.sin(N)*d+a;t.lineTo(pe,Te);let He=Math.cos(B)*d+s,En=Math.sin(B)*d+a;t.lineTo(He,En)}t.closePath()}function G$(t,n,e,r,i){let{fullCircles:o,startAngle:s,circumference:a}=n,c=n.endAngle;if(o){Ch(t,n,e,r,c,i);for(let l=0;l<o;++l)t.fill();isNaN(a)||(c=s+(a%we||we))}return Ch(t,n,e,r,c,i),t.fill(),c}function q$(t,n,e,r,i){let{fullCircles:o,startAngle:s,circumference:a,options:c}=n,{borderWidth:l,borderJoinStyle:u,borderDash:d,borderDashOffset:f,borderRadius:h}=c,p=c.borderAlign==="inner";if(!l)return;t.setLineDash(d||[]),t.lineDashOffset=f,p?(t.lineWidth=l*2,t.lineJoin=u||"round"):(t.lineWidth=l,t.lineJoin=u||"bevel");let g=n.endAngle;if(o){Ch(t,n,e,r,g,i);for(let m=0;m<o;++m)t.stroke();isNaN(a)||(g=s+(a%we||we))}p&&H$(t,n,g),c.selfJoin&&g-s>=se&&h===0&&u!=="miter"&&$$(t,n,g),o||(Ch(t,n,e,r,g,i),t.stroke())}var Kb=class extends Bn{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:n=>n!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(n){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,e,r){let i=this.getProps(["x","y"],r),{angle:o,distance:s}=ib(i,{x:n,y:e}),{startAngle:a,endAngle:c,innerRadius:l,outerRadius:u,circumference:d}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),f=(this.options.spacing+this.options.borderWidth)/2,h=z(d,c-a),p=ta(o,a,c)&&a!==c,g=h>=we||p,m=or(s,l+f,u+f);return g&&m}getCenterPoint(n){let{x:e,y:r,startAngle:i,endAngle:o,innerRadius:s,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:c,spacing:l}=this.options,u=(i+o)/2,d=(s+a+l+c)/2;return{x:e+Math.cos(u)*d,y:r+Math.sin(u)*d}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){let{options:e,circumference:r}=this,i=(e.offset||0)/4,o=(e.spacing||0)/2,s=e.circular;if(this.pixelMargin=e.borderAlign==="inner"?.33:0,this.fullCircles=r>we?Math.floor(r/we):0,r===0||this.innerRadius<0||this.outerRadius<0)return;n.save();let a=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(a)*i,Math.sin(a)*i);let c=1-Math.sin(Math.min(se,r||0)),l=i*c;n.fillStyle=e.backgroundColor,n.strokeStyle=e.borderColor,G$(n,this,l,o,s),q$(n,this,l,o,s),n.restore()}};function iM(t,n,e=n){t.lineCap=z(e.borderCapStyle,n.borderCapStyle),t.setLineDash(z(e.borderDash,n.borderDash)),t.lineDashOffset=z(e.borderDashOffset,n.borderDashOffset),t.lineJoin=z(e.borderJoinStyle,n.borderJoinStyle),t.lineWidth=z(e.borderWidth,n.borderWidth),t.strokeStyle=z(e.borderColor,n.borderColor)}function K$(t,n,e){t.lineTo(e.x,e.y)}function Y$(t){return t.stepped?OS:t.tension||t.cubicInterpolationMode==="monotone"?NS:K$}function oM(t,n,e={}){let r=t.length,{start:i=0,end:o=r-1}=e,{start:s,end:a}=n,c=Math.max(i,s),l=Math.min(o,a),u=i<s&&o<s||i>a&&o>a;return{count:r,start:c,loop:n.loop,ilen:l<c&&!u?r+l-c:l-c}}function Z$(t,n,e,r){let{points:i,options:o}=n,{count:s,start:a,loop:c,ilen:l}=oM(i,e,r),u=Y$(o),{move:d=!0,reverse:f}=r||{},h,p,g;for(h=0;h<=l;++h)p=i[(a+(f?l-h:h))%s],!p.skip&&(d?(t.moveTo(p.x,p.y),d=!1):u(t,g,p,f,o.stepped),g=p);return c&&(p=i[(a+(f?l:0))%s],u(t,g,p,f,o.stepped)),!!c}function J$(t,n,e,r){let i=n.points,{count:o,start:s,ilen:a}=oM(i,e,r),{move:c=!0,reverse:l}=r||{},u=0,d=0,f,h,p,g,m,y,v=b=>(s+(l?a-b:b))%o,_=()=>{g!==m&&(t.lineTo(u,m),t.lineTo(u,g),t.lineTo(u,y))};for(c&&(h=i[v(0)],t.moveTo(h.x,h.y)),f=0;f<=a;++f){if(h=i[v(f)],h.skip)continue;let b=h.x,w=h.y,D=b|0;D===p?(w<g?g=w:w>m&&(m=w),u=(d*u+b)/++d):(_(),t.lineTo(b,w),p=D,d=0,g=m=w),y=w}_()}function Yb(t){let n=t.options,e=n.borderDash&&n.borderDash.length;return!t._decimated&&!t._loop&&!n.tension&&n.cubicInterpolationMode!=="monotone"&&!n.stepped&&!e?J$:Z$}function Q$(t){return t.stepped?HS:t.tension||t.cubicInterpolationMode==="monotone"?zS:vi}function X$(t,n,e,r){let i=n._path;i||(i=n._path=new Path2D,n.path(i,e,r)&&i.closePath()),iM(t,n.options),t.stroke(i)}function eH(t,n,e,r){let{segments:i,options:o}=n,s=Yb(n);for(let a of i)iM(t,o,a.style),t.beginPath(),s(t,n,a,{start:e,end:e+r-1})&&t.closePath(),t.stroke()}var tH=typeof Path2D=="function";function nH(t,n,e,r){tH&&!n.options.segment?X$(t,n,e,r):eH(t,n,e,r)}var Sh=(()=>{class t extends Bn{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,r){let i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){let o=i.spanGaps?this._loop:this._fullLoop;BS(this._points,i,e,o,r),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=GS(this,this.options.segment))}first(){let e=this.segments,r=this.points;return e.length&&r[e[0].start]}last(){let e=this.segments,r=this.points,i=e.length;return i&&r[e[i-1].end]}interpolate(e,r){let i=this.options,o=e[r],s=this.points,a=xb(this,{property:r,start:o,end:o});if(!a.length)return;let c=[],l=Q$(i),u,d;for(u=0,d=a.length;u<d;++u){let{start:f,end:h}=a[u],p=s[f],g=s[h];if(p===g){c.push(p);continue}let m=Math.abs((o-p[r])/(g[r]-p[r])),y=l(p,g,m,i.stepped);y[r]=e[r],c.push(y)}return c.length===1?c[0]:c}pathSegment(e,r,i){return Yb(this)(e,this,r,i)}path(e,r,i){let o=this.segments,s=Yb(this),a=this._loop;r=r||0,i=i||this.points.length-r;for(let c of o)a&=s(e,this,c,{start:r,end:r+i-1});return!!a}draw(e,r,i,o){let s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),nH(e,this,i,o),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return t})();function wT(t,n,e,r){let i=t.options,{[e]:o}=t.getProps([e],r);return Math.abs(n-o)<i.radius+i.hitRadius}var rH=(()=>{class t extends Bn{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,r,i){let o=this.options,{x:s,y:a}=this.getProps(["x","y"],i);return Math.pow(e-s,2)+Math.pow(r-a,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(e,r){return wT(this,e,"x",r)}inYRange(e,r){return wT(this,e,"y",r)}getCenterPoint(e){let{x:r,y:i}=this.getProps(["x","y"],e);return{x:r,y:i}}size(e){e=e||this.options||{};let r=e.radius||0;r=Math.max(r,r&&e.hoverRadius||0);let i=r&&e.borderWidth||0;return(r+i)*2}draw(e,r){let i=this.options;this.skip||i.radius<.1||!rr(this,r,this.size(i)/2)||(e.strokeStyle=i.borderColor,e.lineWidth=i.borderWidth,e.fillStyle=i.backgroundColor,ah(e,i,this.x,this.y))}getRange(){let e=this.options||{};return e.radius+e.hitRadius}}return t})();function sM(t,n){let{x:e,y:r,base:i,width:o,height:s}=t.getProps(["x","y","base","width","height"],n),a,c,l,u,d;return t.horizontal?(d=s/2,a=Math.min(e,i),c=Math.max(e,i),l=r-d,u=r+d):(d=o/2,a=e-d,c=e+d,l=Math.min(r,i),u=Math.max(r,i)),{left:a,top:l,right:c,bottom:u}}function xi(t,n,e,r){return t?0:Xe(n,e,r)}function iH(t,n,e){let r=t.options.borderWidth,i=t.borderSkipped,o=gb(r);return{t:xi(i.top,o.top,0,e),r:xi(i.right,o.right,0,n),b:xi(i.bottom,o.bottom,0,e),l:xi(i.left,o.left,0,n)}}function oH(t,n,e){let{enableBorderRadius:r}=t.getProps(["enableBorderRadius"]),i=t.options.borderRadius,o=Di(i),s=Math.min(n,e),a=t.borderSkipped,c=r||ee(i);return{topLeft:xi(!c||a.top||a.left,o.topLeft,0,s),topRight:xi(!c||a.top||a.right,o.topRight,0,s),bottomLeft:xi(!c||a.bottom||a.left,o.bottomLeft,0,s),bottomRight:xi(!c||a.bottom||a.right,o.bottomRight,0,s)}}function sH(t){let n=sM(t),e=n.right-n.left,r=n.bottom-n.top,i=iH(t,e/2,r/2),o=oH(t,e/2,r/2);return{outer:{x:n.left,y:n.top,w:e,h:r,radius:o},inner:{x:n.left+i.l,y:n.top+i.t,w:e-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,o.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(i.b,i.r))}}}}function Nb(t,n,e,r){let i=n===null,o=e===null,a=t&&!(i&&o)&&sM(t,r);return a&&(i||or(n,a.left,a.right))&&(o||or(e,a.top,a.bottom))}function aH(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function cH(t,n){t.rect(n.x,n.y,n.w,n.h)}function Pb(t,n,e={}){let r=t.x!==e.x?-n:0,i=t.y!==e.y?-n:0,o=(t.x+t.w!==e.x+e.w?n:0)-r,s=(t.y+t.h!==e.y+e.h?n:0)-i;return{x:t.x+r,y:t.y+i,w:t.w+o,h:t.h+s,radius:t.radius}}var Zb=class extends Bn{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(n){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,n&&Object.assign(this,n)}draw(n){let{inflateAmount:e,options:{borderColor:r,backgroundColor:i}}=this,{inner:o,outer:s}=sH(this),a=aH(s.radius)?ra:cH;n.save(),(s.w!==o.w||s.h!==o.h)&&(n.beginPath(),a(n,Pb(s,e,o)),n.clip(),a(n,Pb(o,-e,s)),n.fillStyle=r,n.fill("evenodd")),n.beginPath(),a(n,Pb(o,e)),n.fillStyle=i,n.fill(),n.restore()}inRange(n,e,r){return Nb(this,n,e,r)}inXRange(n,e){return Nb(this,n,null,e)}inYRange(n,e){return Nb(this,null,n,e)}getCenterPoint(n){let{x:e,y:r,base:i,horizontal:o}=this.getProps(["x","y","base","horizontal"],n);return{x:o?(e+i)/2:e,y:o?r:(r+i)/2}}getRange(n){return n==="x"?this.width/2:this.height/2}},lH=Object.freeze({__proto__:null,ArcElement:Kb,BarElement:Zb,LineElement:Sh,PointElement:rH}),Jb=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],ET=Jb.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function aM(t){return Jb[t%Jb.length]}function cM(t){return ET[t%ET.length]}function uH(t,n){return t.borderColor=aM(n),t.backgroundColor=cM(n),++n}function dH(t,n){return t.backgroundColor=t.data.map(()=>aM(n++)),n}function fH(t,n){return t.backgroundColor=t.data.map(()=>cM(n++)),n}function hH(t){let n=0;return(e,r)=>{let i=t.getDatasetMeta(r).controller;i instanceof o_?n=dH(e,n):i instanceof YT?n=fH(e,n):i&&(n=uH(e,n))}}function DT(t){let n;for(n in t)if(t[n].borderColor||t[n].backgroundColor)return!0;return!1}function pH(t){return t&&(t.borderColor||t.backgroundColor)}function gH(){return be.borderColor!=="rgba(0,0,0,0.1)"||be.backgroundColor!=="rgba(0,0,0,0.1)"}var mH={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,n,e){if(!e.enabled)return;let{data:{datasets:r},options:i}=t.config,{elements:o}=i,s=DT(r)||pH(i)||o&&DT(o)||gH();if(!e.forceOverride&&s)return;let a=hH(t);r.forEach(a)}};function yH(t,n,e,r,i){let o=i.samples||r;if(o>=e)return t.slice(n,n+e);let s=[],a=(e-2)/(o-2),c=0,l=n+e-1,u=n,d,f,h,p,g;for(s[c++]=t[u],d=0;d<o-2;d++){let m=0,y=0,v,_=Math.floor((d+1)*a)+1+n,b=Math.min(Math.floor((d+2)*a)+1,e)+n,w=b-_;for(v=_;v<b;v++)m+=t[v].x,y+=t[v].y;m/=w,y/=w;let D=Math.floor(d*a)+1+n,x=Math.min(Math.floor((d+1)*a)+1,e)+n,{x:C,y:N}=t[u];for(h=p=-1,v=D;v<x;v++)p=.5*Math.abs((C-m)*(t[v].y-N)-(C-t[v].x)*(y-N)),p>h&&(h=p,f=t[v],g=v);s[c++]=f,u=g}return s[c++]=t[l],s}function vH(t,n,e,r){let i=0,o=0,s,a,c,l,u,d,f,h,p,g,m=[],y=n+e-1,v=t[n].x,b=t[y].x-v;for(s=n;s<n+e;++s){a=t[s],c=(a.x-v)/b*r,l=a.y;let w=c|0;if(w===u)l<p?(p=l,d=s):l>g&&(g=l,f=s),i=(o*i+a.x)/++o;else{let D=s-1;if(!J(d)&&!J(f)){let x=Math.min(d,f),C=Math.max(d,f);x!==h&&x!==D&&m.push(Q(I({},t[x]),{x:i})),C!==h&&C!==D&&m.push(Q(I({},t[C]),{x:i}))}s>0&&D!==h&&m.push(t[D]),m.push(a),u=w,o=0,p=g=l,d=f=h=s}}return m}function lM(t){if(t._decimated){let n=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:n})}}function CT(t){t.data.datasets.forEach(n=>{lM(n)})}function bH(t,n){let e=n.length,r=0,i,{iScale:o}=t,{min:s,max:a,minDefined:c,maxDefined:l}=o.getUserBounds();return c&&(r=Xe(nr(n,o.axis,s).lo,0,e-1)),l?i=Xe(nr(n,o.axis,a).hi+1,r,e)-r:i=e-r,{start:r,count:i}}var _H={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,n,e)=>{if(!e.enabled){CT(t);return}let r=t.width;t.data.datasets.forEach((i,o)=>{let{_data:s,indexAxis:a}=i,c=t.getDatasetMeta(o),l=s||i.data;if(ia([a,t.options.indexAxis])==="y"||!c.controller.supportsDecimation)return;let u=t.scales[c.xAxisID];if(u.type!=="linear"&&u.type!=="time"||t.options.parsing)return;let{start:d,count:f}=bH(c,l),h=e.threshold||4*r;if(f<=h){lM(i);return}J(s)&&(i._data=l,delete i.data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(g){this._data=g}}));let p;switch(e.algorithm){case"lttb":p=yH(l,d,f,r,e);break;case"min-max":p=vH(l,d,f,r);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}i._decimated=p})},destroy(t){CT(t)}};function wH(t,n,e){let r=t.segments,i=t.points,o=n.points,s=[];for(let a of r){let{start:c,end:l}=a;l=Th(c,l,i);let u=Qb(e,i[c],i[l],a.loop);if(!n.segments){s.push({source:a,target:u,start:i[c],end:i[l]});continue}let d=xb(n,u);for(let f of d){let h=Qb(e,o[f.start],o[f.end],f.loop),p=Cb(a,i,h);for(let g of p)s.push({source:g,target:f,start:{[e]:xT(u,h,"start",Math.max)},end:{[e]:xT(u,h,"end",Math.min)}})}}return s}function Qb(t,n,e,r){if(r)return;let i=n[t],o=e[t];return t==="angle"&&(i=pt(i),o=pt(o)),{property:t,start:i,end:o}}function EH(t,n){let{x:e=null,y:r=null}=t||{},i=n.points,o=[];return n.segments.forEach(({start:s,end:a})=>{a=Th(s,a,i);let c=i[s],l=i[a];r!==null?(o.push({x:c.x,y:r}),o.push({x:l.x,y:r})):e!==null&&(o.push({x:e,y:c.y}),o.push({x:e,y:l.y}))}),o}function Th(t,n,e){for(;n>t;n--){let r=e[n];if(!isNaN(r.x)&&!isNaN(r.y))break}return n}function xT(t,n,e,r){return t&&n?r(t[e],n[e]):t?t[e]:n?n[e]:0}function uM(t,n){let e=[],r=!1;return _e(t)?(r=!0,e=t):e=EH(t,n),e.length?new Sh({points:e,options:{tension:0},_loop:r,_fullLoop:r}):null}function IT(t){return t&&t.fill!==!1}function DH(t,n,e){let i=t[n].fill,o=[n],s;if(!e)return i;for(;i!==!1&&o.indexOf(i)===-1;){if(!Le(i))return i;if(s=t[i],!s)return!1;if(s.visible)return i;o.push(i),i=s.fill}return!1}function CH(t,n,e){let r=TH(t);if(ee(r))return isNaN(r.value)?!1:r;let i=parseFloat(r);return Le(i)&&Math.floor(i)===i?xH(r[0],n,i,e):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function xH(t,n,e,r){return(t==="-"||t==="+")&&(e=n+e),e===n||e<0||e>=r?!1:e}function IH(t,n){let e=null;return t==="start"?e=n.bottom:t==="end"?e=n.top:ee(t)?e=n.getPixelForValue(t.value):n.getBasePixel&&(e=n.getBasePixel()),e}function SH(t,n,e){let r;return t==="start"?r=e:t==="end"?r=n.options.reverse?n.min:n.max:ee(t)?r=t.value:r=n.getBaseValue(),r}function TH(t){let n=t.options,e=n.fill,r=z(e&&e.target,e);return r===void 0&&(r=!!n.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function MH(t){let{scale:n,index:e,line:r}=t,i=[],o=r.segments,s=r.points,a=AH(n,e);a.push(uM({x:null,y:n.bottom},r));for(let c=0;c<o.length;c++){let l=o[c];for(let u=l.start;u<=l.end;u++)kH(i,s[u],a)}return new Sh({points:i,options:{}})}function AH(t,n){let e=[],r=t.getMatchingVisibleMetas("line");for(let i=0;i<r.length;i++){let o=r[i];if(o.index===n)break;o.hidden||e.unshift(o.dataset)}return e}function kH(t,n,e){let r=[];for(let i=0;i<e.length;i++){let o=e[i],{first:s,last:a,point:c}=RH(o,n,"x");if(!(!c||s&&a)){if(s)r.unshift(c);else if(t.push(c),!a)break}}t.push(...r)}function RH(t,n,e){let r=t.interpolate(n,e);if(!r)return{};let i=r[e],o=t.segments,s=t.points,a=!1,c=!1;for(let l=0;l<o.length;l++){let u=o[l],d=s[u.start][e],f=s[u.end][e];if(or(i,d,f)){a=i===d,c=i===f;break}}return{first:a,last:c,point:r}}var xh=class{constructor(n){this.x=n.x,this.y=n.y,this.radius=n.radius}pathSegment(n,e,r){let{x:i,y:o,radius:s}=this;return e=e||{start:0,end:we},n.arc(i,o,s,e.end,e.start,!0),!r.bounds}interpolate(n){let{x:e,y:r,radius:i}=this,o=n.angle;return{x:e+Math.cos(o)*i,y:r+Math.sin(o)*i,angle:o}}};function OH(t){let{chart:n,fill:e,line:r}=t;if(Le(e))return NH(n,e);if(e==="stack")return MH(t);if(e==="shape")return!0;let i=PH(t);return i instanceof xh?i:uM(i,r)}function NH(t,n){let e=t.getDatasetMeta(n);return e&&t.isDatasetVisible(n)?e.dataset:null}function PH(t){return(t.scale||{}).getPointPositionForValue?LH(t):FH(t)}function FH(t){let{scale:n={},fill:e}=t,r=IH(e,n);if(Le(r)){let i=n.isHorizontal();return{x:i?r:null,y:i?null:r}}return null}function LH(t){let{scale:n,fill:e}=t,r=n.options,i=n.getLabels().length,o=r.reverse?n.max:n.min,s=SH(e,n,o),a=[];if(r.grid.circular){let c=n.getPointPositionForValue(0,o);return new xh({x:c.x,y:c.y,radius:n.getDistanceFromCenterForValue(s)})}for(let c=0;c<i;++c)a.push(n.getPointPositionForValue(c,s));return a}function Fb(t,n,e){let r=OH(n),{chart:i,index:o,line:s,scale:a,axis:c}=n,l=s.options,u=l.fill,d=l.backgroundColor,{above:f=d,below:h=d}=u||{},p=i.getDatasetMeta(o),g=Ib(i,p);r&&s.points.length&&(wl(t,e),jH(t,{line:s,target:r,above:f,below:h,area:e,scale:a,axis:c,clip:g}),El(t))}function jH(t,n){let{line:e,target:r,above:i,below:o,area:s,scale:a,clip:c}=n,l=e._loop?"angle":n.axis;t.save();let u=o;o!==i&&(l==="x"?(ST(t,r,s.top),Lb(t,{line:e,target:r,color:i,scale:a,property:l,clip:c}),t.restore(),t.save(),ST(t,r,s.bottom)):l==="y"&&(TT(t,r,s.left),Lb(t,{line:e,target:r,color:o,scale:a,property:l,clip:c}),t.restore(),t.save(),TT(t,r,s.right),u=i)),Lb(t,{line:e,target:r,color:u,scale:a,property:l,clip:c}),t.restore()}function ST(t,n,e){let{segments:r,points:i}=n,o=!0,s=!1;t.beginPath();for(let a of r){let{start:c,end:l}=a,u=i[c],d=i[Th(c,l,i)];o?(t.moveTo(u.x,u.y),o=!1):(t.lineTo(u.x,e),t.lineTo(u.x,u.y)),s=!!n.pathSegment(t,a,{move:s}),s?t.closePath():t.lineTo(d.x,e)}t.lineTo(n.first().x,e),t.closePath(),t.clip()}function TT(t,n,e){let{segments:r,points:i}=n,o=!0,s=!1;t.beginPath();for(let a of r){let{start:c,end:l}=a,u=i[c],d=i[Th(c,l,i)];o?(t.moveTo(u.x,u.y),o=!1):(t.lineTo(e,u.y),t.lineTo(u.x,u.y)),s=!!n.pathSegment(t,a,{move:s}),s?t.closePath():t.lineTo(e,d.y)}t.lineTo(e,n.first().y),t.closePath(),t.clip()}function Lb(t,n){let{line:e,target:r,property:i,color:o,scale:s,clip:a}=n,c=wH(e,r,i);for(let{source:l,target:u,start:d,end:f}of c){let{style:{backgroundColor:h=o}={}}=l,p=r!==!0;t.save(),t.fillStyle=h,VH(t,s,a,p&&Qb(i,d,f)),t.beginPath();let g=!!e.pathSegment(t,l),m;if(p){g?t.closePath():MT(t,r,f,i);let y=!!r.pathSegment(t,u,{move:g,reverse:!0});m=g&&y,m||MT(t,r,d,i)}t.closePath(),t.fill(m?"evenodd":"nonzero"),t.restore()}}function VH(t,n,e,r){let i=n.chart.chartArea,{property:o,start:s,end:a}=r||{};if(o==="x"||o==="y"){let c,l,u,d;o==="x"?(c=s,l=i.top,u=a,d=i.bottom):(c=i.left,l=s,u=i.right,d=a),t.beginPath(),e&&(c=Math.max(c,e.left),u=Math.min(u,e.right),l=Math.max(l,e.top),d=Math.min(d,e.bottom)),t.rect(c,l,u-c,d-l),t.clip()}}function MT(t,n,e,r){let i=n.interpolate(e,r);i&&t.lineTo(i.x,i.y)}var BH={id:"filler",afterDatasetsUpdate(t,n,e){let r=(t.data.datasets||[]).length,i=[],o,s,a,c;for(s=0;s<r;++s)o=t.getDatasetMeta(s),a=o.dataset,c=null,a&&a.options&&a instanceof Sh&&(c={visible:t.isDatasetVisible(s),index:s,fill:CH(a,s,r),chart:t,axis:o.controller.options.indexAxis,scale:o.vScale,line:a}),o.$filler=c,i.push(c);for(s=0;s<r;++s)c=i[s],!(!c||c.fill===!1)&&(c.fill=DH(i,s,e.propagate))},beforeDraw(t,n,e){let r=e.drawTime==="beforeDraw",i=t.getSortedVisibleDatasetMetas(),o=t.chartArea;for(let s=i.length-1;s>=0;--s){let a=i[s].$filler;a&&(a.line.updateControlPoints(o,a.axis),r&&a.fill&&Fb(t.ctx,a,o))}},beforeDatasetsDraw(t,n,e){if(e.drawTime!=="beforeDatasetsDraw")return;let r=t.getSortedVisibleDatasetMetas();for(let i=r.length-1;i>=0;--i){let o=r[i].$filler;IT(o)&&Fb(t.ctx,o,t.chartArea)}},beforeDatasetDraw(t,n,e){let r=n.meta.$filler;!IT(r)||e.drawTime!=="beforeDatasetDraw"||Fb(t.ctx,r,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}},AT=(t,n)=>{let{boxHeight:e=n,boxWidth:r=n}=t;return t.usePointStyle&&(e=Math.min(e,n),r=t.pointStyleWidth||Math.min(r,n)),{boxWidth:r,boxHeight:e,itemHeight:Math.max(n,e)}},UH=(t,n)=>t!==null&&n!==null&&t.datasetIndex===n.datasetIndex&&t.index===n.index,Ih=class extends Bn{constructor(n){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=n.chart,this.options=n.options,this.ctx=n.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(n,e,r){this.maxWidth=n,this.maxHeight=e,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){let n=this.options.labels||{},e=ve(n.generateLabels,[this.chart],this)||[];n.filter&&(e=e.filter(r=>n.filter(r,this.chart.data))),n.sort&&(e=e.sort((r,i)=>n.sort(r,i,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){let{options:n,ctx:e}=this;if(!n.display){this.width=this.height=0;return}let r=n.labels,i=qe(r.font),o=i.size,s=this._computeTitleHeight(),{boxWidth:a,itemHeight:c}=AT(r,o),l,u;e.font=i.string,this.isHorizontal()?(l=this.maxWidth,u=this._fitRows(s,o,a,c)+10):(u=this.maxHeight,l=this._fitCols(s,i,a,c)+10),this.width=Math.min(l,n.maxWidth||this.maxWidth),this.height=Math.min(u,n.maxHeight||this.maxHeight)}_fitRows(n,e,r,i){let{ctx:o,maxWidth:s,options:{labels:{padding:a}}}=this,c=this.legendHitBoxes=[],l=this.lineWidths=[0],u=i+a,d=n;o.textAlign="left",o.textBaseline="middle";let f=-1,h=-u;return this.legendItems.forEach((p,g)=>{let m=r+e/2+o.measureText(p.text).width;(g===0||l[l.length-1]+m+2*a>s)&&(d+=u,l[l.length-(g>0?0:1)]=0,h+=u,f++),c[g]={left:0,top:h,row:f,width:m,height:i},l[l.length-1]+=m+a}),d}_fitCols(n,e,r,i){let{ctx:o,maxHeight:s,options:{labels:{padding:a}}}=this,c=this.legendHitBoxes=[],l=this.columnSizes=[],u=s-n,d=a,f=0,h=0,p=0,g=0;return this.legendItems.forEach((m,y)=>{let{itemWidth:v,itemHeight:_}=$H(r,e,o,m,i);y>0&&h+_+2*a>u&&(d+=f+a,l.push({width:f,height:h}),p+=f+a,g++,f=h=0),c[y]={left:p,top:h,col:g,width:v,height:_},f=Math.max(f,v),h+=_+a}),d+=f,l.push({width:f,height:h}),d}adjustHitBoxes(){if(!this.options.display)return;let n=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:r,labels:{padding:i},rtl:o}}=this,s=Lo(o,this.left,this.width);if(this.isHorizontal()){let a=0,c=gt(r,this.left+i,this.right-this.lineWidths[a]);for(let l of e)a!==l.row&&(a=l.row,c=gt(r,this.left+i,this.right-this.lineWidths[a])),l.top+=this.top+n+i,l.left=s.leftForLtr(s.x(c),l.width),c+=l.width+i}else{let a=0,c=gt(r,this.top+n+i,this.bottom-this.columnSizes[a].height);for(let l of e)l.col!==a&&(a=l.col,c=gt(r,this.top+n+i,this.bottom-this.columnSizes[a].height)),l.top=c,l.left+=this.left+i,l.left=s.leftForLtr(s.x(l.left),l.width),c+=l.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){let n=this.ctx;wl(n,this),this._draw(),El(n)}}_draw(){let{options:n,columnSizes:e,lineWidths:r,ctx:i}=this,{align:o,labels:s}=n,a=be.color,c=Lo(n.rtl,this.left,this.width),l=qe(s.font),{padding:u}=s,d=l.size,f=d/2,h;this.drawTitle(),i.textAlign=c.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=l.string;let{boxWidth:p,boxHeight:g,itemHeight:m}=AT(s,d),y=function(D,x,C){if(isNaN(p)||p<=0||isNaN(g)||g<0)return;i.save();let N=z(C.lineWidth,1);if(i.fillStyle=z(C.fillStyle,a),i.lineCap=z(C.lineCap,"butt"),i.lineDashOffset=z(C.lineDashOffset,0),i.lineJoin=z(C.lineJoin,"miter"),i.lineWidth=N,i.strokeStyle=z(C.strokeStyle,a),i.setLineDash(z(C.lineDash,[])),s.usePointStyle){let B={radius:g*Math.SQRT2/2,pointStyle:C.pointStyle,rotation:C.rotation,borderWidth:N},K=c.xPlus(D,p/2),te=x+f;pb(i,B,K,te,s.pointStyleWidth&&p)}else{let B=x+Math.max((d-g)/2,0),K=c.leftForLtr(D,p),te=Di(C.borderRadius);i.beginPath(),Object.values(te).some(ct=>ct!==0)?ra(i,{x:K,y:B,w:p,h:g,radius:te}):i.rect(K,B,p,g),i.fill(),N!==0&&i.stroke()}i.restore()},v=function(D,x,C){Ei(i,C.text,D,x+m/2,l,{strikethrough:C.hidden,textAlign:c.textAlign(C.textAlign)})},_=this.isHorizontal(),b=this._computeTitleHeight();_?h={x:gt(o,this.left+u,this.right-r[0]),y:this.top+u+b,line:0}:h={x:this.left+u,y:gt(o,this.top+b+u,this.bottom-e[0].height),line:0},Eb(this.ctx,n.textDirection);let w=m+u;this.legendItems.forEach((D,x)=>{i.strokeStyle=D.fontColor,i.fillStyle=D.fontColor;let C=i.measureText(D.text).width,N=c.textAlign(D.textAlign||(D.textAlign=s.textAlign)),B=p+f+C,K=h.x,te=h.y;c.setWidth(this.width),_?x>0&&K+B+u>this.right&&(te=h.y+=w,h.line++,K=h.x=gt(o,this.left+u,this.right-r[h.line])):x>0&&te+w>this.bottom&&(K=h.x=K+e[h.line].width+u,h.line++,te=h.y=gt(o,this.top+b+u,this.bottom-e[h.line].height));let ct=c.x(K);if(y(ct,te,D),K=AS(N,K+p+f,_?K+B:this.right,n.rtl),v(c.x(K),te,D),_)h.x+=B+u;else if(typeof D.text!="string"){let Ht=l.lineHeight;h.y+=dM(D,Ht)+u}else h.y+=w}),Db(this.ctx,n.textDirection)}drawTitle(){let n=this.options,e=n.title,r=qe(e.font),i=mt(e.padding);if(!e.display)return;let o=Lo(n.rtl,this.left,this.width),s=this.ctx,a=e.position,c=r.size/2,l=i.top+c,u,d=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),u=this.top+l,d=gt(n.align,d,this.right-f);else{let p=this.columnSizes.reduce((g,m)=>Math.max(g,m.height),0);u=l+gt(n.align,this.top,this.bottom-p-n.labels.padding-this._computeTitleHeight())}let h=gt(a,d,d+f);s.textAlign=o.textAlign(oh(a)),s.textBaseline="middle",s.strokeStyle=e.color,s.fillStyle=e.color,s.font=r.string,Ei(s,e.text,h,u,r)}_computeTitleHeight(){let n=this.options.title,e=qe(n.font),r=mt(n.padding);return n.display?e.lineHeight+r.height:0}_getLegendItemAt(n,e){let r,i,o;if(or(n,this.left,this.right)&&or(e,this.top,this.bottom)){for(o=this.legendHitBoxes,r=0;r<o.length;++r)if(i=o[r],or(n,i.left,i.left+i.width)&&or(e,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(n){let e=this.options;if(!WH(n.type,e))return;let r=this._getLegendItemAt(n.x,n.y);if(n.type==="mousemove"||n.type==="mouseout"){let i=this._hoveredItem,o=UH(i,r);i&&!o&&ve(e.onLeave,[n,i,this],this),this._hoveredItem=r,r&&!o&&ve(e.onHover,[n,r,this],this)}else r&&ve(e.onClick,[n,r,this],this)}};function $H(t,n,e,r,i){let o=HH(r,t,n,e),s=zH(i,r,n.lineHeight);return{itemWidth:o,itemHeight:s}}function HH(t,n,e,r){let i=t.text;return i&&typeof i!="string"&&(i=i.reduce((o,s)=>o.length>s.length?o:s)),n+e.size/2+r.measureText(i).width}function zH(t,n,e){let r=t;return typeof n.text!="string"&&(r=dM(n,e)),r}function dM(t,n){let e=t.text?t.text.length:0;return n*e}function WH(t,n){return!!((t==="mousemove"||t==="mouseout")&&(n.onHover||n.onLeave)||n.onClick&&(t==="click"||t==="mouseup"))}var GH={id:"legend",_element:Ih,start(t,n,e){let r=t.legend=new Ih({ctx:t.ctx,options:e,chart:t});wt.configure(t,r,e),wt.addBox(t,r)},stop(t){wt.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,n,e){let r=t.legend;wt.configure(t,r,e),r.options=e},afterUpdate(t){let n=t.legend;n.buildLabels(),n.adjustHitBoxes()},afterEvent(t,n){n.replay||t.legend.handleEvent(n.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,n,e){let r=n.datasetIndex,i=e.chart;i.isDatasetVisible(r)?(i.hide(r),n.hidden=!0):(i.show(r),n.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){let n=t.data.datasets,{labels:{usePointStyle:e,pointStyle:r,textAlign:i,color:o,useBorderRadius:s,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(c=>{let l=c.controller.getStyle(e?0:void 0),u=mt(l.borderWidth);return{text:n[c.index].label,fillStyle:l.backgroundColor,fontColor:o,hidden:!c.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:l.borderColor,pointStyle:r||l.pointStyle,rotation:l.rotation,textAlign:i||l.textAlign,borderRadius:s&&(a||l.borderRadius),datasetIndex:c.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}},kl=class extends Bn{constructor(n){super(),this.chart=n.chart,this.options=n.options,this.ctx=n.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(n,e){let r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=n,this.height=this.bottom=e;let i=_e(r.text)?r.text.length:1;this._padding=mt(r.padding);let o=i*qe(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){let n=this.options.position;return n==="top"||n==="bottom"}_drawArgs(n){let{top:e,left:r,bottom:i,right:o,options:s}=this,a=s.align,c=0,l,u,d;return this.isHorizontal()?(u=gt(a,r,o),d=e+n,l=o-r):(s.position==="left"?(u=r+n,d=gt(a,i,e),c=se*-.5):(u=o-n,d=gt(a,e,i),c=se*.5),l=i-e),{titleX:u,titleY:d,maxWidth:l,rotation:c}}draw(){let n=this.ctx,e=this.options;if(!e.display)return;let r=qe(e.font),o=r.lineHeight/2+this._padding.top,{titleX:s,titleY:a,maxWidth:c,rotation:l}=this._drawArgs(o);Ei(n,e.text,0,0,r,{color:e.color,maxWidth:c,rotation:l,textAlign:oh(e.align),textBaseline:"middle",translation:[s,a]})}};function qH(t,n){let e=new kl({ctx:t.ctx,options:n,chart:t});wt.configure(t,e,n),wt.addBox(t,e),t.titleBlock=e}var KH={id:"title",_element:kl,start(t,n,e){qH(t,e)},stop(t){let n=t.titleBlock;wt.removeBox(t,n),delete t.titleBlock},beforeUpdate(t,n,e){let r=t.titleBlock;wt.configure(t,r,e),r.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},mh=new WeakMap,YH={id:"subtitle",start(t,n,e){let r=new kl({ctx:t.ctx,options:e,chart:t});wt.configure(t,r,e),wt.addBox(t,r),mh.set(t,r)},stop(t){wt.removeBox(t,mh.get(t)),mh.delete(t)},beforeUpdate(t,n,e){let r=mh.get(t);wt.configure(t,r,e),r.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},Ml={average(t){if(!t.length)return!1;let n,e,r=new Set,i=0,o=0;for(n=0,e=t.length;n<e;++n){let a=t[n].element;if(a&&a.hasValue()){let c=a.tooltipPosition();r.add(c.x),i+=c.y,++o}}return o===0||r.size===0?!1:{x:[...r].reduce((a,c)=>a+c)/r.size,y:i/o}},nearest(t,n){if(!t.length)return!1;let e=n.x,r=n.y,i=Number.POSITIVE_INFINITY,o,s,a;for(o=0,s=t.length;o<s;++o){let c=t[o].element;if(c&&c.hasValue()){let l=c.getCenterPoint(),u=eh(n,l);u<i&&(i=u,a=c)}}if(a){let c=a.tooltipPosition();e=c.x,r=c.y}return{x:e,y:r}}};function sr(t,n){return n&&(_e(n)?Array.prototype.push.apply(t,n):t.push(n)),t}function Ur(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function ZH(t,n){let{element:e,datasetIndex:r,index:i}=n,o=t.getDatasetMeta(r).controller,{label:s,value:a}=o.getLabelAndValue(i);return{chart:t,label:s,parsed:o.getParsed(i),raw:t.data.datasets[r].data[i],formattedValue:a,dataset:o.getDataset(),dataIndex:i,datasetIndex:r,element:e}}function kT(t,n){let e=t.chart.ctx,{body:r,footer:i,title:o}=t,{boxWidth:s,boxHeight:a}=n,c=qe(n.bodyFont),l=qe(n.titleFont),u=qe(n.footerFont),d=o.length,f=i.length,h=r.length,p=mt(n.padding),g=p.height,m=0,y=r.reduce((b,w)=>b+w.before.length+w.lines.length+w.after.length,0);if(y+=t.beforeBody.length+t.afterBody.length,d&&(g+=d*l.lineHeight+(d-1)*n.titleSpacing+n.titleMarginBottom),y){let b=n.displayColors?Math.max(a,c.lineHeight):c.lineHeight;g+=h*b+(y-h)*c.lineHeight+(y-1)*n.bodySpacing}f&&(g+=n.footerMarginTop+f*u.lineHeight+(f-1)*n.footerSpacing);let v=0,_=function(b){m=Math.max(m,e.measureText(b).width+v)};return e.save(),e.font=l.string,de(t.title,_),e.font=c.string,de(t.beforeBody.concat(t.afterBody),_),v=n.displayColors?s+2+n.boxPadding:0,de(r,b=>{de(b.before,_),de(b.lines,_),de(b.after,_)}),v=0,e.font=u.string,de(t.footer,_),e.restore(),m+=p.width,{width:m,height:g}}function JH(t,n){let{y:e,height:r}=n;return e<r/2?"top":e>t.height-r/2?"bottom":"center"}function QH(t,n,e,r){let{x:i,width:o}=r,s=e.caretSize+e.caretPadding;if(t==="left"&&i+o+s>n.width||t==="right"&&i-o-s<0)return!0}function XH(t,n,e,r){let{x:i,width:o}=e,{width:s,chartArea:{left:a,right:c}}=t,l="center";return r==="center"?l=i<=(a+c)/2?"left":"right":i<=o/2?l="left":i>=s-o/2&&(l="right"),QH(l,t,n,e)&&(l="center"),l}function RT(t,n,e){let r=e.yAlign||n.yAlign||JH(t,e);return{xAlign:e.xAlign||n.xAlign||XH(t,n,e,r),yAlign:r}}function ez(t,n){let{x:e,width:r}=t;return n==="right"?e-=r:n==="center"&&(e-=r/2),e}function tz(t,n,e){let{y:r,height:i}=t;return n==="top"?r+=e:n==="bottom"?r-=i+e:r-=i/2,r}function OT(t,n,e,r){let{caretSize:i,caretPadding:o,cornerRadius:s}=t,{xAlign:a,yAlign:c}=e,l=i+o,{topLeft:u,topRight:d,bottomLeft:f,bottomRight:h}=Di(s),p=ez(n,a),g=tz(n,c,l);return c==="center"?a==="left"?p+=l:a==="right"&&(p-=l):a==="left"?p-=Math.max(u,f)+i:a==="right"&&(p+=Math.max(d,h)+i),{x:Xe(p,0,r.width-n.width),y:Xe(g,0,r.height-n.height)}}function yh(t,n,e){let r=mt(e.padding);return n==="center"?t.x+t.width/2:n==="right"?t.x+t.width-r.right:t.x+r.left}function NT(t){return sr([],Ur(t))}function nz(t,n,e){return Vr(t,{tooltip:n,tooltipItems:e,type:"tooltip"})}function PT(t,n){let e=n&&n.dataset&&n.dataset.tooltip&&n.dataset.tooltip.callbacks;return e?t.override(e):t}var fM={beforeTitle:ir,title(t){if(t.length>0){let n=t[0],e=n.chart.data.labels,r=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return n.dataset.label||"";if(n.label)return n.label;if(r>0&&n.dataIndex<r)return e[n.dataIndex]}return""},afterTitle:ir,beforeBody:ir,beforeLabel:ir,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let n=t.dataset.label||"";n&&(n+=": ");let e=t.formattedValue;return J(e)||(n+=e),n},labelColor(t){let e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){let e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:ir,afterBody:ir,beforeFooter:ir,footer:ir,afterFooter:ir};function Vt(t,n,e,r){let i=t[n].call(e,r);return typeof i>"u"?fM[n].call(e,r):i}var FT=(()=>{class t extends Bn{static positioners=Ml;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){let e=this._cachedAnimations;if(e)return e;let r=this.chart,i=this.options.setContext(this.getContext()),o=i.enabled&&r.options.animation&&i.animations,s=new wh(this.chart,o);return o._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=nz(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,r){let{callbacks:i}=r,o=Vt(i,"beforeTitle",this,e),s=Vt(i,"title",this,e),a=Vt(i,"afterTitle",this,e),c=[];return c=sr(c,Ur(o)),c=sr(c,Ur(s)),c=sr(c,Ur(a)),c}getBeforeBody(e,r){return NT(Vt(r.callbacks,"beforeBody",this,e))}getBody(e,r){let{callbacks:i}=r,o=[];return de(e,s=>{let a={before:[],lines:[],after:[]},c=PT(i,s);sr(a.before,Ur(Vt(c,"beforeLabel",this,s))),sr(a.lines,Vt(c,"label",this,s)),sr(a.after,Ur(Vt(c,"afterLabel",this,s))),o.push(a)}),o}getAfterBody(e,r){return NT(Vt(r.callbacks,"afterBody",this,e))}getFooter(e,r){let{callbacks:i}=r,o=Vt(i,"beforeFooter",this,e),s=Vt(i,"footer",this,e),a=Vt(i,"afterFooter",this,e),c=[];return c=sr(c,Ur(o)),c=sr(c,Ur(s)),c=sr(c,Ur(a)),c}_createItems(e){let r=this._active,i=this.chart.data,o=[],s=[],a=[],c=[],l,u;for(l=0,u=r.length;l<u;++l)c.push(ZH(this.chart,r[l]));return e.filter&&(c=c.filter((d,f,h)=>e.filter(d,f,h,i))),e.itemSort&&(c=c.sort((d,f)=>e.itemSort(d,f,i))),de(c,d=>{let f=PT(e.callbacks,d);o.push(Vt(f,"labelColor",this,d)),s.push(Vt(f,"labelPointStyle",this,d)),a.push(Vt(f,"labelTextColor",this,d))}),this.labelColors=o,this.labelPointStyles=s,this.labelTextColors=a,this.dataPoints=c,c}update(e,r){let i=this.options.setContext(this.getContext()),o=this._active,s,a=[];if(!o.length)this.opacity!==0&&(s={opacity:0});else{let c=Ml[i.position].call(this,o,this._eventPosition);a=this._createItems(i),this.title=this.getTitle(a,i),this.beforeBody=this.getBeforeBody(a,i),this.body=this.getBody(a,i),this.afterBody=this.getAfterBody(a,i),this.footer=this.getFooter(a,i);let l=this._size=kT(this,i),u=Object.assign({},c,l),d=RT(this.chart,i,u),f=OT(i,u,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,s={opacity:1,x:f.x,y:f.y,width:l.width,height:l.height,caretX:c.x,caretY:c.y}}this._tooltipItems=a,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:r})}drawCaret(e,r,i,o){let s=this.getCaretPosition(e,i,o);r.lineTo(s.x1,s.y1),r.lineTo(s.x2,s.y2),r.lineTo(s.x3,s.y3)}getCaretPosition(e,r,i){let{xAlign:o,yAlign:s}=this,{caretSize:a,cornerRadius:c}=i,{topLeft:l,topRight:u,bottomLeft:d,bottomRight:f}=Di(c),{x:h,y:p}=e,{width:g,height:m}=r,y,v,_,b,w,D;return s==="center"?(w=p+m/2,o==="left"?(y=h,v=y-a,b=w+a,D=w-a):(y=h+g,v=y+a,b=w-a,D=w+a),_=y):(o==="left"?v=h+Math.max(l,d)+a:o==="right"?v=h+g-Math.max(u,f)-a:v=this.caretX,s==="top"?(b=p,w=b-a,y=v-a,_=v+a):(b=p+m,w=b+a,y=v+a,_=v-a),D=b),{x1:y,x2:v,x3:_,y1:b,y2:w,y3:D}}drawTitle(e,r,i){let o=this.title,s=o.length,a,c,l;if(s){let u=Lo(i.rtl,this.x,this.width);for(e.x=yh(this,i.titleAlign,i),r.textAlign=u.textAlign(i.titleAlign),r.textBaseline="middle",a=qe(i.titleFont),c=i.titleSpacing,r.fillStyle=i.titleColor,r.font=a.string,l=0;l<s;++l)r.fillText(o[l],u.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+c,l+1===s&&(e.y+=i.titleMarginBottom-c)}}_drawColorBox(e,r,i,o,s){let a=this.labelColors[i],c=this.labelPointStyles[i],{boxHeight:l,boxWidth:u}=s,d=qe(s.bodyFont),f=yh(this,"left",s),h=o.x(f),p=l<d.lineHeight?(d.lineHeight-l)/2:0,g=r.y+p;if(s.usePointStyle){let m={radius:Math.min(u,l)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},y=o.leftForLtr(h,u)+u/2,v=g+l/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,ah(e,m,y,v),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,ah(e,m,y,v)}else{e.lineWidth=ee(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;let m=o.leftForLtr(h,u),y=o.leftForLtr(o.xPlus(h,1),u-2),v=Di(a.borderRadius);Object.values(v).some(_=>_!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,ra(e,{x:m,y:g,w:u,h:l,radius:v}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),ra(e,{x:y,y:g+1,w:u-2,h:l-2,radius:v}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(m,g,u,l),e.strokeRect(m,g,u,l),e.fillStyle=a.backgroundColor,e.fillRect(y,g+1,u-2,l-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,r,i){let{body:o}=this,{bodySpacing:s,bodyAlign:a,displayColors:c,boxHeight:l,boxWidth:u,boxPadding:d}=i,f=qe(i.bodyFont),h=f.lineHeight,p=0,g=Lo(i.rtl,this.x,this.width),m=function(N){r.fillText(N,g.x(e.x+p),e.y+h/2),e.y+=h+s},y=g.textAlign(a),v,_,b,w,D,x,C;for(r.textAlign=a,r.textBaseline="middle",r.font=f.string,e.x=yh(this,y,i),r.fillStyle=i.bodyColor,de(this.beforeBody,m),p=c&&y!=="right"?a==="center"?u/2+d:u+2+d:0,w=0,x=o.length;w<x;++w){for(v=o[w],_=this.labelTextColors[w],r.fillStyle=_,de(v.before,m),b=v.lines,c&&b.length&&(this._drawColorBox(r,e,w,g,i),h=Math.max(f.lineHeight,l)),D=0,C=b.length;D<C;++D)m(b[D]),h=f.lineHeight;de(v.after,m)}p=0,h=f.lineHeight,de(this.afterBody,m),e.y-=s}drawFooter(e,r,i){let o=this.footer,s=o.length,a,c;if(s){let l=Lo(i.rtl,this.x,this.width);for(e.x=yh(this,i.footerAlign,i),e.y+=i.footerMarginTop,r.textAlign=l.textAlign(i.footerAlign),r.textBaseline="middle",a=qe(i.footerFont),r.fillStyle=i.footerColor,r.font=a.string,c=0;c<s;++c)r.fillText(o[c],l.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+i.footerSpacing}}drawBackground(e,r,i,o){let{xAlign:s,yAlign:a}=this,{x:c,y:l}=e,{width:u,height:d}=i,{topLeft:f,topRight:h,bottomLeft:p,bottomRight:g}=Di(o.cornerRadius);r.fillStyle=o.backgroundColor,r.strokeStyle=o.borderColor,r.lineWidth=o.borderWidth,r.beginPath(),r.moveTo(c+f,l),a==="top"&&this.drawCaret(e,r,i,o),r.lineTo(c+u-h,l),r.quadraticCurveTo(c+u,l,c+u,l+h),a==="center"&&s==="right"&&this.drawCaret(e,r,i,o),r.lineTo(c+u,l+d-g),r.quadraticCurveTo(c+u,l+d,c+u-g,l+d),a==="bottom"&&this.drawCaret(e,r,i,o),r.lineTo(c+p,l+d),r.quadraticCurveTo(c,l+d,c,l+d-p),a==="center"&&s==="left"&&this.drawCaret(e,r,i,o),r.lineTo(c,l+f),r.quadraticCurveTo(c,l,c+f,l),r.closePath(),r.fill(),o.borderWidth>0&&r.stroke()}_updateAnimationTarget(e){let r=this.chart,i=this.$animations,o=i&&i.x,s=i&&i.y;if(o||s){let a=Ml[e.position].call(this,this._active,this._eventPosition);if(!a)return;let c=this._size=kT(this,e),l=Object.assign({},a,this._size),u=RT(r,e,l),d=OT(e,l,u,r);(o._to!==d.x||s._to!==d.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=c.width,this.height=c.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(e){let r=this.options.setContext(this.getContext()),i=this.opacity;if(!i)return;this._updateAnimationTarget(r);let o={width:this.width,height:this.height},s={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;let a=mt(r.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;r.enabled&&c&&(e.save(),e.globalAlpha=i,this.drawBackground(s,e,o,r),Eb(e,r.textDirection),s.y+=a.top,this.drawTitle(s,e,r),this.drawBody(s,e,r),this.drawFooter(s,e,r),Db(e,r.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,r){let i=this._active,o=e.map(({datasetIndex:c,index:l})=>{let u=this.chart.getDatasetMeta(c);if(!u)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:u.data[l],index:l}}),s=!bl(i,o),a=this._positionChanged(o,r);(s||a)&&(this._active=o,this._eventPosition=r,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,r,i=!0){if(r&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;let o=this.options,s=this._active||[],a=this._getActiveElements(e,s,r,i),c=this._positionChanged(a,e),l=r||!bl(a,s)||c;return l&&(this._active=a,(o.enabled||o.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,r))),l}_getActiveElements(e,r,i,o){let s=this.options;if(e.type==="mouseout")return[];if(!o)return r.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);let a=this.chart.getElementsAtEventForMode(e,s.mode,s,i);return s.reverse&&a.reverse(),a}_positionChanged(e,r){let{caretX:i,caretY:o,options:s}=this,a=Ml[s.position].call(this,e,r);return a!==!1&&(i!==a.x||o!==a.y)}}return t})(),rz={id:"tooltip",_element:FT,positioners:Ml,afterInit(t,n,e){e&&(t.tooltip=new FT({chart:t,options:e}))},beforeUpdate(t,n,e){t.tooltip&&t.tooltip.initialize(e)},reset(t,n,e){t.tooltip&&t.tooltip.initialize(e)},afterDraw(t){let n=t.tooltip;if(n&&n._willRender()){let e={tooltip:n};if(t.notifyPlugins("beforeTooltipDraw",Q(I({},e),{cancelable:!0}))===!1)return;n.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",e)}},afterEvent(t,n){if(t.tooltip){let e=n.replay;t.tooltip.handleEvent(n.event,e,n.inChartArea)&&(n.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,n)=>n.bodyFont.size,boxWidth:(t,n)=>n.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:fM},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},iz=Object.freeze({__proto__:null,Colors:mH,Decimation:_H,Filler:BH,Legend:GH,SubTitle:YH,Title:KH,Tooltip:rz}),oz=(t,n,e,r)=>(typeof n=="string"?(e=t.push(n)-1,r.unshift({index:e,label:n})):isNaN(n)&&(e=null),e);function sz(t,n,e,r){let i=t.indexOf(n);if(i===-1)return oz(t,n,e,r);let o=t.lastIndexOf(n);return i!==o?e:i}var az=(t,n)=>t===null?null:Xe(Math.round(t),0,n);function LT(t){let n=this.getLabels();return t>=0&&t<n.length?n[t]:t}var cz=(()=>{class t extends Bo{static id="category";static defaults={ticks:{callback:LT}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){let r=this._addedLabels;if(r.length){let i=this.getLabels();for(let{index:o,label:s}of r)i[o]===s&&i.splice(o,1);this._addedLabels=[]}super.init(e)}parse(e,r){if(J(e))return null;let i=this.getLabels();return r=isFinite(r)&&i[r]===e?r:sz(i,e,z(r,e),this._addedLabels),az(r,i.length-1)}determineDataLimits(){let{minDefined:e,maxDefined:r}=this.getUserBounds(),{min:i,max:o}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),r||(o=this.getLabels().length-1)),this.min=i,this.max=o}buildTicks(){let e=this.min,r=this.max,i=this.options.offset,o=[],s=this.getLabels();s=e===0&&r===s.length-1?s:s.slice(e,r+1),this._valueRange=Math.max(s.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let a=e;a<=r;a++)o.push({value:a});return o}getLabelForValue(e){return LT.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){let r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}return t})();function lz(t,n){let e=[],{bounds:i,step:o,min:s,max:a,precision:c,count:l,maxTicks:u,maxDigits:d,includeBounds:f}=t,h=o||1,p=u-1,{min:g,max:m}=n,y=!J(s),v=!J(a),_=!J(l),b=(m-g)/(d+1),w=tb((m-g)/p/h)*h,D,x,C,N;if(w<1e-14&&!y&&!v)return[{value:g},{value:m}];N=Math.ceil(m/w)-Math.floor(g/w),N>p&&(w=tb(N*w/p/h)*h),J(c)||(D=Math.pow(10,c),w=Math.ceil(w*D)/D),i==="ticks"?(x=Math.floor(g/w)*w,C=Math.ceil(m/w)*w):(x=g,C=m),y&&v&&o&&DS((a-s)/o,w/1e3)?(N=Math.round(Math.min((a-s)/w,u)),w=(a-s)/N,x=s,C=a):_?(x=y?s:x,C=v?a:C,N=l-1,w=(C-x)/N):(N=(C-x)/w,ea(N,Math.round(N),w/1e3)?N=Math.round(N):N=Math.ceil(N));let B=Math.max(rb(w),rb(x));D=Math.pow(10,J(c)?B:c),x=Math.round(x*D)/D,C=Math.round(C*D)/D;let K=0;for(y&&(f&&x!==s?(e.push({value:s}),x<s&&K++,ea(Math.round((x+K*w)*D)/D,s,jT(s,b,t))&&K++):x<s&&K++);K<N;++K){let te=Math.round((x+K*w)*D)/D;if(v&&te>a)break;e.push({value:te})}return v&&f&&C!==a?e.length&&ea(e[e.length-1].value,a,jT(a,b,t))?e[e.length-1].value=a:e.push({value:a}):(!v||C===a)&&e.push({value:C}),e}function jT(t,n,{horizontal:e,minRotation:r}){let i=yn(r),o=(e?Math.sin(i):Math.cos(i))||.001,s=.75*n*(""+t).length;return Math.min(n/o,s)}var aa=class extends Bo{constructor(n){super(n),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(n,e){return J(n)||(typeof n=="number"||n instanceof Number)&&!isFinite(+n)?null:+n}handleTickRangeOptions(){let{beginAtZero:n}=this.options,{minDefined:e,maxDefined:r}=this.getUserBounds(),{min:i,max:o}=this,s=c=>i=e?i:c,a=c=>o=r?o:c;if(n){let c=Vn(i),l=Vn(o);c<0&&l<0?a(0):c>0&&l>0&&s(0)}if(i===o){let c=o===0?1:Math.abs(o*.05);a(o+c),n||s(i-c)}this.min=i,this.max=o}getTickLimit(){let n=this.options.ticks,{maxTicksLimit:e,stepSize:r}=n,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),e=e||11),e&&(i=Math.min(e,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let n=this.options,e=n.ticks,r=this.getTickLimit();r=Math.max(2,r);let i={maxTicks:r,bounds:n.bounds,min:n.min,max:n.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},o=this._range||this,s=lz(i,o);return n.bounds==="ticks"&&nb(s,this,"value"),n.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}configure(){let n=this.ticks,e=this.min,r=this.max;if(super.configure(),this.options.offset&&n.length){let i=(r-e)/Math.max(n.length-1,1)/2;e-=i,r+=i}this._startValue=e,this._endValue=r,this._valueRange=r-e}getLabelForValue(n){return na(n,this.chart.options.locale,this.options.ticks.format)}},Xb=class extends aa{static id="linear";static defaults={ticks:{callback:_l.formatters.numeric}};determineDataLimits(){let{min:n,max:e}=this.getMinMax(!0);this.min=Le(n)?n:0,this.max=Le(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){let n=this.isHorizontal(),e=n?this.width:this.height,r=yn(this.options.ticks.minRotation),i=(n?Math.sin(r):Math.cos(r))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,o.lineHeight/i))}getPixelForValue(n){return n===null?NaN:this.getPixelForDecimal((n-this._startValue)/this._valueRange)}getValueForPixel(n){return this._startValue+this.getDecimalForPixel(n)*this._valueRange}},Rl=t=>Math.floor(Lr(t)),Vo=(t,n)=>Math.pow(10,Rl(t)+n);function VT(t){return t/Math.pow(10,Rl(t))===1}function BT(t,n,e){let r=Math.pow(10,e),i=Math.floor(t/r);return Math.ceil(n/r)-i}function uz(t,n){let e=n-t,r=Rl(e);for(;BT(t,n,r)>10;)r++;for(;BT(t,n,r)<10;)r--;return Math.min(r,Rl(t))}function dz(t,{min:n,max:e}){n=jt(t.min,n);let r=[],i=Rl(n),o=uz(n,e),s=o<0?Math.pow(10,Math.abs(o)):1,a=Math.pow(10,o),c=i>o?Math.pow(10,i):0,l=Math.round((n-c)*s)/s,u=Math.floor((n-c)/a/10)*a*10,d=Math.floor((l-u)/Math.pow(10,o)),f=jt(t.min,Math.round((c+u+d*Math.pow(10,o))*s)/s);for(;f<e;)r.push({value:f,major:VT(f),significand:d}),d>=10?d=d<15?15:20:d++,d>=20&&(o++,d=2,s=o>=0?1:s),f=Math.round((c+u+d*Math.pow(10,o))*s)/s;let h=jt(t.max,f);return r.push({value:h,major:VT(h),significand:d}),r}var e_=class extends Bo{static id="logarithmic";static defaults={ticks:{callback:_l.formatters.logarithmic,major:{enabled:!0}}};constructor(n){super(n),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(n,e){let r=aa.prototype.parse.apply(this,[n,e]);if(r===0){this._zero=!0;return}return Le(r)&&r>0?r:null}determineDataLimits(){let{min:n,max:e}=this.getMinMax(!0);this.min=Le(n)?Math.max(0,n):null,this.max=Le(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Le(this._userMin)&&(this.min=n===Vo(this.min,0)?Vo(this.min,-1):Vo(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:n,maxDefined:e}=this.getUserBounds(),r=this.min,i=this.max,o=a=>r=n?r:a,s=a=>i=e?i:a;r===i&&(r<=0?(o(1),s(10)):(o(Vo(r,-1)),s(Vo(i,1)))),r<=0&&o(Vo(i,-1)),i<=0&&s(Vo(r,1)),this.min=r,this.max=i}buildTicks(){let n=this.options,e={min:this._userMin,max:this._userMax},r=dz(e,this);return n.bounds==="ticks"&&nb(r,this,"value"),n.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}getLabelForValue(n){return n===void 0?"0":na(n,this.chart.options.locale,this.options.ticks.format)}configure(){let n=this.min;super.configure(),this._startValue=Lr(n),this._valueRange=Lr(this.max)-Lr(n)}getPixelForValue(n){return(n===void 0||n===0)&&(n=this.min),n===null||isNaN(n)?NaN:this.getPixelForDecimal(n===this.min?0:(Lr(n)-this._startValue)/this._valueRange)}getValueForPixel(n){let e=this.getDecimalForPixel(n);return Math.pow(10,this._startValue+e*this._valueRange)}};function t_(t){let n=t.ticks;if(n.display&&t.display){let e=mt(n.backdropPadding);return z(n.font&&n.font.size,be.font.size)+e.height}return 0}function fz(t,n,e){return e=_e(e)?e:[e],{w:RS(t,n.string,e),h:e.length*n.lineHeight}}function UT(t,n,e,r,i){return t===r||t===i?{start:n-e/2,end:n+e/2}:t<r||t>i?{start:n-e,end:n}:{start:n,end:n+e}}function hz(t){let n={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},e=Object.assign({},n),r=[],i=[],o=t._pointLabels.length,s=t.options.pointLabels,a=s.centerPointLabels?se/o:0;for(let c=0;c<o;c++){let l=s.setContext(t.getPointLabelContext(c));i[c]=l.padding;let u=t.getPointPosition(c,t.drawingArea+i[c],a),d=qe(l.font),f=fz(t.ctx,d,t._pointLabels[c]);r[c]=f;let h=pt(t.getIndexAngle(c)+a),p=Math.round(rh(h)),g=UT(p,u.x,f.w,0,180),m=UT(p,u.y,f.h,90,270);pz(e,n,h,g,m)}t.setCenterPoint(n.l-e.l,e.r-n.r,n.t-e.t,e.b-n.b),t._pointLabelItems=yz(t,r,i)}function pz(t,n,e,r,i){let o=Math.abs(Math.sin(e)),s=Math.abs(Math.cos(e)),a=0,c=0;r.start<n.l?(a=(n.l-r.start)/o,t.l=Math.min(t.l,n.l-a)):r.end>n.r&&(a=(r.end-n.r)/o,t.r=Math.max(t.r,n.r+a)),i.start<n.t?(c=(n.t-i.start)/s,t.t=Math.min(t.t,n.t-c)):i.end>n.b&&(c=(i.end-n.b)/s,t.b=Math.max(t.b,n.b+c))}function gz(t,n,e){let r=t.drawingArea,{extra:i,additionalAngle:o,padding:s,size:a}=e,c=t.getPointPosition(n,r+i+s,o),l=Math.round(rh(pt(c.angle+$e))),u=_z(c.y,a.h,l),d=vz(l),f=bz(c.x,a.w,d);return{visible:!0,x:c.x,y:u,textAlign:d,left:f,top:u,right:f+a.w,bottom:u+a.h}}function mz(t,n){if(!n)return!0;let{left:e,top:r,right:i,bottom:o}=t;return!(rr({x:e,y:r},n)||rr({x:e,y:o},n)||rr({x:i,y:r},n)||rr({x:i,y:o},n))}function yz(t,n,e){let r=[],i=t._pointLabels.length,o=t.options,{centerPointLabels:s,display:a}=o.pointLabels,c={extra:t_(o)/2,additionalAngle:s?se/i:0},l;for(let u=0;u<i;u++){c.padding=e[u],c.size=n[u];let d=gz(t,u,c);r.push(d),a==="auto"&&(d.visible=mz(d,l),d.visible&&(l=d))}return r}function vz(t){return t===0||t===180?"center":t<180?"left":"right"}function bz(t,n,e){return e==="right"?t-=n:e==="center"&&(t-=n/2),t}function _z(t,n,e){return e===90||e===270?t-=n/2:(e>270||e<90)&&(t-=n),t}function wz(t,n,e){let{left:r,top:i,right:o,bottom:s}=e,{backdropColor:a}=n;if(!J(a)){let c=Di(n.borderRadius),l=mt(n.backdropPadding);t.fillStyle=a;let u=r-l.left,d=i-l.top,f=o-r+l.width,h=s-i+l.height;Object.values(c).some(p=>p!==0)?(t.beginPath(),ra(t,{x:u,y:d,w:f,h,radius:c}),t.fill()):t.fillRect(u,d,f,h)}}function Ez(t,n){let{ctx:e,options:{pointLabels:r}}=t;for(let i=n-1;i>=0;i--){let o=t._pointLabelItems[i];if(!o.visible)continue;let s=r.setContext(t.getPointLabelContext(i));wz(e,s,o);let a=qe(s.font),{x:c,y:l,textAlign:u}=o;Ei(e,t._pointLabels[i],c,l+a.lineHeight/2,a,{color:s.color,textAlign:u,textBaseline:"middle"})}}function hM(t,n,e,r){let{ctx:i}=t;if(e)i.arc(t.xCenter,t.yCenter,n,0,we);else{let o=t.getPointPosition(0,n);i.moveTo(o.x,o.y);for(let s=1;s<r;s++)o=t.getPointPosition(s,n),i.lineTo(o.x,o.y)}}function Dz(t,n,e,r,i){let o=t.ctx,s=n.circular,{color:a,lineWidth:c}=n;!s&&!r||!a||!c||e<0||(o.save(),o.strokeStyle=a,o.lineWidth=c,o.setLineDash(i.dash||[]),o.lineDashOffset=i.dashOffset,o.beginPath(),hM(t,e,s,r),o.closePath(),o.stroke(),o.restore())}function Cz(t,n,e){return Vr(t,{label:e,index:n,type:"pointLabel"})}var n_=class extends aa{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:_l.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(n){return n},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(n){super(n),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let n=this._padding=mt(t_(this.options)/2),e=this.width=this.maxWidth-n.width,r=this.height=this.maxHeight-n.height;this.xCenter=Math.floor(this.left+e/2+n.left),this.yCenter=Math.floor(this.top+r/2+n.top),this.drawingArea=Math.floor(Math.min(e,r)/2)}determineDataLimits(){let{min:n,max:e}=this.getMinMax(!1);this.min=Le(n)&&!isNaN(n)?n:0,this.max=Le(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/t_(this.options))}generateTickLabels(n){aa.prototype.generateTickLabels.call(this,n),this._pointLabels=this.getLabels().map((e,r)=>{let i=ve(this.options.pointLabels.callback,[e,r],this);return i||i===0?i:""}).filter((e,r)=>this.chart.getDataVisibility(r))}fit(){let n=this.options;n.display&&n.pointLabels.display?hz(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(n,e,r,i){this.xCenter+=Math.floor((n-e)/2),this.yCenter+=Math.floor((r-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(n,e,r,i))}getIndexAngle(n){let e=we/(this._pointLabels.length||1),r=this.options.startAngle||0;return pt(n*e+yn(r))}getDistanceFromCenterForValue(n){if(J(n))return NaN;let e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-n)*e:(n-this.min)*e}getValueForDistanceFromCenter(n){if(J(n))return NaN;let e=n/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(n){let e=this._pointLabels||[];if(n>=0&&n<e.length){let r=e[n];return Cz(this.getContext(),n,r)}}getPointPosition(n,e,r=0){let i=this.getIndexAngle(n)-$e+r;return{x:Math.cos(i)*e+this.xCenter,y:Math.sin(i)*e+this.yCenter,angle:i}}getPointPositionForValue(n,e){return this.getPointPosition(n,this.getDistanceFromCenterForValue(e))}getBasePosition(n){return this.getPointPositionForValue(n||0,this.getBaseValue())}getPointLabelPosition(n){let{left:e,top:r,right:i,bottom:o}=this._pointLabelItems[n];return{left:e,top:r,right:i,bottom:o}}drawBackground(){let{backgroundColor:n,grid:{circular:e}}=this.options;if(n){let r=this.ctx;r.save(),r.beginPath(),hM(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),r.closePath(),r.fillStyle=n,r.fill(),r.restore()}}drawGrid(){let n=this.ctx,e=this.options,{angleLines:r,grid:i,border:o}=e,s=this._pointLabels.length,a,c,l;if(e.pointLabels.display&&Ez(this,s),i.display&&this.ticks.forEach((u,d)=>{if(d!==0||d===0&&this.min<0){c=this.getDistanceFromCenterForValue(u.value);let f=this.getContext(d),h=i.setContext(f),p=o.setContext(f);Dz(this,h,c,s,p)}}),r.display){for(n.save(),a=s-1;a>=0;a--){let u=r.setContext(this.getPointLabelContext(a)),{color:d,lineWidth:f}=u;!f||!d||(n.lineWidth=f,n.strokeStyle=d,n.setLineDash(u.borderDash),n.lineDashOffset=u.borderDashOffset,c=this.getDistanceFromCenterForValue(e.reverse?this.min:this.max),l=this.getPointPosition(a,c),n.beginPath(),n.moveTo(this.xCenter,this.yCenter),n.lineTo(l.x,l.y),n.stroke())}n.restore()}}drawBorder(){}drawLabels(){let n=this.ctx,e=this.options,r=e.ticks;if(!r.display)return;let i=this.getIndexAngle(0),o,s;n.save(),n.translate(this.xCenter,this.yCenter),n.rotate(i),n.textAlign="center",n.textBaseline="middle",this.ticks.forEach((a,c)=>{if(c===0&&this.min>=0&&!e.reverse)return;let l=r.setContext(this.getContext(c)),u=qe(l.font);if(o=this.getDistanceFromCenterForValue(this.ticks[c].value),l.showLabelBackdrop){n.font=u.string,s=n.measureText(a.label).width,n.fillStyle=l.backdropColor;let d=mt(l.backdropPadding);n.fillRect(-s/2-d.left,-o-u.size/2-d.top,s+d.width,u.size+d.height)}Ei(n,a.label,0,-o,u,{color:l.color,strokeColor:l.textStrokeColor,strokeWidth:l.textStrokeWidth})}),n.restore()}drawTitle(){}},Mh={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Bt=Object.keys(Mh);function $T(t,n){return t-n}function HT(t,n){if(J(n))return null;let e=t._adapter,{parser:r,round:i,isoWeekday:o}=t._parseOpts,s=n;return typeof r=="function"&&(s=r(s)),Le(s)||(s=typeof r=="string"?e.parse(s,r):e.parse(s)),s===null?null:(i&&(s=i==="week"&&(Fo(o)||o===!0)?e.startOf(s,"isoWeek",o):e.startOf(s,i)),+s)}function zT(t,n,e,r){let i=Bt.length;for(let o=Bt.indexOf(t);o<i-1;++o){let s=Mh[Bt[o]],a=s.steps?s.steps:Number.MAX_SAFE_INTEGER;if(s.common&&Math.ceil((e-n)/(a*s.size))<=r)return Bt[o]}return Bt[i-1]}function xz(t,n,e,r,i){for(let o=Bt.length-1;o>=Bt.indexOf(e);o--){let s=Bt[o];if(Mh[s].common&&t._adapter.diff(i,r,s)>=n-1)return s}return Bt[e?Bt.indexOf(e):0]}function Iz(t){for(let n=Bt.indexOf(t)+1,e=Bt.length;n<e;++n)if(Mh[Bt[n]].common)return Bt[n]}function WT(t,n,e){if(!e)t[n]=!0;else if(e.length){let{lo:r,hi:i}=ih(e,n),o=e[r]>=n?e[r]:e[i];t[o]=!0}}function Sz(t,n,e,r){let i=t._adapter,o=+i.startOf(n[0].value,r),s=n[n.length-1].value,a,c;for(a=o;a<=s;a=+i.add(a,1,r))c=e[a],c>=0&&(n[c].major=!0);return n}function GT(t,n,e){let r=[],i={},o=n.length,s,a;for(s=0;s<o;++s)a=n[s],i[a]=s,r.push({value:a,major:!1});return o===0||!e?r:Sz(t,r,i,e)}var r_=(()=>{class t extends Bo{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,r={}){let i=e.time||(e.time={}),o=this._adapter=new jU._date(e.adapters.date);o.init(r),Qs(i.displayFormats,o.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=r.normalized}parse(e,r){return e===void 0?null:HT(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let e=this.options,r=this._adapter,i=e.time.unit||"day",{min:o,max:s,minDefined:a,maxDefined:c}=this.getUserBounds();function l(u){!a&&!isNaN(u.min)&&(o=Math.min(o,u.min)),!c&&!isNaN(u.max)&&(s=Math.max(s,u.max))}(!a||!c)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),o=Le(o)&&!isNaN(o)?o:+r.startOf(Date.now(),i),s=Le(s)&&!isNaN(s)?s:+r.endOf(Date.now(),i)+1,this.min=Math.min(o,s-1),this.max=Math.max(o+1,s)}_getLabelBounds(){let e=this.getLabelTimestamps(),r=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(r=e[0],i=e[e.length-1]),{min:r,max:i}}buildTicks(){let e=this.options,r=e.time,i=e.ticks,o=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&o.length&&(this.min=this._userMin||o[0],this.max=this._userMax||o[o.length-1]);let s=this.min,a=this.max,c=IS(o,s,a);return this._unit=r.unit||(i.autoSkip?zT(r.minUnit,this.min,this.max,this._getLabelCapacity(s)):xz(this,c.length,r.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:Iz(this._unit),this.initOffsets(o),e.reverse&&c.reverse(),GT(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let r=0,i=0,o,s;this.options.offset&&e.length&&(o=this.getDecimalForValue(e[0]),e.length===1?r=1-o:r=(this.getDecimalForValue(e[1])-o)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?i=s:i=(s-this.getDecimalForValue(e[e.length-2]))/2);let a=e.length<3?.5:.25;r=Xe(r,0,a),i=Xe(i,0,a),this._offsets={start:r,end:i,factor:1/(r+1+i)}}_generate(){let e=this._adapter,r=this.min,i=this.max,o=this.options,s=o.time,a=s.unit||zT(s.minUnit,r,i,this._getLabelCapacity(r)),c=z(o.ticks.stepSize,1),l=a==="week"?s.isoWeekday:!1,u=Fo(l)||l===!0,d={},f=r,h,p;if(u&&(f=+e.startOf(f,"isoWeek",l)),f=+e.startOf(f,u?"day":a),e.diff(i,r,a)>1e5*c)throw new Error(r+" and "+i+" are too far apart with stepSize of "+c+" "+a);let g=o.ticks.source==="data"&&this.getDataTimestamps();for(h=f,p=0;h<i;h=+e.add(h,c,a),p++)WT(d,h,g);return(h===i||o.bounds==="ticks"||p===1)&&WT(d,h,g),Object.keys(d).sort($T).map(m=>+m)}getLabelForValue(e){let r=this._adapter,i=this.options.time;return i.tooltipFormat?r.format(e,i.tooltipFormat):r.format(e,i.displayFormats.datetime)}format(e,r){let o=this.options.time.displayFormats,s=this._unit,a=r||o[s];return this._adapter.format(e,a)}_tickFormatFunction(e,r,i,o){let s=this.options,a=s.ticks.callback;if(a)return ve(a,[e,r,i],this);let c=s.time.displayFormats,l=this._unit,u=this._majorUnit,d=l&&c[l],f=u&&c[u],h=i[r],p=u&&f&&h&&h.major;return this._adapter.format(e,o||(p?f:d))}generateTickLabels(e){let r,i,o;for(r=0,i=e.length;r<i;++r)o=e[r],o.label=this._tickFormatFunction(o.value,r,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){let r=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((r.start+i)*r.factor)}getValueForPixel(e){let r=this._offsets,i=this.getDecimalForPixel(e)/r.factor-r.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){let r=this.options.ticks,i=this.ctx.measureText(e).width,o=yn(this.isHorizontal()?r.maxRotation:r.minRotation),s=Math.cos(o),a=Math.sin(o),c=this._resolveTickFontOptions(0).size;return{w:i*s+c*a,h:i*a+c*s}}_getLabelCapacity(e){let r=this.options.time,i=r.displayFormats,o=i[r.unit]||i.millisecond,s=this._tickFormatFunction(e,0,GT(this,[e],this._majorUnit),o),a=this._getLabelSize(s),c=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return c>0?c:1}getDataTimestamps(){let e=this._cache.data||[],r,i;if(e.length)return e;let o=this.getMatchingVisibleMetas();if(this._normalized&&o.length)return this._cache.data=o[0].controller.getAllParsedValues(this);for(r=0,i=o.length;r<i;++r)e=e.concat(o[r].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){let e=this._cache.labels||[],r,i;if(e.length)return e;let o=this.getLabels();for(r=0,i=o.length;r<i;++r)e.push(HT(this,o[r]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return sb(e.sort($T))}}return t})();function vh(t,n,e){let r=0,i=t.length-1,o,s,a,c;e?(n>=t[r].pos&&n<=t[i].pos&&({lo:r,hi:i}=nr(t,"pos",n)),{pos:o,time:a}=t[r],{pos:s,time:c}=t[i]):(n>=t[r].time&&n<=t[i].time&&({lo:r,hi:i}=nr(t,"time",n)),{time:o,pos:a}=t[r],{time:s,pos:c}=t[i]);let l=s-o;return l?a+(c-a)*(n-o)/l:a}var i_=class extends r_{static id="timeseries";static defaults=r_.defaults;constructor(n){super(n),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let n=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(n);this._minPos=vh(e,this.min),this._tableRange=vh(e,this.max)-this._minPos,super.initOffsets(n)}buildLookupTable(n){let{min:e,max:r}=this,i=[],o=[],s,a,c,l,u;for(s=0,a=n.length;s<a;++s)l=n[s],l>=e&&l<=r&&i.push(l);if(i.length<2)return[{time:e,pos:0},{time:r,pos:1}];for(s=0,a=i.length;s<a;++s)u=i[s+1],c=i[s-1],l=i[s],Math.round((u+c)/2)!==l&&o.push({time:l,pos:s/(a-1)});return o}_generate(){let n=this.min,e=this.max,r=super.getDataTimestamps();return(!r.includes(n)||!r.length)&&r.splice(0,0,n),(!r.includes(e)||r.length===1)&&r.push(e),r.sort((i,o)=>i-o)}_getTimestampsForTable(){let n=this._cache.all||[];if(n.length)return n;let e=this.getDataTimestamps(),r=this.getLabelTimestamps();return e.length&&r.length?n=this.normalize(e.concat(r)):n=e.length?e:r,n=this._cache.all=n,n}getDecimalForValue(n){return(vh(this._table,n)-this._minPos)/this._tableRange}getValueForPixel(n){let e=this._offsets,r=this.getDecimalForPixel(n)/e.factor-e.end;return vh(this._table,r*this._tableRange+this._minPos,!0)}},Tz=Object.freeze({__proto__:null,CategoryScale:cz,LinearScale:Xb,LogarithmicScale:e_,RadialLinearScale:n_,TimeScale:r_,TimeSeriesScale:i_}),pM=[LU,lH,iz,Tz];var Mz=typeof global=="object"&&global&&global.Object===Object&&global,Ah=Mz;var Az=typeof self=="object"&&self&&self.Object===Object&&self,kz=Ah||Az||Function("return this")(),vn=kz;var Rz=vn.Symbol,ca=Rz;var gM=Object.prototype,Oz=gM.hasOwnProperty,Nz=gM.toString,Pl=ca?ca.toStringTag:void 0;function Pz(t){var n=Oz.call(t,Pl),e=t[Pl];try{t[Pl]=void 0;var r=!0}catch{}var i=Nz.call(t);return r&&(n?t[Pl]=e:delete t[Pl]),i}var mM=Pz;var Fz=Object.prototype,Lz=Fz.toString;function jz(t){return Lz.call(t)}var yM=jz;var Vz="[object Null]",Bz="[object Undefined]",vM=ca?ca.toStringTag:void 0;function Uz(t){return t==null?t===void 0?Bz:Vz:vM&&vM in Object(t)?mM(t):yM(t)}var Si=Uz;function $z(t){return t!=null&&typeof t=="object"}var cr=$z;var Hz=Array.isArray,Fl=Hz;function zz(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}var Ut=zz;function Wz(t){return t}var kh=Wz;var Gz="[object AsyncFunction]",qz="[object Function]",Kz="[object GeneratorFunction]",Yz="[object Proxy]";function Zz(t){if(!Ut(t))return!1;var n=Si(t);return n==qz||n==Kz||n==Gz||n==Yz}var la=Zz;var Jz=vn["__core-js_shared__"],Rh=Jz;var bM=(function(){var t=/[^.]+$/.exec(Rh&&Rh.keys&&Rh.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""})();function Qz(t){return!!bM&&bM in t}var _M=Qz;var Xz=Function.prototype,eW=Xz.toString;function tW(t){if(t!=null){try{return eW.call(t)}catch{}try{return t+""}catch{}}return""}var wM=tW;var nW=/[\\^$.*+?()[\]{}|]/g,rW=/^\[object .+?Constructor\]$/,iW=Function.prototype,oW=Object.prototype,sW=iW.toString,aW=oW.hasOwnProperty,cW=RegExp("^"+sW.call(aW).replace(nW,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function lW(t){if(!Ut(t)||_M(t))return!1;var n=la(t)?cW:rW;return n.test(wM(t))}var EM=lW;function uW(t,n){return t?.[n]}var DM=uW;function dW(t,n){var e=DM(t,n);return EM(e)?e:void 0}var ua=dW;var CM=Object.create,fW=(function(){function t(){}return function(n){if(!Ut(n))return{};if(CM)return CM(n);t.prototype=n;var e=new t;return t.prototype=void 0,e}})(),xM=fW;function hW(t,n,e){switch(e.length){case 0:return t.call(n);case 1:return t.call(n,e[0]);case 2:return t.call(n,e[0],e[1]);case 3:return t.call(n,e[0],e[1],e[2])}return t.apply(n,e)}var IM=hW;function pW(t,n){var e=-1,r=t.length;for(n||(n=Array(r));++e<r;)n[e]=t[e];return n}var SM=pW;var gW=800,mW=16,yW=Date.now;function vW(t){var n=0,e=0;return function(){var r=yW(),i=mW-(r-e);if(e=r,i>0){if(++n>=gW)return arguments[0]}else n=0;return t.apply(void 0,arguments)}}var TM=vW;function bW(t){return function(){return t}}var MM=bW;var _W=(function(){try{var t=ua(Object,"defineProperty");return t({},"",{}),t}catch{}})(),da=_W;var wW=da?function(t,n){return da(t,"toString",{configurable:!0,enumerable:!1,value:MM(n),writable:!0})}:kh,AM=wW;var EW=TM(AM),kM=EW;var DW=9007199254740991,CW=/^(?:0|[1-9]\d*)$/;function xW(t,n){var e=typeof t;return n=n??DW,!!n&&(e=="number"||e!="symbol"&&CW.test(t))&&t>-1&&t%1==0&&t<n}var Oh=xW;function IW(t,n,e){n=="__proto__"&&da?da(t,n,{configurable:!0,enumerable:!0,value:e,writable:!0}):t[n]=e}var fa=IW;function SW(t,n){return t===n||t!==t&&n!==n}var Ti=SW;var TW=Object.prototype,MW=TW.hasOwnProperty;function AW(t,n,e){var r=t[n];(!(MW.call(t,n)&&Ti(r,e))||e===void 0&&!(n in t))&&fa(t,n,e)}var RM=AW;function kW(t,n,e,r){var i=!e;e||(e={});for(var o=-1,s=n.length;++o<s;){var a=n[o],c=r?r(e[a],t[a],a,e,t):void 0;c===void 0&&(c=t[a]),i?fa(e,a,c):RM(e,a,c)}return e}var OM=kW;var NM=Math.max;function RW(t,n,e){return n=NM(n===void 0?t.length-1:n,0),function(){for(var r=arguments,i=-1,o=NM(r.length-n,0),s=Array(o);++i<o;)s[i]=r[n+i];i=-1;for(var a=Array(n+1);++i<n;)a[i]=r[i];return a[n]=e(s),IM(t,this,a)}}var PM=RW;function OW(t,n){return kM(PM(t,n,kh),t+"")}var FM=OW;var NW=9007199254740991;function PW(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=NW}var Nh=PW;function FW(t){return t!=null&&Nh(t.length)&&!la(t)}var ha=FW;function LW(t,n,e){if(!Ut(e))return!1;var r=typeof n;return(r=="number"?ha(e)&&Oh(n,e.length):r=="string"&&n in e)?Ti(e[n],t):!1}var LM=LW;function jW(t){return FM(function(n,e){var r=-1,i=e.length,o=i>1?e[i-1]:void 0,s=i>2?e[2]:void 0;for(o=t.length>3&&typeof o=="function"?(i--,o):void 0,s&&LM(e[0],e[1],s)&&(o=i<3?void 0:o,i=1),n=Object(n);++r<i;){var a=e[r];a&&t(n,a,r,o)}return n})}var jM=jW;var VW=Object.prototype;function BW(t){var n=t&&t.constructor,e=typeof n=="function"&&n.prototype||VW;return t===e}var Ph=BW;function UW(t,n){for(var e=-1,r=Array(t);++e<t;)r[e]=n(e);return r}var VM=UW;var $W="[object Arguments]";function HW(t){return cr(t)&&Si(t)==$W}var s_=HW;var BM=Object.prototype,zW=BM.hasOwnProperty,WW=BM.propertyIsEnumerable,GW=s_((function(){return arguments})())?s_:function(t){return cr(t)&&zW.call(t,"callee")&&!WW.call(t,"callee")},Ll=GW;function qW(){return!1}var UM=qW;var zM=typeof exports=="object"&&exports&&!exports.nodeType&&exports,$M=zM&&typeof module=="object"&&module&&!module.nodeType&&module,KW=$M&&$M.exports===zM,HM=KW?vn.Buffer:void 0,YW=HM?HM.isBuffer:void 0,ZW=YW||UM,Fh=ZW;var JW="[object Arguments]",QW="[object Array]",XW="[object Boolean]",e8="[object Date]",t8="[object Error]",n8="[object Function]",r8="[object Map]",i8="[object Number]",o8="[object Object]",s8="[object RegExp]",a8="[object Set]",c8="[object String]",l8="[object WeakMap]",u8="[object ArrayBuffer]",d8="[object DataView]",f8="[object Float32Array]",h8="[object Float64Array]",p8="[object Int8Array]",g8="[object Int16Array]",m8="[object Int32Array]",y8="[object Uint8Array]",v8="[object Uint8ClampedArray]",b8="[object Uint16Array]",_8="[object Uint32Array]",Ie={};Ie[f8]=Ie[h8]=Ie[p8]=Ie[g8]=Ie[m8]=Ie[y8]=Ie[v8]=Ie[b8]=Ie[_8]=!0;Ie[JW]=Ie[QW]=Ie[u8]=Ie[XW]=Ie[d8]=Ie[e8]=Ie[t8]=Ie[n8]=Ie[r8]=Ie[i8]=Ie[o8]=Ie[s8]=Ie[a8]=Ie[c8]=Ie[l8]=!1;function w8(t){return cr(t)&&Nh(t.length)&&!!Ie[Si(t)]}var WM=w8;function E8(t){return function(n){return t(n)}}var GM=E8;var qM=typeof exports=="object"&&exports&&!exports.nodeType&&exports,jl=qM&&typeof module=="object"&&module&&!module.nodeType&&module,D8=jl&&jl.exports===qM,a_=D8&&Ah.process,C8=(function(){try{var t=jl&&jl.require&&jl.require("util").types;return t||a_&&a_.binding&&a_.binding("util")}catch{}})(),c_=C8;var KM=c_&&c_.isTypedArray,x8=KM?GM(KM):WM,Lh=x8;var I8=Object.prototype,S8=I8.hasOwnProperty;function T8(t,n){var e=Fl(t),r=!e&&Ll(t),i=!e&&!r&&Fh(t),o=!e&&!r&&!i&&Lh(t),s=e||r||i||o,a=s?VM(t.length,String):[],c=a.length;for(var l in t)(n||S8.call(t,l))&&!(s&&(l=="length"||i&&(l=="offset"||l=="parent")||o&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||Oh(l,c)))&&a.push(l);return a}var YM=T8;function M8(t,n){return function(e){return t(n(e))}}var ZM=M8;function A8(t){var n=[];if(t!=null)for(var e in Object(t))n.push(e);return n}var JM=A8;var k8=Object.prototype,R8=k8.hasOwnProperty;function O8(t){if(!Ut(t))return JM(t);var n=Ph(t),e=[];for(var r in t)r=="constructor"&&(n||!R8.call(t,r))||e.push(r);return e}var QM=O8;function N8(t){return ha(t)?YM(t,!0):QM(t)}var jh=N8;var P8=ua(Object,"create"),$r=P8;function F8(){this.__data__=$r?$r(null):{},this.size=0}var XM=F8;function L8(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}var eA=L8;var j8="__lodash_hash_undefined__",V8=Object.prototype,B8=V8.hasOwnProperty;function U8(t){var n=this.__data__;if($r){var e=n[t];return e===j8?void 0:e}return B8.call(n,t)?n[t]:void 0}var tA=U8;var $8=Object.prototype,H8=$8.hasOwnProperty;function z8(t){var n=this.__data__;return $r?n[t]!==void 0:H8.call(n,t)}var nA=z8;var W8="__lodash_hash_undefined__";function G8(t,n){var e=this.__data__;return this.size+=this.has(t)?0:1,e[t]=$r&&n===void 0?W8:n,this}var rA=G8;function pa(t){var n=-1,e=t==null?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}pa.prototype.clear=XM;pa.prototype.delete=eA;pa.prototype.get=tA;pa.prototype.has=nA;pa.prototype.set=rA;var l_=pa;function q8(){this.__data__=[],this.size=0}var iA=q8;function K8(t,n){for(var e=t.length;e--;)if(Ti(t[e][0],n))return e;return-1}var Mi=K8;var Y8=Array.prototype,Z8=Y8.splice;function J8(t){var n=this.__data__,e=Mi(n,t);if(e<0)return!1;var r=n.length-1;return e==r?n.pop():Z8.call(n,e,1),--this.size,!0}var oA=J8;function Q8(t){var n=this.__data__,e=Mi(n,t);return e<0?void 0:n[e][1]}var sA=Q8;function X8(t){return Mi(this.__data__,t)>-1}var aA=X8;function e3(t,n){var e=this.__data__,r=Mi(e,t);return r<0?(++this.size,e.push([t,n])):e[r][1]=n,this}var cA=e3;function ga(t){var n=-1,e=t==null?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}ga.prototype.clear=iA;ga.prototype.delete=oA;ga.prototype.get=sA;ga.prototype.has=aA;ga.prototype.set=cA;var Ai=ga;var t3=ua(vn,"Map"),Vh=t3;function n3(){this.size=0,this.__data__={hash:new l_,map:new(Vh||Ai),string:new l_}}var lA=n3;function r3(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}var uA=r3;function i3(t,n){var e=t.__data__;return uA(n)?e[typeof n=="string"?"string":"hash"]:e.map}var ki=i3;function o3(t){var n=ki(this,t).delete(t);return this.size-=n?1:0,n}var dA=o3;function s3(t){return ki(this,t).get(t)}var fA=s3;function a3(t){return ki(this,t).has(t)}var hA=a3;function c3(t,n){var e=ki(this,t),r=e.size;return e.set(t,n),this.size+=e.size==r?0:1,this}var pA=c3;function ma(t){var n=-1,e=t==null?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}ma.prototype.clear=lA;ma.prototype.delete=dA;ma.prototype.get=fA;ma.prototype.has=hA;ma.prototype.set=pA;var gA=ma;var l3=ZM(Object.getPrototypeOf,Object),Bh=l3;var u3="[object Object]",d3=Function.prototype,f3=Object.prototype,mA=d3.toString,h3=f3.hasOwnProperty,p3=mA.call(Object);function g3(t){if(!cr(t)||Si(t)!=u3)return!1;var n=Bh(t);if(n===null)return!0;var e=h3.call(n,"constructor")&&n.constructor;return typeof e=="function"&&e instanceof e&&mA.call(e)==p3}var yA=g3;function m3(){this.__data__=new Ai,this.size=0}var vA=m3;function y3(t){var n=this.__data__,e=n.delete(t);return this.size=n.size,e}var bA=y3;function v3(t){return this.__data__.get(t)}var _A=v3;function b3(t){return this.__data__.has(t)}var wA=b3;var _3=200;function w3(t,n){var e=this.__data__;if(e instanceof Ai){var r=e.__data__;if(!Vh||r.length<_3-1)return r.push([t,n]),this.size=++e.size,this;e=this.__data__=new gA(r)}return e.set(t,n),this.size=e.size,this}var EA=w3;function ya(t){var n=this.__data__=new Ai(t);this.size=n.size}ya.prototype.clear=vA;ya.prototype.delete=bA;ya.prototype.get=_A;ya.prototype.has=wA;ya.prototype.set=EA;var DA=ya;var SA=typeof exports=="object"&&exports&&!exports.nodeType&&exports,CA=SA&&typeof module=="object"&&module&&!module.nodeType&&module,E3=CA&&CA.exports===SA,xA=E3?vn.Buffer:void 0,IA=xA?xA.allocUnsafe:void 0;function D3(t,n){if(n)return t.slice();var e=t.length,r=IA?IA(e):new t.constructor(e);return t.copy(r),r}var TA=D3;var C3=vn.Uint8Array,u_=C3;function x3(t){var n=new t.constructor(t.byteLength);return new u_(n).set(new u_(t)),n}var MA=x3;function I3(t,n){var e=n?MA(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.length)}var AA=I3;function S3(t){return typeof t.constructor=="function"&&!Ph(t)?xM(Bh(t)):{}}var kA=S3;function T3(t){return function(n,e,r){for(var i=-1,o=Object(n),s=r(n),a=s.length;a--;){var c=s[t?a:++i];if(e(o[c],c,o)===!1)break}return n}}var RA=T3;var M3=RA(),OA=M3;function A3(t,n,e){(e!==void 0&&!Ti(t[n],e)||e===void 0&&!(n in t))&&fa(t,n,e)}var Vl=A3;function k3(t){return cr(t)&&ha(t)}var NA=k3;function R3(t,n){if(!(n==="constructor"&&typeof t[n]=="function")&&n!="__proto__")return t[n]}var Bl=R3;function O3(t){return OM(t,jh(t))}var PA=O3;function N3(t,n,e,r,i,o,s){var a=Bl(t,e),c=Bl(n,e),l=s.get(c);if(l){Vl(t,e,l);return}var u=o?o(a,c,e+"",t,n,s):void 0,d=u===void 0;if(d){var f=Fl(c),h=!f&&Fh(c),p=!f&&!h&&Lh(c);u=c,f||h||p?Fl(a)?u=a:NA(a)?u=SM(a):h?(d=!1,u=TA(c,!0)):p?(d=!1,u=AA(c,!0)):u=[]:yA(c)||Ll(c)?(u=a,Ll(a)?u=PA(a):(!Ut(a)||la(a))&&(u=kA(c))):d=!1}d&&(s.set(c,u),i(u,c,r,o,s),s.delete(c)),Vl(t,e,u)}var FA=N3;function LA(t,n,e,r,i){t!==n&&OA(n,function(o,s){if(i||(i=new DA),Ut(o))FA(t,n,s,e,LA,r,i);else{var a=r?r(Bl(t,s),o,s+"",t,n,i):void 0;a===void 0&&(a=o),Vl(t,s,a)}},jh)}var jA=LA;var P3=jM(function(t,n,e){jA(t,n,e)}),Uh=P3;var F3=(()=>{class t{constructor(){this.colorschemesOptions=new Ze(void 0)}setColorschemesOptions(e){this.pColorschemesOptions=e,this.colorschemesOptions.next(e)}getColorschemesOptions(){return this.pColorschemesOptions}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),$h=(()=>{class t{constructor(e,r,i){this.zone=r,this.themeService=i,this.type="bar",this.plugins=[],this.chartClick=new De,this.chartHover=new De,this.subs=[],this.themeOverrides={},this.ctx=e.nativeElement.getContext("2d"),this.subs.push(this.themeService.colorschemesOptions.pipe(Eg()).subscribe(o=>this.themeChanged(o)))}ngOnChanges(e){let r=["type"],i=Object.getOwnPropertyNames(e);if(i.some(o=>r.includes(o))||i.every(o=>e[o].isFirstChange()))this.render();else{let o=this.getChartConfiguration();this.chart&&(Object.assign(this.chart.config.data,o.data),this.chart.config.plugins&&Object.assign(this.chart.config.plugins,o.plugins),this.chart.config.options&&Object.assign(this.chart.config.options,o.options)),this.update()}}ngOnDestroy(){this.chart&&(this.chart.destroy(),this.chart=void 0),this.subs.forEach(e=>e.unsubscribe())}render(){return this.chart&&this.chart.destroy(),this.zone.runOutsideAngular(()=>this.chart=new Nl(this.ctx,this.getChartConfiguration()))}update(e){this.chart&&this.zone.runOutsideAngular(()=>this.chart?.update(e))}hideDataset(e,r){this.chart&&(this.chart.getDatasetMeta(e).hidden=r,this.update())}isDatasetHidden(e){return this.chart?.getDatasetMeta(e)?.hidden}toBase64Image(){return this.chart?.toBase64Image()}themeChanged(e){this.themeOverrides=e,this.chart&&(this.chart.config.options&&Object.assign(this.chart.config.options,this.getChartOptions()),this.update())}getChartOptions(){return Uh({onHover:(e,r)=>{!this.chartHover.observed&&!this.chartHover.observers?.length||this.zone.run(()=>this.chartHover.emit({event:e,active:r}))},onClick:(e,r)=>{!this.chartClick.observed&&!this.chartClick.observers?.length||this.zone.run(()=>this.chartClick.emit({event:e,active:r}))}},this.themeOverrides,this.options,{plugins:{legend:{display:this.legend}}})}getChartConfiguration(){return{type:this.type,data:this.getChartData(),options:this.getChartOptions(),plugins:this.plugins}}getChartData(){return this.data?this.data:{labels:this.labels||[],datasets:this.datasets||[]}}static{this.\u0275fac=function(r){return new(r||t)(j(Pe),j(Be),j(F3))}}static{this.\u0275dir=Fe({type:t,selectors:[["canvas","baseChart",""]],inputs:{type:"type",legend:"legend",data:"data",options:"options",plugins:"plugins",labels:"labels",datasets:"datasets"},outputs:{chartClick:"chartClick",chartHover:"chartHover"},exportAs:["base-chart"],standalone:!1,features:[ln]})}}return t})(),L3=[[255,99,132],[54,162,235],[255,206,86],[231,233,237],[75,192,192],[151,187,205],[220,220,220],[247,70,74],[70,191,189],[253,180,92],[148,159,177],[77,83,96]],j3={plugins:{colors:{enabled:!1}},datasets:{line:{backgroundColor:t=>Ri(Oi(t.datasetIndex),.4),borderColor:t=>Ri(Oi(t.datasetIndex),1),pointBackgroundColor:t=>Ri(Oi(t.datasetIndex),1),pointBorderColor:"#fff"},bar:{backgroundColor:t=>Ri(Oi(t.datasetIndex),.6),borderColor:t=>Ri(Oi(t.datasetIndex),1)},get radar(){return this.line},doughnut:{backgroundColor:t=>Ri(Oi(t.dataIndex),.6),borderColor:"#fff"},get pie(){return this.doughnut},polarArea:{backgroundColor:t=>Ri(Oi(t.dataIndex),.6),borderColor:t=>Ri(Oi(t.dataIndex),1)},get bubble(){return this.doughnut},get scatter(){return this.doughnut},get area(){return this.polarArea}}};function Ri(t,n){return"rgba("+t.concat(n).join(",")+")"}function d_(t,n){return Math.floor(Math.random()*(n-t+1))+t}function V3(){return[d_(0,255),d_(0,255),d_(0,255)]}function Oi(t=0){return L3[t]||V3()}var VA=(()=>{class t{constructor(){this.generateColors=!0}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();Nl.register(...pM);var Hh=(()=>{class t{constructor(e){e?.plugins&&Nl.register(...e.plugins);let r=Uh(e?.generateColors?j3:{},e?.defaults||{});be.set(r)}static forRoot(e){return{ngModule:t,providers:[{provide:VA,useValue:e}]}}static{this.\u0275fac=function(r){return new(r||t)(L(VA,8))}}static{this.\u0275mod=Zt({type:t})}static{this.\u0275inj=Ft({})}}return t})();var Tw=MO(AR(),1),{PostgrestError:oge,FunctionsHttpError:sge,FunctionsFetchError:age,FunctionsRelayError:cge,FunctionsError:lge,FunctionRegion:uge,SupabaseClient:dge,createClient:kR,GoTrueAdminApi:fge,GoTrueClient:hge,AuthAdminApi:pge,AuthClient:gge,navigatorLock:mge,NavigatorLockAcquireTimeoutError:yge,lockInternals:vge,processLock:bge,SIGN_OUT_SCOPES:_ge,AuthError:wge,AuthApiError:Ege,AuthUnknownError:Dge,CustomAuthError:Cge,AuthSessionMissingError:xge,AuthInvalidTokenResponseError:Ige,AuthInvalidCredentialsError:Sge,AuthImplicitGrantRedirectError:Tge,AuthPKCEGrantCodeExchangeError:Mge,AuthRetryableFetchError:Age,AuthWeakPasswordError:kge,AuthInvalidJwtError:Rge,isAuthError:Oge,isAuthApiError:Nge,isAuthSessionMissingError:Pge,isAuthImplicitGrantRedirectError:Fge,isAuthRetryableFetchError:Lge,isAuthWeakPasswordError:jge,RealtimePresence:Vge,RealtimeChannel:Bge,RealtimeClient:Uge,REALTIME_LISTEN_TYPES:$ge,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:Hge,REALTIME_PRESENCE_LISTEN_EVENTS:zge,REALTIME_SUBSCRIBE_STATES:Wge,REALTIME_CHANNEL_STATES:Gge}=Tw.default||Tw;var uq=kR("https://itmyvglglpxgcvikpjfy.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Iml0bXl2Z2xnbHB4Z2N2aWtwamZ5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUxMDM5MjcsImV4cCI6MjA4MDY3OTkyN30.a_f8t9uB9bmpGhqFMM6QPoQ7havDjUKk_gJMeHcFMMY"),Re=uq;var dq=["barChart"],fq=["pieChart"];function hq(t,n){if(t&1&&(S(0,"div",9)(1,"div",10)(2,"div",3)(3,"div",4)(4,"h3"),P(5),T(),S(6,"p"),P(7),T()(),S(8,"div",11)(9,"p",12),P(10),T()()()()()),t&2){let e=n.$implicit;U(5),Pn(e.subject),U(2),Pn(e.category),U(2),Ge("income",e.income),U(),Mr("",e.income?"+":"-","",e.prise)}}var Mp=class t{constructor(n){this.cdr=n}barChart;pieChart;transactions=[];lastTransactions=[];income=0;expense=0;total=0;barChartData={labels:["Food","Transport","Fun","Income","Other"],datasets:[{label:"Categories",data:[0,0,0,0,0],backgroundColor:["#3B82F6","#3B82F6","#3B82F6","#3B82F6","#3B82F6"]}]};pieChartData={labels:["Income","Expese"],datasets:[{data:[0,0],backgroundColor:["#3B82F6","#60A5FA"]}]};barChartOptions={responsive:!0,plugins:{legend:{display:!0,position:"bottom",labels:{color:"#fff",font:{size:14},usePointStyle:!0}},title:{display:!0,text:"Categories",color:"#fff",font:{size:18}},tooltip:{enabled:!0,backgroundColor:"#222",titleColor:"#fff",bodyColor:"#fff"}}};pieChartOptions={responsive:!0,plugins:{legend:{display:!0,position:"bottom",labels:{color:"#fff",font:{size:14},usePointStyle:!0}},title:{display:!0,text:"Income and Expense",color:"#fff",font:{size:18}},tooltip:{enabled:!0,backgroundColor:"#222",titleColor:"#fff",bodyColor:"#fff"}}};ngOnInit(){this.loadTransactions(),this.cdr.detectChanges()}async calcChartData(){let{data:n}=await Re.auth.getUser(),e=n.user?.email,{data:r}=await Re.from("Transactions").select("transactions").eq("user",e).single();if(!r?.transactions)return;let i=0,o=0,s=0,a=0,c=0,l=0;r.transactions.forEach(u=>{let d=u.category?.toLowerCase();if(u.income)a+=u.prise;else switch(c+=u.prise,d){case"food":i+=u.prise;break;case"transport":o+=u.prise;break;case"fun":s+=u.prise;break;default:l+=u.prise;break}}),this.income=a,this.expense=c,this.total=a-c,this.barChartData.datasets[0].data=[i,o,s,a,l],this.pieChartData.datasets[0].data=[a,c],this.cdr.detectChanges(),this.barChart?.update(),this.pieChart?.update()}async loadTransactions(){let{data:n}=await Re.auth.getUser(),e=n.user?.email,{data:r,error:i}=await Re.from("Transactions").select("transactions").eq("user",e).single();if(i){this.transactions=[];return}this.transactions=r.transactions||[],this.calcChartData(),this.lastTransactions=this.transactions.slice(0,2)}static \u0275fac=function(e){return new(e||t)(j(Qe))};static \u0275cmp=me({type:t,selectors:[["app-dashboard"]],viewQuery:function(e,r){if(e&1&&(Nn(dq,5),Nn(fq,5)),e&2){let i;dn(i=fn())&&(r.barChart=i.first),dn(i=fn())&&(r.pieChart=i.first)}},decls:36,vars:10,consts:[["barChart",""],["pieChart",""],[1,"container"],[1,"grid-two"],[1,"column"],[1,"grid-three"],[1,"card"],["baseChart","",3,"data","type","options"],["class","list",4,"ngFor","ngForOf"],[1,"list"],[1,"list-item"],["id","prise-container"],[1,"transactionPrise"]],template:function(e,r){e&1&&(S(0,"div",2)(1,"h1"),P(2,"Dashboard"),T(),S(3,"p"),P(4,"Welcome to Expense Tracker"),T(),S(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6)(9,"h2"),P(10,"Income"),T(),S(11,"h1"),P(12),T()(),S(13,"div",6)(14,"h2"),P(15,"Expenses"),T(),S(16,"h1"),P(17),T()(),S(18,"div",6)(19,"h2"),P(20,"Total"),T(),S(21,"h1"),P(22),T()()(),S(23,"div",6)(24,"div",3)(25,"div",6),We(26,"canvas",7,0),T(),S(28,"div",6),We(29,"canvas",7,1),T()()()(),S(31,"div",4)(32,"div",6)(33,"h2"),P(34,"Last Transactions"),T(),Jt(35,hq,11,6,"div",8),T()()()()),e&2&&(U(12),Do("",r.income,"\u20AC"),U(5),Do("-",r.expense,"\u20AC"),U(5),Do("",r.total,"\u20AC"),U(4),ye("data",r.barChartData)("type","bar")("options",r.barChartOptions),U(3),ye("data",r.pieChartData)("type","pie")("options",r.pieChartOptions),U(6),ye("ngForOf",r.lastTransactions))},dependencies:[Hh,$h,di],styles:[".container[_ngcontent-%COMP%]{padding:20px}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{color:#fff}column[_ngcontent-%COMP%]{display:flex;flex-direction:column}.grid-two[_ngcontent-%COMP%]{display:grid;grid-template-columns:2fr 1fr}.grid-three[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr 1fr}.card[_ngcontent-%COMP%]{padding:20px;margin:10px;background:#111;display:flex;justify-items:center;flex-direction:column;border-radius:15px;transition:all .2s ease-in-out}.card[_ngcontent-%COMP%]:hover{scale:1.02;border:1px solid #222}.list-item[_ngcontent-%COMP%]{margin:10px;background:#222;padding:10px;border-radius:15px}#prise-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.transactionPrise[_ngcontent-%COMP%]{color:#ef4444}.transactionPrise.income[_ngcontent-%COMP%]{color:#22c55e}"]})};var BR=(()=>{class t{_renderer;_elementRef;onChange=e=>{};onTouched=()=>{};constructor(e,r){this._renderer=e,this._elementRef=r}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static \u0275fac=function(r){return new(r||t)(j(Sr),j(Pe))};static \u0275dir=Fe({type:t})}return t})(),Np=(()=>{class t extends BR{static \u0275fac=(()=>{let e;return function(i){return(e||(e=Zn(t)))(i||t)}})();static \u0275dir=Fe({type:t,features:[Jn]})}return t})(),ns=new k("");var pq={provide:ns,useExisting:on(()=>Wa),multi:!0};function gq(){let t=gn()?gn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var mq=new k(""),Wa=(()=>{class t extends BR{_compositionMode;_composing=!1;constructor(e,r,i){super(e,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!gq())}writeValue(e){let r=e??"";this.setProperty("value",r)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static \u0275fac=function(r){return new(r||t)(j(Sr),j(Pe),j(mq,8))};static \u0275dir=Fe({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&fe("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[Ar([pq]),Jn]})}return t})();var Nw=new k(""),yq=new k("");function UR(t){return t!=null}function $R(t){return ai(t)?ze(t):t}function HR(t){let n={};return t.forEach(e=>{n=e!=null?I(I({},n),e):n}),Object.keys(n).length===0?null:n}function zR(t,n){return n.map(e=>e(t))}function vq(t){return!t.validate}function WR(t){return t.map(n=>vq(n)?n:e=>n.validate(e))}function bq(t){if(!t)return null;let n=t.filter(UR);return n.length==0?null:function(e){return HR(zR(e,n))}}function GR(t){return t!=null?bq(WR(t)):null}function _q(t){if(!t)return null;let n=t.filter(UR);return n.length==0?null:function(e){let r=zR(e,n).map($R);return ac(r).pipe(X(HR))}}function qR(t){return t!=null?_q(WR(t)):null}function RR(t,n){return t===null?[n]:Array.isArray(t)?[...t,n]:[t,n]}function wq(t){return t._rawValidators}function Eq(t){return t._rawAsyncValidators}function Mw(t){return t?Array.isArray(t)?t:[t]:[]}function kp(t,n){return Array.isArray(t)?t.includes(n):t===n}function OR(t,n){let e=Mw(n);return Mw(t).forEach(i=>{kp(e,i)||e.push(i)}),e}function NR(t,n){return Mw(n).filter(e=>!kp(t,e))}var Rp=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=GR(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=qR(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,e){return this.control?this.control.hasError(n,e):!1}getError(n,e){return this.control?this.control.getError(n,e):null}},Aw=class extends Rp{name;get formDirective(){return null}get path(){return null}},lu=class extends Rp{_parent=null;name=null;valueAccessor=null},kw=class{_cd;constructor(n){this._cd=n}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}};var Pp=(()=>{class t extends kw{constructor(e){super(e)}static \u0275fac=function(r){return new(r||t)(j(lu,2))};static \u0275dir=Fe({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Ge("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[Jn]})}return t})();var ou="VALID",Ap="INVALID",Ha="PENDING",su="DISABLED",ts=class{},Op=class extends ts{value;source;constructor(n,e){super(),this.value=n,this.source=e}},au=class extends ts{pristine;source;constructor(n,e){super(),this.pristine=n,this.source=e}},cu=class extends ts{touched;source;constructor(n,e){super(),this.touched=n,this.source=e}},za=class extends ts{status;source;constructor(n,e){super(),this.status=n,this.source=e}};var Rw=class extends ts{source;constructor(n){super(),this.source=n}};function Dq(t){return(Fp(t)?t.validators:t)||null}function Cq(t){return Array.isArray(t)?GR(t):t||null}function xq(t,n){return(Fp(n)?n.asyncValidators:t)||null}function Iq(t){return Array.isArray(t)?qR(t):t||null}function Fp(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}var Ow=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(n,e){this._assignValidators(n),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get status(){return rt(this.statusReactive)}set status(n){rt(()=>this.statusReactive.set(n))}_status=Uc(()=>this.statusReactive());statusReactive=Yt(void 0);get valid(){return this.status===ou}get invalid(){return this.status===Ap}get pending(){return this.status==Ha}get disabled(){return this.status===su}get enabled(){return this.status!==su}errors;get pristine(){return rt(this.pristineReactive)}set pristine(n){rt(()=>this.pristineReactive.set(n))}_pristine=Uc(()=>this.pristineReactive());pristineReactive=Yt(!0);get dirty(){return!this.pristine}get touched(){return rt(this.touchedReactive)}set touched(n){rt(()=>this.touchedReactive.set(n))}_touched=Uc(()=>this.touchedReactive());touchedReactive=Yt(!1);get untouched(){return!this.touched}_events=new Ve;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(OR(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(OR(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(NR(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(NR(n,this._rawAsyncValidators))}hasValidator(n){return kp(this._rawValidators,n)}hasAsyncValidator(n){return kp(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){let e=this.touched===!1;this.touched=!0;let r=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsTouched(Q(I({},n),{sourceControl:r})),e&&n.emitEvent!==!1&&this._events.next(new cu(!0,r))}markAllAsDirty(n={}){this.markAsDirty({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsDirty(n))}markAllAsTouched(n={}){this.markAsTouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(n))}markAsUntouched(n={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=n.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:r})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,r),e&&n.emitEvent!==!1&&this._events.next(new cu(!1,r))}markAsDirty(n={}){let e=this.pristine===!0;this.pristine=!1;let r=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsDirty(Q(I({},n),{sourceControl:r})),e&&n.emitEvent!==!1&&this._events.next(new au(!1,r))}markAsPristine(n={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=n.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:n.emitEvent})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n,r),e&&n.emitEvent!==!1&&this._events.next(new au(!0,r))}markAsPending(n={}){this.status=Ha;let e=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new za(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.markAsPending(Q(I({},n),{sourceControl:e}))}disable(n={}){let e=this._parentMarkedDirty(n.onlySelf);this.status=su,this.errors=null,this._forEachChild(i=>{i.disable(Q(I({},n),{onlySelf:!0}))}),this._updateValue();let r=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new Op(this.value,r)),this._events.next(new za(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Q(I({},n),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(n={}){let e=this._parentMarkedDirty(n.onlySelf);this.status=ou,this._forEachChild(r=>{r.enable(Q(I({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(Q(I({},n),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(n,e){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ou||this.status===Ha)&&this._runAsyncValidator(r,n.emitEvent)}let e=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new Op(this.value,e)),this._events.next(new za(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(Q(I({},n),{sourceControl:e}))}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?su:ou}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n,e){if(this.asyncValidator){this.status=Ha,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1,shouldHaveEmitted:n!==!1};let r=$R(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:e,shouldHaveEmitted:n})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let n=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,n}return!1}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(n){let e=n;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((r,i)=>r&&r._find(i),this)}getError(n,e){let r=e?this.get(e):this;return r&&r.errors?r.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n,e,r){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),(n||r)&&this._events.next(new za(this.status,e)),this._parent&&this._parent._updateControlsErrors(n,e,r)}_initObservables(){this.valueChanges=new De,this.statusChanges=new De}_calculateStatus(){return this._allControlsDisabled()?su:this.errors?Ap:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ha)?Ha:this._anyControlsHaveStatus(Ap)?Ap:ou}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n,e){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!n.onlySelf&&this._parent._updatePristine(n,e),i&&this._events.next(new au(this.pristine,e))}_updateTouched(n={},e){this.touched=this._anyControlsTouched(),this._events.next(new cu(this.touched,e)),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,e)}_onDisabledChange=[];_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){Fp(n)&&n.updateOn!=null&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){let e=this._parent&&this._parent.dirty;return!n&&!!e&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=Cq(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=Iq(this._rawAsyncValidators)}};var KR=new k("",{factory:()=>Pw}),Pw="always";function Sq(t,n){return[...n.path,t]}function Tq(t,n,e=Pw){Aq(t,n),n.valueAccessor.writeValue(t.value),(t.disabled||e==="always")&&n.valueAccessor.setDisabledState?.(t.disabled),kq(t,n),Oq(t,n),Rq(t,n),Mq(t,n)}function PR(t,n){t.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)})}function Mq(t,n){if(n.valueAccessor.setDisabledState){let e=r=>{n.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(e),n._registerOnDestroy(()=>{t._unregisterOnDisabledChange(e)})}}function Aq(t,n){let e=wq(t);n.validator!==null?t.setValidators(RR(e,n.validator)):typeof e=="function"&&t.setValidators([e]);let r=Eq(t);n.asyncValidator!==null?t.setAsyncValidators(RR(r,n.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();PR(n._rawValidators,i),PR(n._rawAsyncValidators,i)}function kq(t,n){n.valueAccessor.registerOnChange(e=>{t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&YR(t,n)})}function Rq(t,n){n.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&YR(t,n),t.updateOn!=="submit"&&t.markAsTouched()})}function YR(t,n){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Oq(t,n){let e=(r,i)=>{n.valueAccessor.writeValue(r),i&&n.viewToModelUpdate(r)};t.registerOnChange(e),n._registerOnDestroy(()=>{t._unregisterOnChange(e)})}function Nq(t,n){if(!t.hasOwnProperty("model"))return!1;let e=t.model;return e.isFirstChange()?!0:!Object.is(n,e.currentValue)}function Pq(t){return Object.getPrototypeOf(t.constructor)===Np}function Fq(t,n){if(!n)return null;Array.isArray(n);let e,r,i;return n.forEach(o=>{o.constructor===Wa?e=o:Pq(o)?r=o:i=o}),i||r||e||null}function FR(t,n){let e=t.indexOf(n);e>-1&&t.splice(e,1)}function LR(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Lq=class extends Ow{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(n=null,e,r){super(Dq(e),xq(r,e)),this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Fp(e)&&(e.nonNullable||e.initialValueIsDefault)&&(LR(n)?this.defaultValue=n.value:this.defaultValue=n)}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=this.defaultValue,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),e.overwriteDefaultValue&&(this.defaultValue=this.value),this._pendingChange=!1,e?.emitEvent!==!1&&this._events.next(new Rw(this))}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){FR(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){FR(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(n){LR(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}};var jq={provide:lu,useExisting:on(()=>uu)},jR=Promise.resolve(),uu=(()=>{class t extends lu{_changeDetectorRef;callSetDisabledState;control=new Lq;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new De;constructor(e,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Fq(this,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let r=e.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),Nq(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Tq(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){jR.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let r=e.isDisabled.currentValue,i=r!==0&&_t(r);jR.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?Sq(e,this._parent):[e]}static \u0275fac=function(r){return new(r||t)(j(Aw,9),j(Nw,10),j(yq,10),j(ns,10),j(Qe,8),j(KR,8))};static \u0275dir=Fe({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Ar([jq]),Jn,ln]})}return t})();var Vq={provide:ns,useExisting:on(()=>Fw),multi:!0},Fw=(()=>{class t extends Np{writeValue(e){let r=e??"";this.setProperty("value",r)}registerOnChange(e){this.onChange=r=>{e(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let e;return function(i){return(e||(e=Zn(t)))(i||t)}})();static \u0275dir=Fe({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&fe("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[Ar([Vq]),Jn]})}return t})();var Bq={provide:ns,useExisting:on(()=>Lp),multi:!0};function ZR(t,n){return t==null?`${n}`:(n&&typeof n=="object"&&(n="Object"),`${t}: ${n}`.slice(0,50))}function Uq(t){return t.split(":")[0]}var Lp=(()=>{class t extends Np{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;appRefInjector=E(On).injector;destroyRef=E(Tn);cdr=E(Qe);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,Jd({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(e){this.cdr.markForCheck(),this.value=e;let r=this._getOptionId(e),i=ZR(r,e);this.setProperty("value",i)}registerOnChange(e){this.onChange=r=>{this.value=this._getOptionValue(r),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),e))return r;return null}_getOptionValue(e){let r=Uq(e);return this._optionMap.has(r)?this._optionMap.get(r):e}static \u0275fac=(()=>{let e;return function(i){return(e||(e=Zn(t)))(i||t)}})();static \u0275dir=Fe({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&fe("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Ar([Bq]),Jn]})}return t})(),JR=(()=>{class t{_element;_renderer;_select;id;constructor(e,r,i){this._element=e,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(e){this._select!=null&&(this._select._optionMap.set(this.id,e),this._setElementValue(ZR(this.id,e)),this._select._writeValueAfterRender())}set value(e){this._setElementValue(e),this._select&&this._select._writeValueAfterRender()}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(r){return new(r||t)(j(Pe),j(Sr),j(Lp,9))};static \u0275dir=Fe({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})(),$q={provide:ns,useExisting:on(()=>QR),multi:!0};function VR(t,n){return t==null?`${n}`:(typeof n=="string"&&(n=`'${n}'`),n&&typeof n=="object"&&(n="Object"),`${t}: ${n}`.slice(0,50))}function Hq(t){return t.split(":")[0]}var QR=(()=>{class t extends Np{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;writeValue(e){this.value=e;let r;if(Array.isArray(e)){let i=e.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(e){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let c=s[a],l=this._getOptionValue(c.value);i.push(l)}}else{let s=r.options;for(let a=0;a<s.length;a++){let c=s[a];if(c.selected){let l=this._getOptionValue(c.value);i.push(l)}}}this.value=i,e(i)}}_registerOption(e){let r=(this._idCounter++).toString();return this._optionMap.set(r,e),r}_getOptionId(e){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,e))return r;return null}_getOptionValue(e){let r=Hq(e);return this._optionMap.has(r)?this._optionMap.get(r)._value:e}static \u0275fac=(()=>{let e;return function(i){return(e||(e=Zn(t)))(i||t)}})();static \u0275dir=Fe({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&fe("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Ar([$q]),Jn]})}return t})(),XR=(()=>{class t{_element;_renderer;_select;id;_value;constructor(e,r,i){this._element=e,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){this._select!=null&&(this._value=e,this._setElementValue(VR(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(VR(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||t)(j(Pe),j(Sr),j(QR,9))};static \u0275dir=Fe({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})();var zq=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Zt({type:t});static \u0275inj=Ft({})}return t})();var Ga=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:KR,useValue:e.callSetDisabledState??Pw}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Zt({type:t});static \u0275inj=Ft({imports:[zq]})}return t})();function Lw(t){return t.buttons===0||t.detail===0}function jw(t){let n=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!!n&&n.identifier===-1&&(n.radiusX==null||n.radiusX===1)&&(n.radiusY==null||n.radiusY===1)}function Vw(t){return t.composedPath?t.composedPath()[0]:t.target}var Bw;try{Bw=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Bw=!1}var du=(()=>{class t{_platformId=E(_o);isBrowser=this._platformId?jx(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||Bw)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var fu;function tO(){if(fu==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>fu=!0}))}finally{fu=fu||!1}return fu}function jp(t){return tO()?t:!!t.capture}function Vp(t){return t instanceof Pe?t.nativeElement:t}var Bp=new WeakMap,hu=(()=>{class t{_appRef;_injector=E(ut);_environmentInjector=E(Ne);load(e){let r=this._appRef=this._appRef||this._injector.get(On),i=Bp.get(r);i||(i={loaders:new Set,refs:[]},Bp.set(r,i),r.onDestroy(()=>{Bp.get(r)?.refs.forEach(o=>o.destroy()),Bp.delete(r)})),i.loaders.has(e)||(i.loaders.add(e),i.refs.push(Ax(e,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var nO=new Set,rs,Uw=(()=>{class t{_platform=E(du);_nonce=E(Rs,{optional:!0});_matchMedia;constructor(){this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Gq}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&Wq(e,this._nonce),this._matchMedia(e)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Wq(t,n){if(!nO.has(t))try{rs||(rs=document.createElement("style"),n&&rs.setAttribute("nonce",n),rs.setAttribute("type","text/css"),document.head.appendChild(rs)),rs.sheet&&(rs.sheet.insertRule(`@media ${t} {body{ }}`,0),nO.add(t))}catch(e){console.error(e)}}function Gq(t){return{matches:t==="all"||t==="",media:t,addListener:()=>{},removeListener:()=>{}}}var $w={},pu=class t{_appId=E(ks);static _infix=`a${Math.floor(Math.random()*1e5).toString()}`;getId(n,e=!1){return this._appId!=="ng"&&(n+=this._appId),$w.hasOwnProperty(n)||($w[n]=0),`${n}${e?t._infix+"-":""}${$w[n]++}`}static \u0275fac=function(e){return new(e||t)};static \u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})};var Up;function qq(){if(Up===void 0&&(Up=null,typeof window<"u")){let t=window;t.trustedTypes!==void 0&&(Up=t.trustedTypes.createPolicy("angular#components",{createHTML:n=>n}))}return Up}function qa(t){return qq()?.createHTML(t)||t}var Kq=["mat-internal-form-field",""],Yq=["*"],rO=(()=>{class t{labelPosition;static \u0275fac=function(r){return new(r||t)};static \u0275cmp=me({type:t,selectors:[["div","mat-internal-form-field",""]],hostAttrs:[1,"mdc-form-field","mat-internal-form-field"],hostVars:2,hostBindings:function(r,i){r&2&&Ge("mdc-form-field--align-end",i.labelPosition==="before")},inputs:{labelPosition:"labelPosition"},attrs:Kq,ngContentSelectors:Yq,decls:1,vars:0,template:function(r,i){r&1&&(wo(),Eo(0))},styles:[`.mat-internal-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:inline-flex;align-items:center;vertical-align:middle}.mat-internal-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mat-internal-form-field>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end .mdc-form-field--align-end label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0}
`],encapsulation:2,changeDetection:0})}return t})();var Zq=new k("MATERIAL_ANIMATIONS"),iO=null;function Jq(){return E(Zq,{optional:!0})?.animationsDisabled||E(Dy,{optional:!0})==="NoopAnimations"?"di-disabled":(iO??=E(Uw).matchMedia("(prefers-reduced-motion)").matches,iO?"reduced-motion":"enabled")}function $p(){return Jq()!=="enabled"}var oO=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=me({type:t,selectors:[["structural-styles"]],decls:0,vars:0,template:function(r,i){},styles:[`.mat-focus-indicator{position:relative}.mat-focus-indicator::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;display:var(--mat-focus-indicator-display, none);border-width:var(--mat-focus-indicator-border-width, 3px);border-style:var(--mat-focus-indicator-border-style, solid);border-color:var(--mat-focus-indicator-border-color, transparent);border-radius:var(--mat-focus-indicator-border-radius, 4px)}.mat-focus-indicator:focus::before{content:""}@media(forced-colors: active){html{--mat-focus-indicator-display: block}}
`],encapsulation:2,changeDetection:0})}return t})();var wn=(function(t){return t[t.FADING_IN=0]="FADING_IN",t[t.VISIBLE=1]="VISIBLE",t[t.FADING_OUT=2]="FADING_OUT",t[t.HIDDEN=3]="HIDDEN",t})(wn||{}),Hw=class{_renderer;element;config;_animationForciblyDisabledThroughCss;state=wn.HIDDEN;constructor(n,e,r,i=!1){this._renderer=n,this.element=e,this.config=r,this._animationForciblyDisabledThroughCss=i}fadeOut(){this._renderer.fadeOutRipple(this)}},sO=jp({passive:!0,capture:!0}),zw=class{_events=new Map;addHandler(n,e,r,i){let o=this._events.get(e);if(o){let s=o.get(r);s?s.add(i):o.set(r,new Set([i]))}else this._events.set(e,new Map([[r,new Set([i])]])),n.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,sO)})}removeHandler(n,e,r){let i=this._events.get(n);if(!i)return;let o=i.get(e);o&&(o.delete(r),o.size===0&&i.delete(e),i.size===0&&(this._events.delete(n),document.removeEventListener(n,this._delegateEventHandler,sO)))}_delegateEventHandler=n=>{let e=Vw(n);e&&this._events.get(n.type)?.forEach((r,i)=>{(i===e||i.contains(e))&&r.forEach(o=>o.handleEvent(n))})}},aO={enterDuration:225,exitDuration:150},Qq=800,cO=jp({passive:!0,capture:!0}),lO=["mousedown","touchstart"],uO=["mouseup","mouseleave","touchend","touchcancel"],Xq=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=me({type:t,selectors:[["ng-component"]],hostAttrs:["mat-ripple-style-loader",""],decls:0,vars:0,template:function(r,i){},styles:[`.mat-ripple{overflow:hidden;position:relative}.mat-ripple:not(:empty){transform:translateZ(0)}.mat-ripple.mat-ripple-unbounded{overflow:visible}.mat-ripple-element{position:absolute;border-radius:50%;pointer-events:none;transition:opacity,transform 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale3d(0, 0, 0);background-color:var(--mat-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface) 10%, transparent))}@media(forced-colors: active){.mat-ripple-element{display:none}}.cdk-drag-preview .mat-ripple-element,.cdk-drag-placeholder .mat-ripple-element{display:none}
`],encapsulation:2,changeDetection:0})}return t})(),Ww=class t{_target;_ngZone;_platform;_containerElement;_triggerElement;_isPointerDown=!1;_activeRipples=new Map;_mostRecentTransientRipple;_lastTouchStartEvent;_pointerUpEventsRegistered=!1;_containerRect;static _eventManager=new zw;constructor(n,e,r,i,o){this._target=n,this._ngZone=e,this._platform=i,i.isBrowser&&(this._containerElement=Vp(r)),o&&o.get(hu).load(Xq)}fadeInRipple(n,e,r={}){let i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=I(I({},aO),r.animation);r.centered&&(n=i.left+i.width/2,e=i.top+i.height/2);let s=r.radius||e5(n,e,i),a=n-i.left,c=e-i.top,l=o.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=`${a-s}px`,u.style.top=`${c-s}px`,u.style.height=`${s*2}px`,u.style.width=`${s*2}px`,r.color!=null&&(u.style.backgroundColor=r.color),u.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(u);let d=window.getComputedStyle(u),f=d.transitionProperty,h=d.transitionDuration,p=f==="none"||h==="0s"||h==="0s, 0s"||i.width===0&&i.height===0,g=new Hw(this,u,r,p);u.style.transform="scale3d(1, 1, 1)",g.state=wn.FADING_IN,r.persistent||(this._mostRecentTransientRipple=g);let m=null;return!p&&(l||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let y=()=>{m&&(m.fallbackTimer=null),clearTimeout(_),this._finishRippleTransition(g)},v=()=>this._destroyRipple(g),_=setTimeout(v,l+100);u.addEventListener("transitionend",y),u.addEventListener("transitioncancel",v),m={onTransitionEnd:y,onTransitionCancel:v,fallbackTimer:_}}),this._activeRipples.set(g,m),(p||!l)&&this._finishRippleTransition(g),g}fadeOutRipple(n){if(n.state===wn.FADING_OUT||n.state===wn.HIDDEN)return;let e=n.element,r=I(I({},aO),n.config.animation);e.style.transitionDuration=`${r.exitDuration}ms`,e.style.opacity="0",n.state=wn.FADING_OUT,(n._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(n)}fadeOutAll(){this._getActiveRipples().forEach(n=>n.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(n=>{n.config.persistent||n.fadeOut()})}setupTriggerEvents(n){let e=Vp(n);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,lO.forEach(r=>{t._eventManager.addHandler(this._ngZone,r,e,this)}))}handleEvent(n){n.type==="mousedown"?this._onMousedown(n):n.type==="touchstart"?this._onTouchStart(n):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{uO.forEach(e=>{this._triggerElement.addEventListener(e,this,cO)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(n){n.state===wn.FADING_IN?this._startFadeOutTransition(n):n.state===wn.FADING_OUT&&this._destroyRipple(n)}_startFadeOutTransition(n){let e=n===this._mostRecentTransientRipple,{persistent:r}=n.config;n.state=wn.VISIBLE,!r&&(!e||!this._isPointerDown)&&n.fadeOut()}_destroyRipple(n){let e=this._activeRipples.get(n)??null;this._activeRipples.delete(n),this._activeRipples.size||(this._containerRect=null),n===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),n.state=wn.HIDDEN,e!==null&&(n.element.removeEventListener("transitionend",e.onTransitionEnd),n.element.removeEventListener("transitioncancel",e.onTransitionCancel),e.fallbackTimer!==null&&clearTimeout(e.fallbackTimer)),n.element.remove()}_onMousedown(n){let e=Lw(n),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+Qq;!this._target.rippleDisabled&&!e&&!r&&(this._isPointerDown=!0,this.fadeInRipple(n.clientX,n.clientY,this._target.rippleConfig))}_onTouchStart(n){if(!this._target.rippleDisabled&&!jw(n)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let e=n.changedTouches;if(e)for(let r=0;r<e.length;r++)this.fadeInRipple(e[r].clientX,e[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(n=>{let e=n.state===wn.VISIBLE||n.config.terminateOnPointerUp&&n.state===wn.FADING_IN;!n.config.persistent&&e&&n.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let n=this._triggerElement;n&&(lO.forEach(e=>t._eventManager.removeHandler(e,n,this)),this._pointerUpEventsRegistered&&(uO.forEach(e=>n.removeEventListener(e,this,cO)),this._pointerUpEventsRegistered=!1))}};function e5(t,n,e){let r=Math.max(Math.abs(t-e.left),Math.abs(t-e.right)),i=Math.max(Math.abs(n-e.top),Math.abs(n-e.bottom));return Math.sqrt(r*r+i*i)}var t5=new k("mat-ripple-global-options"),dO=(()=>{class t{_elementRef=E(Pe);_animationsDisabled=$p();color;unbounded;centered;radius=0;animation;get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}_disabled=!1;get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}_trigger;_rippleRenderer;_globalOptions;_isInitialized=!1;constructor(){let e=E(Be),r=E(du),i=E(t5,{optional:!0}),o=E(ut);this._globalOptions=i||{},this._rippleRenderer=new Ww(this,e,this._elementRef,r,o)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:I(I(I({},this._globalOptions.animation),this._animationsDisabled?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,r=0,i){return typeof e=="number"?this._rippleRenderer.fadeInRipple(e,r,I(I({},this.rippleConfig),i)):this._rippleRenderer.fadeInRipple(0,0,I(I({},this.rippleConfig),e))}static \u0275fac=function(r){return new(r||t)};static \u0275dir=Fe({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(r,i){r&2&&Ge("mat-ripple-unbounded",i.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return t})();var n5=["input"],r5=["label"],i5=["*"],Gw={color:"accent",clickAction:"check-indeterminate",disabledInteractive:!1},o5=new k("mat-checkbox-default-options",{providedIn:"root",factory:()=>Gw}),Dt=(function(t){return t[t.Init=0]="Init",t[t.Checked=1]="Checked",t[t.Unchecked=2]="Unchecked",t[t.Indeterminate=3]="Indeterminate",t})(Dt||{}),qw=class{source;checked},fO=(()=>{class t{_elementRef=E(Pe);_changeDetectorRef=E(Qe);_ngZone=E(Be);_animationsDisabled=$p();_options=E(o5,{optional:!0});focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(e){let r=new qw;return r.source=this,r.checked=e,r}_getAnimationTargetElement(){return this._inputElement?.nativeElement}_animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"};ariaLabel="";ariaLabelledby=null;ariaDescribedby;ariaExpanded;ariaControls;ariaOwns;_uniqueId;id;get inputId(){return`${this.id||this._uniqueId}-input`}required;labelPosition="after";name=null;change=new De;indeterminateChange=new De;value;disableRipple;_inputElement;_labelElement;tabIndex;color;disabledInteractive;_onTouched=()=>{};_currentAnimationClass="";_currentCheckState=Dt.Init;_controlValueAccessorChangeFn=()=>{};_validatorChangeFn=()=>{};constructor(){E(hu).load(oO);let e=E(new li("tabindex"),{optional:!0});this._options=this._options||Gw,this.color=this._options.color||Gw.color,this.tabIndex=e==null?0:parseInt(e)||0,this.id=this._uniqueId=E(pu).getId("mat-mdc-checkbox-"),this.disabledInteractive=this._options?.disabledInteractive??!1}ngOnChanges(e){e.required&&this._validatorChangeFn()}ngAfterViewInit(){this._syncIndeterminate(this.indeterminate)}get checked(){return this._checked}set checked(e){e!=this.checked&&(this._checked=e,this._changeDetectorRef.markForCheck())}_checked=!1;get disabled(){return this._disabled}set disabled(e){e!==this.disabled&&(this._disabled=e,this._changeDetectorRef.markForCheck())}_disabled=!1;get indeterminate(){return this._indeterminate()}set indeterminate(e){let r=e!=this._indeterminate();this._indeterminate.set(e),r&&(e?this._transitionCheckState(Dt.Indeterminate):this._transitionCheckState(this.checked?Dt.Checked:Dt.Unchecked),this.indeterminateChange.emit(e)),this._syncIndeterminate(e)}_indeterminate=Yt(!1);_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(e){this.checked=!!e}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}validate(e){return this.required&&e.value!==!0?{required:!0}:null}registerOnValidatorChange(e){this._validatorChangeFn=e}_transitionCheckState(e){let r=this._currentCheckState,i=this._getAnimationTargetElement();if(!(r===e||!i)&&(this._currentAnimationClass&&i.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(r,e),this._currentCheckState=e,this._currentAnimationClass.length>0)){i.classList.add(this._currentAnimationClass);let o=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{i.classList.remove(o)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){let e=this._options?.clickAction;!this.disabled&&e!=="noop"?(this.indeterminate&&e!=="check"&&Promise.resolve().then(()=>{this._indeterminate.set(!1),this.indeterminateChange.emit(!1)}),this._checked=!this._checked,this._transitionCheckState(this._checked?Dt.Checked:Dt.Unchecked),this._emitChangeEvent()):(this.disabled&&this.disabledInteractive||!this.disabled&&e==="noop")&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate)}_onInteractionEvent(e){e.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(e,r){if(this._animationsDisabled)return"";switch(e){case Dt.Init:if(r===Dt.Checked)return this._animationClasses.uncheckedToChecked;if(r==Dt.Indeterminate)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case Dt.Unchecked:return r===Dt.Checked?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case Dt.Checked:return r===Dt.Unchecked?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case Dt.Indeterminate:return r===Dt.Checked?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(e){let r=this._inputElement;r&&(r.nativeElement.indeterminate=e)}_onInputClick(){this._handleInputClick()}_onTouchTargetClick(){this._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(e){e.target&&this._labelElement.nativeElement.contains(e.target)&&e.stopPropagation()}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=me({type:t,selectors:[["mat-checkbox"]],viewQuery:function(r,i){if(r&1&&(Nn(n5,5),Nn(r5,5)),r&2){let o;dn(o=fn())&&(i._inputElement=o.first),dn(o=fn())&&(i._labelElement=o.first)}},hostAttrs:[1,"mat-mdc-checkbox"],hostVars:16,hostBindings:function(r,i){r&2&&(rf("id",i.id),Qn("tabindex",null)("aria-label",null)("aria-labelledby",null),Bc(i.color?"mat-"+i.color:"mat-accent"),Ge("_mat-animation-noopable",i._animationsDisabled)("mdc-checkbox--disabled",i.disabled)("mat-mdc-checkbox-disabled",i.disabled)("mat-mdc-checkbox-checked",i.checked)("mat-mdc-checkbox-disabled-interactive",i.disabledInteractive))},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],ariaExpanded:[2,"aria-expanded","ariaExpanded",_t],ariaControls:[0,"aria-controls","ariaControls"],ariaOwns:[0,"aria-owns","ariaOwns"],id:"id",required:[2,"required","required",_t],labelPosition:"labelPosition",name:"name",value:"value",disableRipple:[2,"disableRipple","disableRipple",_t],tabIndex:[2,"tabIndex","tabIndex",e=>e==null?void 0:Mx(e)],color:"color",disabledInteractive:[2,"disabledInteractive","disabledInteractive",_t],checked:[2,"checked","checked",_t],disabled:[2,"disabled","disabled",_t],indeterminate:[2,"indeterminate","indeterminate",_t]},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],features:[Ar([{provide:ns,useExisting:on(()=>t),multi:!0},{provide:Nw,useExisting:t,multi:!0}]),ln],ngContentSelectors:i5,decls:15,vars:23,consts:[["checkbox",""],["input",""],["label",""],["mat-internal-form-field","",3,"click","labelPosition"],[1,"mdc-checkbox"],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"blur","click","change","checked","indeterminate","disabled","id","required","tabIndex"],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"]],template:function(r,i){if(r&1){let o=ci();wo(),S(0,"div",3),fe("click",function(a){return Ae(o),ke(i._preventBubblingFromLabel(a))}),S(1,"div",4,0)(3,"div",5),fe("click",function(){return Ae(o),ke(i._onTouchTargetClick())}),T(),S(4,"input",6,1),fe("blur",function(){return Ae(o),ke(i._onBlur())})("click",function(){return Ae(o),ke(i._onInputClick())})("change",function(a){return Ae(o),ke(i._onInteractionEvent(a))}),T(),We(6,"div",7),S(7,"div",8),vd(),S(8,"svg",9),We(9,"path",10),T(),bd(),We(10,"div",11),T(),We(11,"div",12),T(),S(12,"label",13,2),Eo(14),T()()}if(r&2){let o=Qy(2);ye("labelPosition",i.labelPosition),U(4),Ge("mdc-checkbox--selected",i.checked),ye("checked",i.checked)("indeterminate",i.indeterminate)("disabled",i.disabled&&!i.disabledInteractive)("id",i.inputId)("required",i.required)("tabIndex",i.disabled&&!i.disabledInteractive?-1:i.tabIndex),Qn("aria-label",i.ariaLabel||null)("aria-labelledby",i.ariaLabelledby)("aria-describedby",i.ariaDescribedby)("aria-checked",i.indeterminate?"mixed":null)("aria-controls",i.ariaControls)("aria-disabled",i.disabled&&i.disabledInteractive?!0:null)("aria-expanded",i.ariaExpanded)("aria-owns",i.ariaOwns)("name",i.name)("value",i.value),U(7),ye("matRippleTrigger",o)("matRippleDisabled",i.disableRipple||i.disabled)("matRippleCentered",!0),U(),ye("for",i.inputId)}},dependencies:[dO,rO],styles:[`.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom;padding:calc((var(--mat-checkbox-state-layer-size, 40px) - 18px)/2);margin:calc((var(--mat-checkbox-state-layer-size, 40px) - var(--mat-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox:hover>.mdc-checkbox__ripple{opacity:var(--mat-checkbox-unselected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity));background-color:var(--mat-checkbox-unselected-hover-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox:hover>.mat-mdc-checkbox-ripple>.mat-ripple-element{background-color:var(--mat-checkbox-unselected-hover-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox .mdc-checkbox__native-control:focus+.mdc-checkbox__ripple{opacity:var(--mat-checkbox-unselected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity));background-color:var(--mat-checkbox-unselected-focus-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mat-checkbox-unselected-focus-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox:active>.mdc-checkbox__native-control+.mdc-checkbox__ripple{opacity:var(--mat-checkbox-unselected-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity));background-color:var(--mat-checkbox-unselected-pressed-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox:active>.mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mat-checkbox-unselected-pressed-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox:hover .mdc-checkbox__native-control:checked+.mdc-checkbox__ripple{opacity:var(--mat-checkbox-selected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity));background-color:var(--mat-checkbox-selected-hover-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mat-checkbox-selected-hover-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox .mdc-checkbox__native-control:focus:checked+.mdc-checkbox__ripple{opacity:var(--mat-checkbox-selected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity));background-color:var(--mat-checkbox-selected-focus-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mat-checkbox-selected-focus-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox:active>.mdc-checkbox__native-control:checked+.mdc-checkbox__ripple{opacity:var(--mat-checkbox-selected-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity));background-color:var(--mat-checkbox-selected-pressed-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox:active>.mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mat-checkbox-selected-pressed-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control+.mdc-checkbox__ripple{background-color:var(--mat-checkbox-unselected-hover-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox .mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;z-index:1;width:var(--mat-checkbox-state-layer-size, 40px);height:var(--mat-checkbox-state-layer-size, 40px);top:calc((var(--mat-checkbox-state-layer-size, 40px) - var(--mat-checkbox-state-layer-size, 40px))/2);right:calc((var(--mat-checkbox-state-layer-size, 40px) - var(--mat-checkbox-state-layer-size, 40px))/2);left:calc((var(--mat-checkbox-state-layer-size, 40px) - var(--mat-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1);-webkit-print-color-adjust:exact;color-adjust:exact;border-color:var(--mat-checkbox-unselected-icon-color, var(--mat-sys-on-surface-variant));top:calc((var(--mat-checkbox-state-layer-size, 40px) - 18px)/2);left:calc((var(--mat-checkbox-state-layer-size, 40px) - 18px)/2)}.mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background{border-color:var(--mat-checkbox-selected-icon-color, var(--mat-sys-primary));background-color:var(--mat-checkbox-selected-icon-color, var(--mat-sys-primary))}.mdc-checkbox--disabled .mdc-checkbox__background{border-color:var(--mat-checkbox-disabled-unselected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}@media(forced-colors: active){.mdc-checkbox--disabled .mdc-checkbox__background{border-color:GrayText}}.mdc-checkbox__native-control:disabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:disabled:indeterminate~.mdc-checkbox__background{background-color:var(--mat-checkbox-disabled-selected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:rgba(0,0,0,0)}@media(forced-colors: active){.mdc-checkbox__native-control:disabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:disabled:indeterminate~.mdc-checkbox__background{border-color:GrayText}}.mdc-checkbox:hover>.mdc-checkbox__native-control:not(:checked)~.mdc-checkbox__background,.mdc-checkbox:hover>.mdc-checkbox__native-control:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mat-checkbox-unselected-hover-icon-color, var(--mat-sys-on-surface));background-color:rgba(0,0,0,0)}.mdc-checkbox:hover>.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox:hover>.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{border-color:var(--mat-checkbox-selected-hover-icon-color, var(--mat-sys-primary));background-color:var(--mat-checkbox-selected-hover-icon-color, var(--mat-sys-primary))}.mdc-checkbox__native-control:focus:focus:not(:checked)~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mat-checkbox-unselected-focus-icon-color, var(--mat-sys-on-surface))}.mdc-checkbox__native-control:focus:focus:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mat-checkbox-selected-focus-icon-color, var(--mat-sys-primary));background-color:var(--mat-checkbox-selected-focus-icon-color, var(--mat-sys-primary))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox:hover>.mdc-checkbox__native-control~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__background{border-color:var(--mat-checkbox-disabled-unselected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}@media(forced-colors: active){.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox:hover>.mdc-checkbox__native-control~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__background{border-color:GrayText}}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{background-color:var(--mat-checkbox-disabled-selected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:rgba(0,0,0,0)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms cubic-bezier(0.4, 0, 0.6, 1);color:var(--mat-checkbox-selected-checkmark-color, var(--mat-sys-on-primary))}@media(forced-colors: active){.mdc-checkbox__checkmark{color:CanvasText}}.mdc-checkbox--disabled .mdc-checkbox__checkmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:var(--mat-checkbox-disabled-selected-checkmark-color, var(--mat-sys-surface))}@media(forced-colors: active){.mdc-checkbox--disabled .mdc-checkbox__checkmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:GrayText}}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);border-color:var(--mat-checkbox-selected-checkmark-color, var(--mat-sys-on-primary))}@media(forced-colors: active){.mdc-checkbox__mixedmark{margin:0 1px}}.mdc-checkbox--disabled .mdc-checkbox__mixedmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__mixedmark{border-color:var(--mat-checkbox-disabled-selected-checkmark-color, var(--mat-sys-surface))}@media(forced-colors: active){.mdc-checkbox--disabled .mdc-checkbox__mixedmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__mixedmark{border-color:GrayText}}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background>.mdc-checkbox__checkmark>.mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background>.mdc-checkbox__checkmark>.mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control:checked~.mdc-checkbox__background>.mdc-checkbox__checkmark{transition:opacity 180ms cubic-bezier(0, 0, 0.2, 1),transform 180ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background>.mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background>.mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background>.mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mat-mdc-checkbox-touch-target,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mdc-checkbox__native-control,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mdc-checkbox__ripple,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mat-mdc-checkbox-ripple::before,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mdc-checkbox__background,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mdc-checkbox__background>.mdc-checkbox__checkmark,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mdc-checkbox__background>.mdc-checkbox__checkmark>.mdc-checkbox__checkmark-path,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mdc-checkbox__background>.mdc-checkbox__mixedmark{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox .mat-internal-form-field{color:var(--mat-checkbox-label-text-color, var(--mat-sys-on-surface));font-family:var(--mat-checkbox-label-text-font, var(--mat-sys-body-medium-font));line-height:var(--mat-checkbox-label-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mat-checkbox-label-text-size, var(--mat-sys-body-medium-size));letter-spacing:var(--mat-checkbox-label-text-tracking, var(--mat-sys-body-medium-tracking));font-weight:var(--mat-checkbox-label-text-weight, var(--mat-sys-body-medium-weight))}.mat-mdc-checkbox.mat-mdc-checkbox-disabled.mat-mdc-checkbox-disabled-interactive{pointer-events:auto}.mat-mdc-checkbox.mat-mdc-checkbox-disabled.mat-mdc-checkbox-disabled-interactive input{cursor:default}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default;color:var(--mat-checkbox-disabled-label-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}@media(forced-colors: active){.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{color:GrayText}}.mat-mdc-checkbox label:empty{display:none}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox .mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox .mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;left:50%;height:var(--mat-checkbox-touch-target-size, 48px);width:var(--mat-checkbox-touch-target-size, 48px);transform:translate(-50%, -50%);display:var(--mat-checkbox-touch-target-display, block)}.mat-mdc-checkbox .mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-focus-indicator::before{content:""}
`],encapsulation:2,changeDetection:0})}return t})();function s5(t,n){if(t&1&&(S(0,"div",6)(1,"div",7)(2,"div",8)(3,"h3"),P(4),T(),S(5,"p"),P(6),T()(),S(7,"div",9)(8,"p",10),P(9),T()()()()),t&2){let e=n.$implicit;U(4),Pn(e.subject),U(2),Pn(e.category),U(2),Ge("income",e.income),U(),Mr("",e.income?"+":"-","",e.prise)}}function a5(t,n){if(t&1){let e=ci();S(0,"div",11)(1,"div",12)(2,"h1",13),P(3,"Add Transaction"),T(),S(4,"input",14),pn("ngModelChange",function(i){Ae(e);let o=Ue();return Fn(o.subject,i)||(o.subject=i),ke(i)}),T(),S(5,"select",15),pn("ngModelChange",function(i){Ae(e);let o=Ue();return Fn(o.category,i)||(o.category=i),ke(i)}),S(6,"option",16),P(7,"Choose a categorie"),T(),S(8,"option",17),P(9,"Food"),T(),S(10,"option",18),P(11,"Transport"),T(),S(12,"option",19),P(13,"Fun"),T(),S(14,"option",20),P(15,"Income"),T(),S(16,"option",21),P(17,"Other"),T()(),S(18,"input",22),pn("ngModelChange",function(i){Ae(e);let o=Ue();return Fn(o.prise,i)||(o.prise=i),ke(i)}),T(),S(19,"mat-checkbox",15),pn("ngModelChange",function(i){Ae(e);let o=Ue();return Fn(o.income,i)||(o.income=i),ke(i)}),P(20,"Income"),T(),S(21,"button",23),fe("click",function(){Ae(e);let i=Ue();return ke(i.addTransaction())}),P(22,"Add"),T()(),S(23,"button",24),fe("click",function(){Ae(e);let i=Ue();return ke(i.showAddAlert=!1)}),P(24,"x"),T()()}if(t&2){let e=Ue();U(4),hn("ngModel",e.subject),U(),hn("ngModel",e.category),U(13),hn("ngModel",e.prise),U(),hn("ngModel",e.income)}}var Hp=class t{constructor(n){this.cdr=n}showAddAlert=!1;subject="";category="";prise=0;income=!1;transactions=[];ngOnInit(){this.loadTransactions()}async loadTransactions(){let{data:n}=await Re.auth.getUser(),e=n.user?.email,{data:r,error:i}=await Re.from("Transactions").select("transactions").eq("user",e).single();if(i){this.transactions=[];return}this.transactions=r.transactions||[],this.cdr.detectChanges()}async addTransaction(){let{data:n}=await Re.auth.getUser(),e=n.user?.email,i=[{id:new Date,subject:this.subject.trim(),category:this.category.trim(),prise:Math.abs(this.prise),income:this.income},...this.transactions],{error:o}=await Re.from("Transactions").upsert({user:e,transactions:i});if(o){alert("Fehler beim Speichern: "+o.message);return}this.transactions=i,this.subject="",this.category="",this.prise=0,this.income=!1,this.showAddAlert=!1,this.cdr.detectChanges()}static \u0275fac=function(e){return new(e||t)(j(Qe))};static \u0275cmp=me({type:t,selectors:[["app-transactions"]],decls:9,vars:2,consts:[[1,"container"],[1,"card"],[1,"list"],["class","list-item",4,"ngFor","ngForOf"],[1,"round-button","add",3,"click"],["class","overlay",4,"ngIf"],[1,"list-item"],[1,"grid-two"],[1,"column"],["id","prise-container"],[1,"transactionPrise"],[1,"overlay"],[1,"card","addTransaction"],["id","alertHeading"],["type","text","placeholder","Subject",3,"ngModelChange","ngModel"],[3,"ngModelChange","ngModel"],["value","","selected",""],["value","food"],["value","transport"],["value","fun"],["value","income"],["value","other"],["type","number","placeholder","Prise",3,"ngModelChange","ngModel"],[1,"add-button",3,"click"],[1,"round-button","close",3,"click"]],template:function(e,r){e&1&&(S(0,"div",0)(1,"h1"),P(2,"Transactions"),T(),S(3,"div",1)(4,"div",2),Jt(5,s5,10,6,"div",3),T()(),S(6,"button",4),fe("click",function(){return r.showAddAlert=!0}),P(7,"+"),T(),Jt(8,a5,25,4,"div",5),T()),e&2&&(U(5),ye("ngForOf",r.transactions),U(3),ye("ngIf",r.showAddAlert))},dependencies:[di,zc,Ga,JR,XR,Wa,Fw,Lp,Pp,uu,fO],styles:[".container[_ngcontent-%COMP%]{padding:20px}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{color:#fff}.row[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:row}.card[_ngcontent-%COMP%]{padding:20px;margin:10px;background:#111;display:flex;justify-items:center;flex-direction:column;border-radius:15px;transition:all .2s ease-in-out}.card[_ngcontent-%COMP%]:hover{scale:1.02;border:1px solid #222}.list-item[_ngcontent-%COMP%]{margin:10px;background:#222;padding:20px;border-radius:15px}.list-item[_ngcontent-%COMP%]:hover{border:1px solid #222;scale:1.02}.grid-two[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr}#prise-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.transactionPrise[_ngcontent-%COMP%]{color:#ef4444}.transactionPrise.income[_ngcontent-%COMP%]{color:#22c55e}.overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#00000080;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);display:flex;justify-content:center;align-items:center;z-index:10}.addTransaction[_ngcontent-%COMP%]{border:1px solid #222}input[_ngcontent-%COMP%]{width:40vw;border-radius:15px;border:1px solid #333;padding:16px;color:#fff;background:#222;margin:5px}.add-button[_ngcontent-%COMP%]{border:none;background:#4a90e2;padding:16px;border-radius:15px;color:#fff;cursor:pointer;width:30vw;display:flex;align-self:center;align-items:center;justify-content:center;margin:5px}.add-button[_ngcontent-%COMP%]:hover{scale:1.01}.add-button[_ngcontent-%COMP%]:active{scale:.99}.round-button[_ngcontent-%COMP%]{height:60px;width:60px;border-radius:30px;border:none;background:#4a90e2;color:#fff;font-size:20px;transition:all .2s ease-in-out}.round-button[_ngcontent-%COMP%]:hover{border:1px solid #fff}.round-button[_ngcontent-%COMP%]:active{scale:.95}.add[_ngcontent-%COMP%]{position:absolute;bottom:20px;right:20px}.close[_ngcontent-%COMP%]{position:absolute;top:20px;right:20px}mat-checkbox[_ngcontent-%COMP%]{margin:10px;color:#fff;display:flex;align-self:center}select[_ngcontent-%COMP%]{margin:10px;padding:10px;background:#222;border-radius:15px;border:none;appearance:none;color:#fff}option[_ngcontent-%COMP%]{background:#111;color:#fff}#alertHeading[_ngcontent-%COMP%]{color:#fff;display:flex;align-self:center}"]})};var zp=class t{constructor(n){this.router=n}loginCard=!0;email="";password="";async ngOnInit(){await localStorage.removeItem("IsLogin")}async checkIsLogIn(){await localStorage.getItem("IsLogin")==="true"?this.router.navigate(["/dashboard"]):this.loginCard=!0}async login(){let{error:n}=await Re.auth.signInWithPassword({email:this.email,password:this.password});n&&alert(n.message),await localStorage.setItem("IsLogin","true"),this.router.navigate(["/dashboard"])}async register(){let{error:n}=await Re.auth.signUp({email:this.email,password:this.password});n&&alert(n.message),await localStorage.setItem("IsLogin","true"),this.router.navigate(["/dashboard"])}static \u0275fac=function(e){return new(e||t)(j(Nr))};static \u0275cmp=me({type:t,selectors:[["app-auth"]],decls:0,vars:0,template:function(e,r){},dependencies:[Ga],styles:[".container[_ngcontent-%COMP%]{padding:20px;height:100vh;display:flex;justify-content:center;align-items:center}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{color:#fff}.card[_ngcontent-%COMP%]{padding:20px;margin:10px;background:#111;display:flex;justify-items:center;align-items:center;flex-direction:column;border-radius:15px;transition:all .2s ease-in-out}.card[_ngcontent-%COMP%]:hover{scale:1.02;border:1px solid #222}input[_ngcontent-%COMP%]{width:40vw;border-radius:15px;border:1px solid #333;padding:16px;color:#fff;background:#222;margin:5px}.auth-button[_ngcontent-%COMP%]{border:none;background:#4a90e2;padding:16px;border-radius:15px;color:#fff;cursor:pointer;width:30vw;display:flex;align-self:center;align-items:center;justify-content:center;margin:5px}.auth-button[_ngcontent-%COMP%]:hover{scale:1.01}.auth-button[_ngcontent-%COMP%]:active{scale:.99}.changeText[_ngcontent-%COMP%]{background:none;border:none;color:#fff;cursor:pointer}"]})};function c5(t,n){if(t&1&&(S(0,"div",6)(1,"div",7)(2,"div",8)(3,"h3"),P(4),T(),S(5,"p"),P(6),T()(),S(7,"div",9)(8,"p",10),P(9),T()()()()),t&2){let e=n.$implicit;U(4),Pn(e.subject),U(2),Pn(e.category),U(2),Ge("income",e.income),U(),Mr("",e.income?"+":"-","",e.prise)}}var Wp=class t{constructor(n){this.cdr=n}transactions=[];filteredTransactions=[];selectedCategoryPrice=0;selectedCategoryIsIncome=!1;income=0;food=0;transport=0;fun=0;other=0;ngOnInit(){this.loadData()}filterData(n){let e=n.toLowerCase();if(n==="All")this.filteredTransactions=this.transactions,this.selectedCategoryPrice=this.income+this.food+this.transport+this.fun+this.other,this.selectedCategoryIsIncome=this.selectedCategoryPrice>=0;else if(n==="Income")this.filteredTransactions=this.transactions.filter(r=>r.income),this.selectedCategoryPrice=this.income,this.selectedCategoryIsIncome=!0;else{switch(this.filteredTransactions=this.transactions.filter(r=>r.category?.toLowerCase()===e),e){case"food":this.selectedCategoryPrice=this.food;break;case"transport":this.selectedCategoryPrice=this.transport;break;case"fun":this.selectedCategoryPrice=this.fun;break;case"other":this.selectedCategoryPrice=this.other;break}this.selectedCategoryIsIncome=!1}this.cdr.detectChanges()}async loadData(){let{data:n}=await Re.auth.getUser(),e=n.user?.email,{data:r}=await Re.from("Transactions").select("transactions").eq("user",e).single();r?.transactions&&(this.transactions=r.transactions,this.filteredTransactions=r.transactions,r.transactions.forEach(i=>{let o=i.category?.toLowerCase();if(i.income)this.income+=i.prise;else switch(o){case"food":this.food+=i.prise;break;case"transport":this.transport+=i.prise;break;case"fun":this.fun+=i.prise;break;case"other":this.other+=i.prise;break}this.selectedCategoryPrice=this.income+this.food+this.transport+this.fun+this.other,this.cdr.detectChanges()}))}static \u0275fac=function(e){return new(e||t)(j(Qe))};static \u0275cmp=me({type:t,selectors:[["app-categories"]],decls:25,vars:7,consts:[[1,"container"],[1,"card"],[1,"row"],[1,"row-item",3,"click"],[1,"list"],["class","list-item",4,"ngFor","ngForOf"],[1,"list-item"],[1,"grid-two"],[1,"column"],["id","prise-container"],[1,"transactionPrise"]],template:function(e,r){e&1&&(S(0,"div",0)(1,"h1"),P(2,"Categories"),T(),S(3,"div",1)(4,"h2"),P(5,"Transactions"),T(),S(6,"h2"),P(7," Kategorie Preis: "),S(8,"span"),P(9),T()(),S(10,"div",2)(11,"button",3),fe("click",function(){return r.filterData("All")}),P(12,"All"),T(),S(13,"button",3),fe("click",function(){return r.filterData("Income")}),P(14,"Income"),T(),S(15,"button",3),fe("click",function(){return r.filterData("food")}),P(16,"Food"),T(),S(17,"button",3),fe("click",function(){return r.filterData("transport")}),P(18,"Transport"),T(),S(19,"button",3),fe("click",function(){return r.filterData("fun")}),P(20,"Fun"),T(),S(21,"button",3),fe("click",function(){return r.filterData("other")}),P(22,"Other"),T()(),S(23,"div",4),Jt(24,c5,10,6,"div",5),T()()()),e&2&&(U(8),Ge("income",r.selectedCategoryIsIncome)("expense",!r.selectedCategoryIsIncome),U(),Mr(" ",r.selectedCategoryIsIncome?"+":"-","",r.selectedCategoryPrice," "),U(15),ye("ngForOf",r.filteredTransactions))},dependencies:[di],styles:[".container[_ngcontent-%COMP%]{padding:20px;overflow-y:auto;height:100vh}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{color:#fff}.card[_ngcontent-%COMP%]{padding:20px;margin:10px 10px 20px;background:#111;display:flex;justify-items:center;flex-direction:column;border-radius:15px;transition:all .2s ease-in-out}.row[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:10px}.row-item[_ngcontent-%COMP%]{min-width:50px;padding:10px;background:#222;border-radius:50vh;border:none;display:flex;align-items:center;justify-content:center;color:#999}.row-item[_ngcontent-%COMP%]:hover{scale:1.1}.row-item[_ngcontent-%COMP%]:active{scale:.98}.list-item[_ngcontent-%COMP%]{margin:10px;background:#222;padding:20px;border-radius:15px}.list-item[_ngcontent-%COMP%]:hover{border:1px solid #222;scale:1.02}.grid-two[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr}#prise-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.transactionPrise[_ngcontent-%COMP%]{color:#ef4444}.transactionPrise.income[_ngcontent-%COMP%]{color:#22c55e}"]})};var l5=["barChart"],u5=["pieChart"],d5=["lineChart"],Gp=class t{constructor(n){this.cdr=n}barChart;pieChart;lineChart;transactions=[];income=0;expense=0;total=0;categoryBarChartData={labels:["Food","Transport","Fun","Income","Other"],title:"categories",datasets:[{label:"Categories",data:[0,0,0,0,0],backgroundColor:["#3B82F6","#3B82F6","#3B82F6","#3B82F6","#3B82F6"]}]};categoryPieChartData={labels:["Food","Transport","Fun","Income","Other"],title:"categories",datasets:[{label:"Categories",data:[0,0,0,0,0],backgroundColor:["#3B82F6","#3B82F6","#3B82F6","#3B82F6","#3B82F6"]}]};IEBarChartData={labels:["Income","Expense"],datasets:[{label:"Income/Expense",data:[0,0],backgroundColor:["#3B82F6","#60A5FA"]}]};IEPieChartData={labels:["Income","Expense"],datasets:[{label:"Income/Expense",data:[0,0],backgroundColor:["#3B82F6","#60A5FA"]}]};barChartOptions={responsive:!0,plugins:{legend:{display:!0,position:"bottom",labels:{color:"#fff",font:{size:14},usePointStyle:!0}},tooltip:{enabled:!0,backgroundColor:"#222",titleColor:"#fff",bodyColor:"#fff"}}};pieChartOptions={responsive:!0,plugins:{legend:{display:!0,position:"bottom",labels:{color:"#fff",font:{size:14},usePointStyle:!0}},tooltip:{enabled:!0,backgroundColor:"#222",titleColor:"#fff",bodyColor:"#fff"}}};ngOnInit(){this.loadTransactions(),this.cdr.detectChanges()}async calcChartData(){let{data:n}=await Re.auth.getUser(),e=n.user?.email,{data:r}=await Re.from("Transactions").select("transactions").eq("user",e).single();if(!r?.transactions)return;let i=0,o=0,s=0,a=0,c=0,l=0;r.transactions.forEach(u=>{let d=u.category?.toLowerCase();if(u.income)a+=u.prise;else switch(c+=u.prise,d){case"food":i+=u.prise;break;case"transport":o+=u.prise;break;case"fun":s+=u.prise;break;default:l+=u.prise;break}}),this.income=a,this.expense=c,this.total=a-c,this.categoryBarChartData.datasets[0].data=[i,o,s,a,l],this.categoryPieChartData.datasets[0].data=[i,o,s,a,l],this.IEBarChartData.datasets[0].data=[a,c],this.IEPieChartData.datasets[0].data=[a,c],this.cdr.detectChanges(),this.barChart?.update(),this.pieChart?.update()}async loadTransactions(){let{data:n}=await Re.auth.getUser(),e=n.user?.email,{data:r,error:i}=await Re.from("Transactions").select("transactions").eq("user",e).single();if(i){this.transactions=[];return}this.transactions=r.transactions||[],this.calcChartData()}static \u0275fac=function(e){return new(e||t)(j(Qe))};static \u0275cmp=me({type:t,selectors:[["app-analytics"]],viewQuery:function(e,r){if(e&1&&(Nn(l5,5),Nn(u5,5),Nn(d5,5)),e&2){let i;dn(i=fn())&&(r.barChart=i.first),dn(i=fn())&&(r.pieChart=i.first),dn(i=fn())&&(r.lineChart=i.first)}},decls:17,vars:12,consts:[["barChart",""],["pieChart",""],[1,"container"],[1,"grid-two"],[1,"card"],["baseChart","",3,"data","type","options"]],template:function(e,r){e&1&&(S(0,"div",2)(1,"h1"),P(2,"Analytics"),T(),S(3,"div",3)(4,"div",4),We(5,"canvas",5,0),T(),S(7,"div",4),We(8,"canvas",5,1),T()(),S(10,"div",3)(11,"div",4),We(12,"canvas",5,1),T(),S(14,"div",4),We(15,"canvas",5,0),T()()()),e&2&&(U(5),ye("data",r.categoryBarChartData)("type","bar")("options",r.barChartOptions),U(3),ye("data",r.categoryPieChartData)("type","pie")("options",r.pieChartOptions),U(4),ye("data",r.IEPieChartData)("type","pie")("options",r.pieChartOptions),U(3),ye("data",r.IEBarChartData)("type","bar")("options",r.barChartOptions))},dependencies:[Hh,$h],styles:[".container[_ngcontent-%COMP%]{padding:20px}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{color:#fff}column[_ngcontent-%COMP%]{display:flex;flex-direction:column}.grid-two[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr}.card[_ngcontent-%COMP%]{padding:20px;margin:10px;background:#111;display:flex;justify-items:center;align-items:center;flex-direction:column;border-radius:15px;transition:all .2s ease-in-out;max-height:30vh}.card[_ngcontent-%COMP%]:hover{scale:1.02;border:1px solid #222}"]})};var hO=[{path:"",component:zp},{path:"dashboard",component:Mp},{path:"transactions",component:Hp},{path:"categories",component:Wp},{path:"analytics",component:Gp}];var pO={providers:[Mm(),zv(hO)]};function gO(t){return Error(`Unable to find icon with the name "${t}"`)}function f5(){return Error("Could not find HttpClient for use with Angular Material icons. Please add provideHttpClient() to your providers.")}function mO(t){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${t}".`)}function yO(t){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${t}".`)}var Gr=class{url;svgText;options;svgElement;constructor(n,e,r){this.url=n,this.svgText=e,this.options=r}},bO=(()=>{class t{_httpClient;_sanitizer;_errorHandler;_document;_svgIconConfigs=new Map;_iconSetConfigs=new Map;_cachedIconsByUrl=new Map;_inProgressUrlFetches=new Map;_fontCssClassesByAlias=new Map;_resolvers=[];_defaultFontSetClass=["material-icons","mat-ligature-font"];constructor(e,r,i,o){this._httpClient=e,this._sanitizer=r,this._errorHandler=o,this._document=i}addSvgIcon(e,r,i){return this.addSvgIconInNamespace("",e,r,i)}addSvgIconLiteral(e,r,i){return this.addSvgIconLiteralInNamespace("",e,r,i)}addSvgIconInNamespace(e,r,i,o){return this._addSvgIconConfig(e,r,new Gr(i,null,o))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,r,i,o){let s=this._sanitizer.sanitize(ht.HTML,i);if(!s)throw yO(i);let a=qa(s);return this._addSvgIconConfig(e,r,new Gr("",a,o))}addSvgIconSet(e,r){return this.addSvgIconSetInNamespace("",e,r)}addSvgIconSetLiteral(e,r){return this.addSvgIconSetLiteralInNamespace("",e,r)}addSvgIconSetInNamespace(e,r,i){return this._addSvgIconSetConfig(e,new Gr(r,null,i))}addSvgIconSetLiteralInNamespace(e,r,i){let o=this._sanitizer.sanitize(ht.HTML,r);if(!o)throw yO(r);let s=qa(o);return this._addSvgIconSetConfig(e,new Gr("",s,i))}registerFontClassAlias(e,r=e){return this._fontCssClassesByAlias.set(e,r),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){let r=this._sanitizer.sanitize(ht.RESOURCE_URL,e);if(!r)throw mO(e);let i=this._cachedIconsByUrl.get(r);return i?W(qp(i)):this._loadSvgIconFromConfig(new Gr(e,null)).pipe(Je(o=>this._cachedIconsByUrl.set(r,o)),X(o=>qp(o)))}getNamedSvgIcon(e,r=""){let i=vO(r,e),o=this._svgIconConfigs.get(i);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(r,e),o)return this._svgIconConfigs.set(i,o),this._getSvgFromConfig(o);let s=this._iconSetConfigs.get(r);return s?this._getSvgFromIconSetConfigs(e,s):oc(gO(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?W(qp(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(X(r=>qp(r)))}_getSvgFromIconSetConfigs(e,r){let i=this._extractIconWithNameFromAnySet(e,r);if(i)return W(i);let o=r.filter(s=>!s.svgText).map(s=>this._loadSvgIconSetFromConfig(s).pipe(Xi(a=>{let l=`Loading icon set URL: ${this._sanitizer.sanitize(ht.RESOURCE_URL,s.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(l)),W(null)})));return ac(o).pipe(X(()=>{let s=this._extractIconWithNameFromAnySet(e,r);if(!s)throw gO(e);return s}))}_extractIconWithNameFromAnySet(e,r){for(let i=r.length-1;i>=0;i--){let o=r[i];if(o.svgText&&o.svgText.toString().indexOf(e)>-1){let s=this._svgElementFromConfig(o),a=this._extractSvgIconFromSet(s,e,o.options);if(a)return a}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(Je(r=>e.svgText=r),X(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?W(null):this._fetchIcon(e).pipe(Je(r=>e.svgText=r))}_extractSvgIconFromSet(e,r,i){let o=e.querySelector(`[id="${r}"]`);if(!o)return null;let s=o.cloneNode(!0);if(s.removeAttribute("id"),s.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(s,i);if(s.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(s),i);let a=this._svgElementFromString(qa("<svg></svg>"));return a.appendChild(s),this._setSvgAttributes(a,i)}_svgElementFromString(e){let r=this._document.createElement("DIV");r.innerHTML=e;let i=r.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(e){let r=this._svgElementFromString(qa("<svg></svg>")),i=e.attributes;for(let o=0;o<i.length;o++){let{name:s,value:a}=i[o];s!=="id"&&r.setAttribute(s,a)}for(let o=0;o<e.childNodes.length;o++)e.childNodes[o].nodeType===this._document.ELEMENT_NODE&&r.appendChild(e.childNodes[o].cloneNode(!0));return r}_setSvgAttributes(e,r){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),r&&r.viewBox&&e.setAttribute("viewBox",r.viewBox),e}_fetchIcon(e){let{url:r,options:i}=e,o=i?.withCredentials??!1;if(!this._httpClient)throw f5();if(r==null)throw Error(`Cannot fetch icon from URL "${r}".`);let s=this._sanitizer.sanitize(ht.RESOURCE_URL,r);if(!s)throw mO(r);let a=this._inProgressUrlFetches.get(s);if(a)return a;let c=this._httpClient.get(s,{responseType:"text",withCredentials:o}).pipe(X(l=>qa(l)),eo(()=>this._inProgressUrlFetches.delete(s)),Cg());return this._inProgressUrlFetches.set(s,c),c}_addSvgIconConfig(e,r,i){return this._svgIconConfigs.set(vO(e,r),i),this}_addSvgIconSetConfig(e,r){let i=this._iconSetConfigs.get(e);return i?i.push(r):this._iconSetConfigs.set(e,[r]),this}_svgElementFromConfig(e){if(!e.svgElement){let r=this._svgElementFromString(e.svgText);this._setSvgAttributes(r,e.options),e.svgElement=r}return e.svgElement}_getIconConfigFromResolvers(e,r){for(let i=0;i<this._resolvers.length;i++){let o=this._resolvers[i](r,e);if(o)return h5(o)?new Gr(o.url,null,o.options):new Gr(o,null)}}static \u0275fac=function(r){return new(r||t)(L(_v,8),L(wv),L(xe,8),L(Pt))};static \u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function qp(t){return t.cloneNode(!0)}function vO(t,n){return t+":"+n}function h5(t){return!!(t.url&&t.options)}var p5=["*"],g5=new k("MAT_ICON_DEFAULT_OPTIONS"),m5=new k("mat-icon-location",{providedIn:"root",factory:()=>{let t=E(xe),n=t?t.location:null;return{getPathname:()=>n?n.pathname+n.search:""}}}),_O=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],y5=_O.map(t=>`[${t}]`).join(", "),v5=/^url\(['"]?#(.*?)['"]?\)$/,wO=(()=>{class t{_elementRef=E(Pe);_iconRegistry=E(bO);_location=E(m5);_errorHandler=E(Pt);_defaultColor;get color(){return this._color||this._defaultColor}set color(e){this._color=e}_color;inline=!1;get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}_svgIcon;get fontSet(){return this._fontSet}set fontSet(e){let r=this._cleanupFontValue(e);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}_fontSet;get fontIcon(){return this._fontIcon}set fontIcon(e){let r=this._cleanupFontValue(e);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}_fontIcon;_previousFontSetClass=[];_previousFontIconClass;_svgName;_svgNamespace;_previousPath;_elementsWithExternalReferences;_currentIconFetch=Ye.EMPTY;constructor(){let e=E(new li("aria-hidden"),{optional:!0}),r=E(g5,{optional:!0});r&&(r.color&&(this.color=this._defaultColor=r.color),r.fontSet&&(this.fontSet=r.fontSet)),e||this._elementRef.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];let r=e.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let e=this._elementsWithExternalReferences;if(e&&e.size){let r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();let r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){let e=this._elementRef.nativeElement,r=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){let i=e.childNodes[r];(i.nodeType!==1||i.nodeName.toLowerCase()==="svg")&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let e=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(i=>i.length>0);this._previousFontSetClass.forEach(i=>e.classList.remove(i)),r.forEach(i=>e.classList.add(i)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return typeof e=="string"?e.trim().split(" ")[0]:e}_prependPathToReferences(e){let r=this._elementsWithExternalReferences;r&&r.forEach((i,o)=>{i.forEach(s=>{o.setAttribute(s.name,`url('${e}#${s.value}')`)})})}_cacheChildrenWithExternalReferences(e){let r=e.querySelectorAll(y5),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<r.length;o++)_O.forEach(s=>{let a=r[o],c=a.getAttribute(s),l=c?c.match(v5):null;if(l){let u=i.get(a);u||(u=[],i.set(a,u)),u.push({name:s,value:l[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){let[r,i]=this._splitIconName(e);r&&(this._svgNamespace=r),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,r).pipe(Cn(1)).subscribe(o=>this._setSvgElement(o),o=>{let s=`Error retrieving icon ${r}:${i}! ${o.message}`;this._errorHandler.handleError(new Error(s))})}}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=me({type:t,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(r,i){r&2&&(Qn("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),Bc(i.color?"mat-"+i.color:""),Ge("mat-icon-inline",i.inline)("mat-icon-no-color",i.color!=="primary"&&i.color!=="accent"&&i.color!=="warn"))},inputs:{color:"color",inline:[2,"inline","inline",_t],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],ngContentSelectors:p5,decls:1,vars:0,template:function(r,i){r&1&&(wo(),Eo(0))},styles:[`mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color, inherit)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}
`],encapsulation:2,changeDetection:0})}return t})();var Kp=class t{static \u0275fac=function(e){return new(e||t)};static \u0275cmp=me({type:t,selectors:[["app-sidebar"]],decls:26,vars:0,consts:[[1,"sidebar"],[1,"sidebarInner"],["routerLink","dashboard"],[1,"chooseItem"],["routerLink","transactions"],["routerLink","categories"],["routerLink","analytics"]],template:function(e,r){e&1&&(S(0,"div",0)(1,"div",1)(2,"button",2)(3,"div",3)(4,"mat-icon"),P(5,"home"),T(),S(6,"h1"),P(7,"Dashboard"),T()()(),S(8,"button",4)(9,"div",3)(10,"mat-icon"),P(11,"receipt_long"),T(),S(12,"h1"),P(13,"Transactions"),T()()(),S(14,"button",5)(15,"div",3)(16,"mat-icon"),P(17,"folder"),T(),S(18,"h1"),P(19,"Categories"),T()()(),S(20,"button",6)(21,"div",3)(22,"mat-icon"),P(23,"bar_chart"),T(),S(24,"h1"),P(25,"Analytics"),T()()()()())},dependencies:[wO,Wf],styles:[".sidebar[_ngcontent-%COMP%]{width:15vw;height:100vh;background:#111;position:fixed;left:0;display:flex;flex-direction:column;align-items:center;justify-content:center}.sidebarInner[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}h1[_ngcontent-%COMP%]{color:#fff;background:#111;margin:10px}mat-icon[_ngcontent-%COMP%]{color:#fff}.chooseItem[_ngcontent-%COMP%]{cursor:pointer;display:flex;flex-direction:column;align-items:center;justify-content:center;background:#111}button[_ngcontent-%COMP%]{border:none;background:#111}button[_ngcontent-%COMP%]:hover{scale:1.1}button[_ngcontent-%COMP%]:active{scale:.98}"]})};function b5(t,n){if(t&1){let e=ci();S(0,"div",4)(1,"h1"),P(2,"Login"),T(),S(3,"input",5),pn("ngModelChange",function(i){Ae(e);let o=Ue(2);return Fn(o.email,i)||(o.email=i),ke(i)}),T(),S(4,"input",6),pn("ngModelChange",function(i){Ae(e);let o=Ue(2);return Fn(o.password,i)||(o.password=i),ke(i)}),T(),S(5,"button",7),fe("click",function(){Ae(e);let i=Ue(2);return ke(i.login())}),P(6,"Login"),T(),S(7,"button",8),fe("click",function(){Ae(e);let i=Ue(2);return ke(i.loginCard=!1)}),P(8,"Don't have an account? create one"),T()()}if(t&2){let e=Ue(2);U(3),hn("ngModel",e.email),U(),hn("ngModel",e.password)}}function _5(t,n){if(t&1){let e=ci();S(0,"div",4)(1,"h1"),P(2,"Sign Up"),T(),S(3,"input",5),pn("ngModelChange",function(i){Ae(e);let o=Ue(2);return Fn(o.email,i)||(o.email=i),ke(i)}),T(),S(4,"input",6),pn("ngModelChange",function(i){Ae(e);let o=Ue(2);return Fn(o.password,i)||(o.password=i),ke(i)}),T(),S(5,"button",7),fe("click",function(){Ae(e);let i=Ue(2);return ke(i.register())}),P(6,"Sign Up"),T(),S(7,"button",8),fe("click",function(){Ae(e);let i=Ue(2);return ke(i.loginCard=!0)}),P(8,"Already have an account? login"),T()()}if(t&2){let e=Ue(2);U(3),hn("ngModel",e.email),U(),hn("ngModel",e.password)}}function w5(t,n){if(t&1&&(S(0,"div")(1,"div",2),Jt(2,b5,9,2,"div",3)(3,_5,9,2,"div",3),T()()),t&2){let e=Ue();U(2),ye("ngIf",e.loginCard),U(),ye("ngIf",!e.loginCard)}}function E5(t,n){t&1&&We(0,"app-sidebar",12)}function D5(t,n){if(t&1&&(S(0,"div",9),Jt(1,E5,1,0,"app-sidebar",10),S(2,"div",11),We(3,"router-outlet"),T()()),t&2){let e=Ue();U(),ye("ngIf",e.isLogInd)}}var Yp=class t{constructor(n,e){this.router=n;this.cdr=e}isLogInd=!1;loginCard=!0;email="";password="";async login(){let{error:n}=await Re.auth.signInWithPassword({email:this.email,password:this.password});if(n){alert(n.message);return}await localStorage.setItem("IsLogin","true"),this.isLogInd=!0,this.cdr.detectChanges(),this.router.navigate(["/dashboard"])}async register(){let{error:n}=await Re.auth.signUp({email:this.email,password:this.password});if(n){alert(n.message);return}await localStorage.setItem("IsLogin","true"),this.isLogInd=!0,this.cdr.detectChanges(),this.router.navigate(["/dashboard"])}static \u0275fac=function(e){return new(e||t)(j(Nr),j(Qe))};static \u0275cmp=me({type:t,selectors:[["app-root"]],decls:2,vars:2,consts:[[4,"ngIf"],["class","layout",4,"ngIf"],[1,"container"],["class","card",4,"ngIf"],[1,"card"],["type","text","placeholder","you@example.de",3,"ngModelChange","ngModel"],["type","password","placeholder","Password",3,"ngModelChange","ngModel"],[1,"auth-button",3,"click"],[1,"changeText",3,"click"],[1,"layout"],["class","sidebar",4,"ngIf"],[1,"content"],[1,"sidebar"]],template:function(e,r){e&1&&Jt(0,w5,4,2,"div",0)(1,D5,4,1,"div",1),e&2&&(ye("ngIf",!r.isLogInd),U(),ye("ngIf",r.isLogInd))},dependencies:[dl,Kp,zc,Ga,Wa,Pp,uu],styles:[".layout[_ngcontent-%COMP%]{display:flex;height:100vh;width:100%;overflow:hidden}.sidebar[_ngcontent-%COMP%]{width:15vw;height:100vh;background:#111;position:fixed;left:0;top:0;display:flex;flex-direction:column;align-items:center;justify-content:center;z-index:10}.content[_ngcontent-%COMP%]{margin-left:15vw;flex-grow:1;height:100vh;overflow-y:auto;background:#0d0d0f;padding:20px}.container[_ngcontent-%COMP%]{padding:20px;height:100vh;display:flex;justify-content:center;align-items:center;background:#0d0d0f}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{color:#fff}.card[_ngcontent-%COMP%]{padding:20px;margin:10px;background:#111;display:flex;justify-items:center;align-items:center;flex-direction:column;border-radius:15px;transition:all .2s ease-in-out}.card[_ngcontent-%COMP%]:hover{scale:1.02;border:1px solid #222}input[_ngcontent-%COMP%]{width:40vw;border-radius:15px;border:1px solid #333;padding:16px;color:#fff;background:#222;margin:5px}.auth-button[_ngcontent-%COMP%]{border:none;background:#4a90e2;padding:16px;border-radius:15px;color:#fff;cursor:pointer;width:30vw;display:flex;align-self:center;align-items:center;justify-content:center;margin:5px}.auth-button[_ngcontent-%COMP%]:hover{scale:1.01}.auth-button[_ngcontent-%COMP%]:active{scale:.99}.changeText[_ngcontent-%COMP%]{background:none;border:none;color:#fff;cursor:pointer}"]})};gv(Yp,pO).catch(t=>console.error(t));
